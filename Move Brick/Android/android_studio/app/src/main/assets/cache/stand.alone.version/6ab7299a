!function(){"use strict";class e{static Lerp_ZMDGJ_(e,t,_){return e==t?t:e>t?(i=e-_)<=t?t:i:e<t?(i=e+_)>=t?t:i:void 0;var i}static lerp_ZMDGJ_Euler_ZMDGJ_Angle(t,_,i){return t=(t=t%360)>=0?t:360+t,_=(_=_%360)>=0?_:360+_,Math.abs(_-t)>180&&(t<_?_-=360:t>_&&(_+=360)),e.Lerp_ZMDGJ_(t,_,i)}static get_ZMDGJ_RotationBy_ZMDGJ_Dir(t){var _=(t.x*e.poin_ZMDGJ_Down.x+t.y*e.poin_ZMDGJ_Down.y)/(t.distance(0,0)*e.poin_ZMDGJ_Down.distance(0,0)),i=Math.acos(_)/(2*Math.PI)*360;return t.x<0&&(i=-i),i}static get_ZMDGJ_Rotation_ZMDGJ_ByDirOn3DSpace(t){var _=(t.x*e.poin_ZMDGJ_Up.x+t.y*e.poin_ZMDGJ_Up.y)/(t.distance(0,0)*e.poin_ZMDGJ_Up.distance(0,0)),i=Math.acos(_)/(2*Math.PI)*360;return t.x<0&&(i+=2*(180-i)),i}static get_ZMDGJ_DirBy_ZMDGJ_Rotation(e){var t=(e-90)*Math.PI/180,_=Math.cos(t),i=Math.sin(t),n=new Laya.Point(_,i);return n.normalize(),n}static get_ZMDGJ_DirDir_ZMDGJ_Angle(e,t){var _=(e.x*t.x+e.y*t.y)/(e.distance(0,0)*t.distance(0,0));return Math.acos(_)/(2*Math.PI)*360}static get_ZMDGJ_Dir_ZMDGJ_ScalarLength(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static set_ZMDGJ_SpOn_ZMDGJ_ParentCenter(e){if(null!=e.parent){var t=e.parent,_=0,i=(i=0)-e.width/2*e.scaleX+t.width/2;_=_-e.height/2*e.scaleY+t.height/2;e.x=i,e.y=_}}static get_ZMDGJ_Point_ZMDGJ_To_ZMDGJ_Line_ZMDGJ_Distance(e,t,_,i){var n=new Laya.Point(e-_.x,t-_.y),a=new Laya.Point(e-i.x,t-i.y),o=new Laya.Point(i.x-_.y,i.y-_.y),s=o.x*n.x+o.y*n.y;if(s<=0)return n.distance(0,0);if(o.x*a.x+o.y*a.y<=0)return a.distance(0,0);var r=n.distance(0,0),l=s/(r*o.distance(0,0)),D=Math.acos(l);return Math.sin(D)*r}static is_ZMDGJ_IphoneX(){return!!Laya.Browser.onIPhone&&(2436==Laya.Browser.width&&1125==Laya.Browser.height||2436==Laya.Browser.height&&1125==Laya.Browser.width)}static is_ZMDGJ_Iphone6(){if(!Laya.Browser.onIPhone)return!1;if(Laya.Browser.onMiniGame&&Laya.Browser.window.wx.getSystemInfoSync().model.indexOf("iPhone 6")>-1)return!0;return!1}static is_ZMDGJ_Iphone(){return Laya.Browser.onIPhone}static get_ZMDGJ_Child(t,_){for(var i=0;i<t.numChildren;++i){var n=t.getChildAt(i);if(n.name==_)return n;var a=e.get_ZMDGJ_Child(n,_);if(a)return a}return null}static for_ZMDGJ_Each_ZMDGJ_Child(t,_){for(let i=0;i<t.numChildren;++i){let n=t.getChildAt(i);_(n),e.for_ZMDGJ_Each_ZMDGJ_Child(n,_)}}}e.Origin_ZMDGJ_StageWidth=1334,e.Origin_ZMDGJ_StageHeight=750,e.grayscale_ZMDGJ_Mat=[.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0],e.grayscale_ZMDGJ_Filter=new Laya.ColorFilter(e.grayscale_ZMDGJ_Mat),e.poin_ZMDGJ_Down=new Laya.Point(0,-1),e.poin_ZMDGJ_Up=new Laya.Point(0,1);class t{}t.App_ZMDGJ_ID="",t.Res_ZMDGJ_Server="",t.Local_ZMDGJ_Test_ZMDGJ_ReServer="subRes",t.Versions_ZMDGJ_="1.0.0",t.onTTMiniGame=!1,t.Game_ZMDGJ_Name="",t.showLoadingLogo=!1;class _{constructor(){this.ver_ZMDGJ_sion="",this.ba_ZMDGJ_nner=0,this.wu_ZMDGJ_dian=0,this.wudianAvailableTime={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},this.mai_ZMDGJ_liang=1,this.mailiang_ZMDGJ_list=new Array,this.mailiang_ZMDGJ_Scene_ZMDGJ_List=new Array,this.wx_ZMDGJ_Wu_ZMDGJ_Dian_ZMDGJ_Banners=new Array,this.recreate_ZMDGJ_Banner_ZMDGJ_IDList=new Array,this.banner_ZMDGJ_Recreate_ZMDGJ_Time=5,this.kuang_ZMDGJ_dian_ZMDGJ_jiange=0,this.btn_ZMDGJ_Move_ZMDGJ_Timer=1,this.banner_ZMDGJ_Move_ZMDGJ_Timer=.5,this.banner_ZMDGJ_Fresh_ZMDGJ_Timer=200,this.banner_ZMDGJ_Create_ZMDGJ_FailNum=3,this.banner_ZMDGJ_Today_ZMDGJ_Banner_ZMDGJ_Max=10,this.ad_ZMDGJ_Switch=1,this.wu_ZMDGJ_dian_ZMDGJ_Scene_ZMDGJ_List=new Array,this.continue_ZMDGJ_Btn_ZMDGJ_DelayTime=2,this.banner_ZMDGJ_Show_ZMDGJ_Time=30,this.fakeBtn=0,this.pop_ZMDGJ_Ad=0,this.continue_ZMDGJ_Banner=0,this.continue_ZMDGJ_Banner_ZMDGJ_ShowTime=2,this.continue_ZMDGJ_Banner_ZMDGJ_HideTime=2,this.oppo_ZMDGJ_cfg=new n,this.qq_ZMDGJ_cfg=new a,this.tt_ZMDGJ_cfg=new o,this.vivocfg=new s,this.wxcfg=new i}get wudianTimeAvaliable(){return 1==this.wudianAvailableTime[(new Date).getHours()]}}class i{constructor(){this.kuang_ZMDGJ_dian_ZMDGJ_Banner=0,this.kuang_ZMDGJ_dian_ZMDGJ_LevelSpcacing=0,this.startKuangdianLevel=1}}class n{constructor(){this.yuan_ZMDGJ_sheng=100,this.yuan_ZMDGJ_sheng_ZMDGJ_Switch=1,this.add_ZMDGJ_To_ZMDGJ_Desktop=0,this.oppo_ZMDGJ_versions="",this.btn_ZMDGJ_Show_ZMDGJ_Timer=0,this.index_ZMDGJ_Ad_ZMDGJ_Switch=0,this.end_ZMDGJ_Ad_ZMDGJ_Switch=0,this.yuan_ZMDGJ_sheng2=100,this.yuan_ZMDGJ_sheng_ZMDGJ_Switch2=1}}class a{constructor(){this.kuang_ZMDGJ_dian_ZMDGJ_Banner=0,this.kuangdian_ZMDGJ_Box=0,this.box=0,this.wei_ZMDGJ_yi=0,this.qq_ZMDGJ_versions=""}}class o{constructor(){this.more_ZMDGJ_Game_ZMDGJ_Switch=0,this.kuang_ZMDGJ_dian_ZMDGJ_Banner=0,this.lu_ZMDGJ_ping=0,this.tt_ZMDGJ_versions=""}}class s{constructor(){this.yuanshengSwitch=1,this.yuansheng=100,this.yuanshengSwitch2=1,this.yuansheng2=100,this.chapingSwitch=1,this.chaping=100,this.addToDesktop=1,this.vivoversions="",this.btnShowTimer=1}}class r{constructor(){this._data=new Array}static get_ZMDGJ_Instance(){return null==r._instance&&(r._instance=r.lo_ZMDGJ_ad()),r._instance}static lo_ZMDGJ_ad(){var e=new r,i=Laya.loader.getRes(t.Res_ZMDGJ_Server+"/json/appswitch.json");if(i){for(var n=0;n<i.length;++n){var a=i[n],o=new _;o.ver_ZMDGJ_sion=String(a.version),o.ba_ZMDGJ_nner=Number(a.banner),o.wu_ZMDGJ_dian=Number(a.wudian),o.wudianAvailableTime=Object(a.wudianTime),o.mai_ZMDGJ_liang=Number(a.mailiang);var s=a.mailianglist;if(null!=s)for(var l=0;l<s.length;++l){var D=Number(s[l]);o.mailiang_ZMDGJ_list.push(D)}var M=a.mailiangScenelist;if(null!=M)for(l=0;l<M.length;++l){var G=Number(M[l]);o.mailiang_ZMDGJ_Scene_ZMDGJ_List.push(G)}var h=a.wxwudianbanners;if(null!=h)for(l=0;l<h.length;++l){var Z=String(h[l]);o.wx_ZMDGJ_Wu_ZMDGJ_Dian_ZMDGJ_Banners.push(Z)}var c=a.recreateBannerIDList;if(null!=c)for(l=0;l<c.length;++l){let e=String(c[l]);o.recreate_ZMDGJ_Banner_ZMDGJ_IDList.push(e)}o.banner_ZMDGJ_Recreate_ZMDGJ_Time=null!=a.bannerRecreateTime?Number(a.bannerRecreateTime):o.banner_ZMDGJ_Recreate_ZMDGJ_Time,o.kuang_ZMDGJ_dian_ZMDGJ_jiange=null!=a.kuangdianjiange?Number(a.kuangdianjiange):o.kuang_ZMDGJ_dian_ZMDGJ_jiange,o.btn_ZMDGJ_Move_ZMDGJ_Timer=Number(a.btnMoveTimer),o.banner_ZMDGJ_Move_ZMDGJ_Timer=Number(a.bannerMoveTimer),o.banner_ZMDGJ_Create_ZMDGJ_FailNum=Number(a.createFailNum),o.banner_ZMDGJ_Fresh_ZMDGJ_Timer=Number(a.bannerFreshTimer),o.banner_ZMDGJ_Today_ZMDGJ_Banner_ZMDGJ_Max=Number(a.todayBannerMax),o.ad_ZMDGJ_Switch=Number(a.adSwitch);var J=a.wudianSceneList;if(null!=J)for(l=0;l<J.length;++l){var d=Number(J[l]);o.wu_ZMDGJ_dian_ZMDGJ_Scene_ZMDGJ_List.push(d)}if(o.continue_ZMDGJ_Btn_ZMDGJ_DelayTime=Number(a.continueBtnDelayTime),o.banner_ZMDGJ_Show_ZMDGJ_Time=Number(a.bannerShowTime),o.fakeBtn=null!=a.fakeBtn?Number(a.fakeBtn):o.fakeBtn,o.pop_ZMDGJ_Ad=null!=a.popAd?Number(a.popAd):o.pop_ZMDGJ_Ad,o.continue_ZMDGJ_Banner=null!=a.continueBanner?Number(a.continueBanner):o.continue_ZMDGJ_Banner,o.continue_ZMDGJ_Banner_ZMDGJ_ShowTime=null!=a.continueBannerShowTime?Number(a.continueBannerShowTime):o.continue_ZMDGJ_Banner_ZMDGJ_ShowTime,o.continue_ZMDGJ_Banner_ZMDGJ_HideTime=null!=a.continueBannerHideTime?Number(a.continueBannerHideTime):o.continue_ZMDGJ_Banner_ZMDGJ_HideTime,null!=a.oppocfg){let e=a.oppocfg;o.oppo_ZMDGJ_cfg.yuan_ZMDGJ_sheng=Number(e.yuansheng),o.oppo_ZMDGJ_cfg.yuan_ZMDGJ_sheng_ZMDGJ_Switch=Number(e.yuanshengSwitch),o.oppo_ZMDGJ_cfg.add_ZMDGJ_To_ZMDGJ_Desktop=Number(e.addToDesktop),o.oppo_ZMDGJ_cfg.oppo_ZMDGJ_versions=String(e.oppoversions),o.oppo_ZMDGJ_cfg.btn_ZMDGJ_Show_ZMDGJ_Timer=Number(e.btnShowTimer),o.oppo_ZMDGJ_cfg.index_ZMDGJ_Ad_ZMDGJ_Switch=Number(e.indexAdSwitch),o.oppo_ZMDGJ_cfg.end_ZMDGJ_Ad_ZMDGJ_Switch=Number(e.endAdSwitch),o.oppo_ZMDGJ_cfg.yuan_ZMDGJ_sheng2=null!=e.yuansheng2?Number(e.yuansheng2):o.oppo_ZMDGJ_cfg.yuan_ZMDGJ_sheng2,o.oppo_ZMDGJ_cfg.yuan_ZMDGJ_sheng_ZMDGJ_Switch2=null!=e.yuanshengSwitch2?Number(e.yuanshengSwitch2):o.oppo_ZMDGJ_cfg.yuan_ZMDGJ_sheng_ZMDGJ_Switch2}if(null!=a.qqcfg){let e=a.qqcfg;o.qq_ZMDGJ_cfg.kuang_ZMDGJ_dian_ZMDGJ_Banner=Number(e.kuangdianBanner),o.qq_ZMDGJ_cfg.kuangdian_ZMDGJ_Box=Number(e.kuangdianBox),o.qq_ZMDGJ_cfg.box=Number(e.box),o.qq_ZMDGJ_cfg.wei_ZMDGJ_yi=Number(e.weiyi),o.qq_ZMDGJ_cfg.qq_ZMDGJ_versions=String(e.qqversions)}if(null!=a.ttcfg){let e=a.ttcfg;o.tt_ZMDGJ_cfg.more_ZMDGJ_Game_ZMDGJ_Switch=Number(e.moreGameSwitch),o.tt_ZMDGJ_cfg.kuang_ZMDGJ_dian_ZMDGJ_Banner=Number(e.kuangdianBanner),o.tt_ZMDGJ_cfg.lu_ZMDGJ_ping=Number(e.luping),o.tt_ZMDGJ_cfg.tt_ZMDGJ_versions=String(e.ttversions)}if(null!=a.vivocfg){let e=a.vivocfg;o.vivocfg.yuanshengSwitch=Number(e.yuanshengSwitch),o.vivocfg.yuansheng=Number(e.yuansheng),o.vivocfg.yuanshengSwitch2=Number(e.yuanshengSwitch2),o.vivocfg.yuansheng2=Number(e.yuansheng2),o.vivocfg.chapingSwitch=Number(e.chapingSwitch),o.vivocfg.chaping=Number(e.chaping),o.vivocfg.addToDesktop=Number(e.addToDesktop),o.vivocfg.vivoversions=String(e.vivoversions),o.vivocfg.btnShowTimer=Number(e.btnShowTimer)}if(null!=a.wxcfg){let e=a.wxcfg;o.wxcfg.kuang_ZMDGJ_dian_ZMDGJ_Banner=Number(e.kuangdianBanner),o.wxcfg.kuang_ZMDGJ_dian_ZMDGJ_LevelSpcacing=Number(e.kuangdianLevelSpcacing),o.wxcfg.startKuangdianLevel=Number(e.startKuangdianLevel)}e._data.push(o)}return e}return e._data.push(new _),e}get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data(){return this._data[0]}}class l{}l.state_ZMDGJ_=0,l.game_ZMDGJ_id=68,l.server_ZMDGJ_Url="",l.Login_ZMDGJ_="",l.Save_ZMDGJ_Game_ZMDGJ_Data="",l.Get_ZMDGJ_User="",l.Ip_ZMDGJ_Block="",l.report_ZMDGJ_Export="",l.report_ZMDGJ_Import="",l.get_ZMDGJ_user_ZMDGJ_ip="",l.signin="";var D,M,G,h,Z=Laya.EventDispatcher;class c extends Z{constructor(){super()}dis_ZMDGJ_patch(e,t){c.eventDispatcher.event(e,t)}reg_ZMDGJ_Evemt(e,t,_,i){c.eventDispatcher.on(e,t,_,null==i?null:[i])}reg_ZMDGJ_OnceEvent(e,t,_,i){c.eventDispatcher.once(e,t,_,null==i?null:[i])}remove_ZMDGJ_Event(e,t,_,i){c.eventDispatcher.off(e,t,_)}}c.eventDispatcher=new Z,c.ins_ZMDGJ_tance=new c,function(e){e[e.None=0]="None",e[e.App_Close_ZMDGJ_First_ZMDGJ_Loading_ZMDGJ_View=500]="App_Close_ZMDGJ_First_ZMDGJ_Loading_ZMDGJ_View",e[e.AD_On_ZMDGJ_ShareAd_ZMDGJ_Fail=501]="AD_On_ZMDGJ_ShareAd_ZMDGJ_Fail",e[e.Game_On_ZMDGJ_View_ZMDGJ_Open=600]="Game_On_ZMDGJ_View_ZMDGJ_Open",e[e.Game_On_ZMDGJ_View_ZMDGJ_Close=601]="Game_On_ZMDGJ_View_ZMDGJ_Close",e[e.Game_On_ZMDGJ_User_ZMDGJ_Money_ZMDGJ_Change=701]="Game_On_ZMDGJ_User_ZMDGJ_Money_ZMDGJ_Change",e[e.Game_On_ZMDGJ_User_ZMDGJ_Crystal_ZMDGJ_Change=702]="Game_On_ZMDGJ_User_ZMDGJ_Crystal_ZMDGJ_Change",e[e.Game_OnUserUnlockedStore=703]="Game_OnUserUnlockedStore",e[e.Game_On_ZMDGJ_Level_ZMDGJ_Start=1e3]="Game_On_ZMDGJ_Level_ZMDGJ_Start",e[e.Game_On_ZMDGJ_Level_ZMDGJ_Complate=1001]="Game_On_ZMDGJ_Level_ZMDGJ_Complate",e[e.AD_Wu_ZMDGJ_dianBanner_Load_ZMDGJ_Complete=2217]="AD_Wu_ZMDGJ_dianBanner_Load_ZMDGJ_Complete",e[e.AD_Wu_ZMDGJ_dian_ZMDGJ_Banner_Show=2218]="AD_Wu_ZMDGJ_dian_ZMDGJ_Banner_Show",e[e.AD_Wu_ZMDGJ_dian_ZMDGJ_Banner__ZMDGJ_Hide=2219]="AD_Wu_ZMDGJ_dian_ZMDGJ_Banner__ZMDGJ_Hide",e[e.AD_Wu_ZMDGJ_dian_ZMDGJ_Banner_Pre_ZMDGJ_Load=2220]="AD_Wu_ZMDGJ_dian_ZMDGJ_Banner_Pre_ZMDGJ_Load",e[e.App_On_ZMDGJ_Update_ZMDGJ_IpBlockState=2221]="App_On_ZMDGJ_Update_ZMDGJ_IpBlockState",e[e.Game_OnInputMove=1e4]="Game_OnInputMove",e[e.Game_OnInputStart=10001]="Game_OnInputStart",e[e.Game_OnInputRelease=10002]="Game_OnInputRelease",e[e.Game_TrySkin=10003]="Game_TrySkin",e[e.Game_BoxChange=20001]="Game_BoxChange",e[e.Game_BloodChange=20002]="Game_BloodChange",e[e.RewardVideoSuccess=20010]="RewardVideoSuccess",e[e.RewardVideoFail=20011]="RewardVideoFail",e[e.InsertVideoEnd=20012]="InsertVideoEnd"}(D||(D={}));class J extends Laya.Script{static get is_ZMDGJ_Login(){return""!=J.code_ZMDGJ_||""!=J._ZMDGJ_token}static get_ZMDGJ_Save_ZMDGJ_Data(){return JSON.stringify(J._game_ZMDGJ_Data)}static test_ZMDGJ_InitUser(){var e=Laya.LocalStorage.getItem("Game_Data");console.log("读取存储数据 str----"+e);var t=JSON.parse(e);if(null==t)return J._game_ZMDGJ_Data.levelNum=1,J._game_ZMDGJ_Data.moneyNum=0,J._game_ZMDGJ_Data.crystalNum=0,void this.set_ZMDGJ_FakerLeveNum();if(J._game_ZMDGJ_Data.levelNum=t.levelNum,J._game_ZMDGJ_Data.moneyNum=t.moneyNum,J._game_ZMDGJ_Data.crystalNum=t.crystalNum,null!=t.unlockedItem){let e=t.unlockedItem;for(let t=0;t<e.length;++t)J._game_ZMDGJ_Data.unlockedItem.push(e[t])}null!=t.usedItem&&(J._game_ZMDGJ_Data.usedItem=t.usedItem),this.set_ZMDGJ_FakerLeveNum()}static initi_ZMDGJ_User(e){if(e&&0!=e){if(J._game_ZMDGJ_Data.levelNum=e.levelNum,J._game_ZMDGJ_Data.moneyNum=e.moneyNum,J._game_ZMDGJ_Data.crystalNum=e.crystalNum,null!=e.unlockedItem){let t=e.unlockedItem;for(let e=0;e<t.length;++e)J._game_ZMDGJ_Data.unlockedItem.push(t[e])}null!=e.usedItem&&(J._game_ZMDGJ_Data.usedItem=e.usedItem)}this.set_ZMDGJ_FakerLeveNum()}static set_ZMDGJ_LeveNum(e){J._game_ZMDGJ_Data.levelNum=e,this.set_ZMDGJ_FakerLeveNum()}static get_ZMDGJ_LeveNum(){return J._game_ZMDGJ_Data.levelNum}static set_ZMDGJ_FakerLeveNum(){if(J.fakerLeveNum!=J.fakerNextLeveNum)J.fakerLeveNum=J._game_ZMDGJ_Data.levelNum<=J.maxLeveNum?J._game_ZMDGJ_Data.levelNum:J.fakerNextLeveNum;else if(J._game_ZMDGJ_Data.levelNum<=J.maxLeveNum)J.fakerLeveNum=J._game_ZMDGJ_Data.levelNum;else{var e=1;do{e=Math.ceil(Math.random()*J.maxLeveNum)}while(e<=0||e>J.maxLeveNum);J.fakerLeveNum=e}if(J._game_ZMDGJ_Data.levelNum<J.maxLeveNum)J.fakerNextLeveNum=J._game_ZMDGJ_Data.levelNum+1;else{e=1;do{e=Math.ceil(Math.random()*J.maxLeveNum)}while(e<=0||e>J.maxLeveNum||e==J.fakerLeveNum);J.fakerNextLeveNum=e}}static get_ZMDGJ_FakerNextLeveNum(){return J.fakerNextLeveNum}static get_ZMDGJ_FakerLeveNum(){return J.fakerLeveNum}static add_ZMDGJ_Money(e){e=Math.ceil(e);var t=J._game_ZMDGJ_Data.moneyNum;J._game_ZMDGJ_Data.moneyNum+=e,c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_On_ZMDGJ_User_ZMDGJ_Money_ZMDGJ_Change,{curr:J._game_ZMDGJ_Data.moneyNum,last:t})}static sub_ZMDGJ_Money(e){e=Math.ceil(e);var t=J._game_ZMDGJ_Data.moneyNum;J._game_ZMDGJ_Data.moneyNum-=e,J._game_ZMDGJ_Data.moneyNum<0&&(J._game_ZMDGJ_Data.moneyNum=0),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_On_ZMDGJ_User_ZMDGJ_Money_ZMDGJ_Change,{curr:J._game_ZMDGJ_Data.moneyNum,last:t})}static get_ZMDGJ_Money(){return J._game_ZMDGJ_Data.moneyNum}static add_ZMDGJ_Crystal(e){e=Math.ceil(e);var t=J._game_ZMDGJ_Data.crystalNum;J._game_ZMDGJ_Data.crystalNum+=e,c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_On_ZMDGJ_User_ZMDGJ_Crystal_ZMDGJ_Change,{curr:J._game_ZMDGJ_Data.crystalNum,last:t})}static sub_ZMDGJ_Crystal(e){e=Math.ceil(e);var t=J._game_ZMDGJ_Data.crystalNum;J._game_ZMDGJ_Data.crystalNum-=e,J._game_ZMDGJ_Data.crystalNum<0&&(J._game_ZMDGJ_Data.crystalNum=0),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_On_ZMDGJ_User_ZMDGJ_Crystal_ZMDGJ_Change,{curr:J._game_ZMDGJ_Data.crystalNum,last:t})}static get_ZMDGJ_Crystal(){return J._game_ZMDGJ_Data.crystalNum}static getItemUnlocked(){let e=new Array;for(let t=0;t<J._game_ZMDGJ_Data.unlockedItem.length;++t)e.push(J._game_ZMDGJ_Data.unlockedItem[t]);return e}static itemIsUnlocked(e){for(let t=0;t<J._game_ZMDGJ_Data.unlockedItem.length;++t)if(J._game_ZMDGJ_Data.unlockedItem[t]==e)return!0;return!1}static unlockItem(e){J.itemIsUnlocked(e)?console.log("商店重复解锁 id : ",e):(J._game_ZMDGJ_Data.unlockedItem.push(e),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_OnUserUnlockedStore,{unlocked:e}))}static get curUsedItem(){return J._game_ZMDGJ_Data.usedItem}static set curUsedItem(e){J._game_ZMDGJ_Data.usedItem=e}}J.code_ZMDGJ_="",J.openId_ZMDGJ_="",J._ZMDGJ_token=null,J.nick_ZMDGJ_Name="",J.gender_ZMDGJ_=0,J.maxLeveNum=20,J.fakerLeveNum=1,J.fakerNextLeveNum=1,J._game_ZMDGJ_Data=new class{constructor(){this.levelNum=1,this.moneyNum=0,this.crystalNum=0,this.unlockedItem=[0],this.usedItem=0}};class d{static en_ZMDGJ_crypt(e){return e}static de_ZMDGJ_crypt(e){return e}}d._ZMDGJ_KEY_ZMDGJ_="b#63fFJ6AvkK3YT*",d._ZMDGJ_IV_ZMDGJ_="J$f4DU%sNL73M&Go";class p{constructor(){this.meth_ZMDGJ_="post",this.url_ZMDGJ_="",this.on_ZMDGJ_Success=null,this.on_ZMDGJ_Fail=null,this._ZMDGJ_data_ZMDGJ_={}}}class g{static request_ZMDGJ_(e){e.url_ZMDGJ_.indexOf("https://")>-1||e.url_ZMDGJ_.indexOf("http://")>-1?e.url_ZMDGJ_=e.url_ZMDGJ_:e.url_ZMDGJ_=l.server_ZMDGJ_Url+e.url_ZMDGJ_;var _=new Laya.HttpRequest;_.once(Laya.Event.COMPLETE,g,t=>{console.log(t,"http Success"),e.on_ZMDGJ_Success&&e.on_ZMDGJ_Success(t),e.on_ZMDGJ_Success=null,e=null}),_.once(Laya.Event.ERROR,g,t=>{console.log(t,"http fail"),e.on_ZMDGJ_Fail&&e.on_ZMDGJ_Fail(t),e.on_ZMDGJ_Fail=null,e=null});JSON.stringify(e._ZMDGJ_data_ZMDGJ_);Laya.Browser.onMiniGame||t.onTTMiniGame?e._ZMDGJ_data_ZMDGJ_.code=J.code_ZMDGJ_:Laya.Browser.onQGMiniGame?e._ZMDGJ_data_ZMDGJ_.oppotoken=J.code_ZMDGJ_:(Laya.Browser.onQQMiniGame,e._ZMDGJ_data_ZMDGJ_.code=J.code_ZMDGJ_);var i="time="+String(Date.now()),n=["Content-Type","application/json","state",l.state_ZMDGJ_,"gameid",l.game_ZMDGJ_id,"sign",d.en_ZMDGJ_crypt(i)];J._ZMDGJ_token&&(n.push("token"),n.push(J._ZMDGJ_token)),_.send(e.url_ZMDGJ_,JSON.stringify(e._ZMDGJ_data_ZMDGJ_),e.meth_ZMDGJ_,"json",n)}static login_ZMDGJ_(e,t){var _=new p;_.url_ZMDGJ_=l.Login_ZMDGJ_,_.on_ZMDGJ_Success=e,_.on_ZMDGJ_Fail=t,g.request_ZMDGJ_(_)}static save_ZMDGJ_Game_ZMDGJ_Data(e,t,_){var i=new p;i.url_ZMDGJ_=l.Save_ZMDGJ_Game_ZMDGJ_Data,i._ZMDGJ_data_ZMDGJ_.gameData=e,i.on_ZMDGJ_Success=t,i.on_ZMDGJ_Fail=_,g.request_ZMDGJ_(i)}static get_ZMDGJ_Game_ZMDGJ_Data(e,t){var _=new p;_.url_ZMDGJ_=l.Get_ZMDGJ_User,_.on_ZMDGJ_Success=e,_.on_ZMDGJ_Fail=t,g.request_ZMDGJ_(_)}static Get_ZMDGJ_Ip_ZMDGJ_Block(e,t){if(-1!=l.game_ZMDGJ_id){var _=new p;_.url_ZMDGJ_=l.Ip_ZMDGJ_Block,_.on_ZMDGJ_Success=e,_.on_ZMDGJ_Fail=t,g.request_ZMDGJ_(_)}}static report_ZMDGJ_Export(e,t,_,i){var n=new p;n.url_ZMDGJ_=l.report_ZMDGJ_Export,n._ZMDGJ_data_ZMDGJ_.wbappid=e,n._ZMDGJ_data_ZMDGJ_.game_name=t,n.on_ZMDGJ_Success=_,n.on_ZMDGJ_Fail=i,g.request_ZMDGJ_(n)}static report_ZMDGJ_Import(e,t,_,i){var n=new p;n.url_ZMDGJ_=l.report_ZMDGJ_Import,n._ZMDGJ_data_ZMDGJ_.wbappid=e,n._ZMDGJ_data_ZMDGJ_.channel=t,n.on_ZMDGJ_Success=_,n.on_ZMDGJ_Fail=i,g.request_ZMDGJ_(n)}static Get_ZMDGJ_user_ZMDGJ_ip(e,t){var _=new p;_.url_ZMDGJ_=l.get_ZMDGJ_user_ZMDGJ_ip,_.on_ZMDGJ_Success=e,_.on_ZMDGJ_Fail=t,g.request_ZMDGJ_(_)}static SignIn(e,t){var _=new p;_.url_ZMDGJ_=l.signin,_.on_ZMDGJ_Success=e,_.on_ZMDGJ_Fail=t,_._ZMDGJ_data_ZMDGJ_.type=1,g.request_ZMDGJ_(_)}static GetSignIn(e,t){var _=new p;_.url_ZMDGJ_=l.signin,_.on_ZMDGJ_Success=e,_.on_ZMDGJ_Fail=t,_._ZMDGJ_data_ZMDGJ_.type=0,g.request_ZMDGJ_(_)}}class u{static _ZMDGJ_wxLogin_ZMDGJ_(e,t){Laya.Browser.onMiniGame&&Laya.Browser.window.wx.login({success:t=>{if(t.code){let _=t.code;e(_),console.log("登陆成功,获取到code : "+_)}}})}static on_ZMDGJ_Rewarded_ZMDGJ_VideoAdLoad(){console.log("激励视频 广告加载完成")}static onRewarded_ZMDGJ_Video_ZMDGJ_AdError(e){console.log("激励视频 广告加载失败"+e),u._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Failed&&u._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Failed()}static on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Close(e){e&&e.isEnded||null==e?(console.log("激励视频 已完整观看"),u._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Close&&u._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Close(!0)):(console.log("激励视频 未完整观看"),u._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Close&&u._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Close(!1))}static reg_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Event(e){e.onLoad(u.on_ZMDGJ_Rewarded_ZMDGJ_VideoAdLoad),e.onError(u.onRewarded_ZMDGJ_Video_ZMDGJ_AdError),e.onClose(u.on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Close),u._isReg_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Event=!0}static show_ZMDGJ_Rewarded_ZMDGJ_VideoAd(e,t){if(Laya.Browser.onMiniGame){u._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Close=e,u._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Failed=t;var _=Laya.Browser.window.wx.createRewardedVideoAd({adUnitId:u.ad_ZMDGJ_UnitId});u._isReg_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Event||u.reg_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Event(_),_.load().then(()=>{var e=_.show();e.then(()=>console.log("激励视频 广告显示成功")),e.catch(e=>{_.load().then(()=>_.show()).catch(e=>{console.log("激励视频 广告显示失败"),t&&t()})})}).catch(e=>{console.log("激励视频 广告加载失败"),t&&t()})}else e(!0)}static navigate_ZMDGJ_To_ZMDGJ_MiniProgram(e,t,_,i,n){Laya.Browser.onMiniGame&&(console.log("跳转游戏： "+e),Laya.Browser.window.wx.navigateToMiniProgram({appId:e,path:t,extraData:{foo:"bar"},envVersion:"release",success(e){_&&_(e)},fail(e){i&&i(e)},complete(e){n&&n(e)}}))}static share_ZMDGJ_(e,t,_){Laya.Browser.onMiniGame&&(u._onShow=(()=>{Laya.Browser.window.wx.offShow(u._onShow),u._onShow=null;Date.now(),this._lastShareTime;e&&(Date.now()-this._lastShareTime>2e3?e(!0):e(!1))}),Laya.Browser.window.wx.onShow(u._onShow),u._lastShareTime=Date.now(),Laya.Browser.window.wx.shareAppMessage({title:t,imageUrl:_}))}static show_ZMDGJ_Interstitial_ZMDGJ_Ad(e,t){if(Laya.Browser.onMiniGame){var _=Laya.Browser.window.wx.createInterstitialAd({adUnitId:u.Ins_ZMDGJ_AdUnitId});_.onLoad(()=>{console.log("插屏广告 加载完成"),_.show().catch(e=>{console.log("插屏广告 显示失败 ："+e),t&&t()})}),_.onError(e=>{console.log("插屏广告 加载失败"+e),t&&t()}),_.onClose(()=>{console.log("插屏广告 关闭"),e&&e()})}else e()}static get_ZMDGJ_Launch_ZMDGJ_Options_ZMDGJ_Sync(){if(Laya.Browser.onMiniGame){let e=Laya.Browser.window.wx.getLaunchOptionsSync();console.log("场景值 "+e.scene);let t=JSON.stringify(e.query);console.log("Query参数 "+t);let _=e.query.key;return console.log("Query参数：key "+_),console.log("ShareTicket "+e.shareTicket),console.log("ReferrerInfo.appId "+e.referrerInfo.appId),console.log("ReferrerInfo.extraData "+e.referrerInfo.extraData),e}return{scene:1001,query:"",shareTicket:"",appId:"",extraData:""}}static Set_ZMDGJ_Share_ZMDGJ_Menu(e,t,_,i,n){Laya.Browser.onMiniGame&&(console.log("小游戏设置转发按钮"),Laya.Browser.window.wx.showShareMenu({withShareTicket:!1,success:_,fail:i,complete:n}),Laya.Browser.window.wx.onShareAppMessage(function(){return{title:e,imageUrl:t}}))}static check_ZMDGJ_Update(){if(Laya.Browser.onMiniGame){var e=Laya.Browser.window.wx.getUpdateManager();e.onCheckForUpdate(function(e){console.log("是否需要更新 : ",e.hasUpdate)}),e.onUpdateReady(function(){Laya.Browser.window.wx.showModal({title:"更新提示",content:"新版本已经准备好，是否重启小游戏？",success:function(t){t.confirm&&e.applyUpdate()}})}),e.onUpdateFailed(function(){console.log("新版本下载失败!!!")})}}static tryShowWXCrazyClick(e,t,_,i){if(!w.Wu_ZMDGJ_dian_ZMDGJ_Flag||1!=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().wxcfg.kuang_ZMDGJ_dian_ZMDGJ_Banner)return void(i&&i());let n=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().wxcfg.kuang_ZMDGJ_dian_ZMDGJ_LevelSpcacing;if(0!=n){0==u._crazyClickShowCounter%n?y.ins_ZMDGJ_tance.open_ZMDGJ_View(M.WXCrazyClick,{Complete:t,titel:e},e=>{_&&_()}):i&&i(),++u._crazyClickShowCounter}else y.ins_ZMDGJ_tance.open_ZMDGJ_View(M.WXCrazyClick,{Complete:t,titel:e},e=>{_&&_()})}}u.ad_ZMDGJ_UnitId="adunit-34eb7092cc7ab967",u.banner_ZMDGJ_AdUnitId="adunit-ddfa85bf4306713f",u.Ins_ZMDGJ_AdUnitId="adunit-ddfa85bf4306713f",u.GameRecorder=new class{constructor(){this._recorder=null}get recorder(){return this._recorder}start(){null!=this.recorder&&this.recorder.start()}stop(){null!=this.recorder&&this.recorder.stop()}pause(){null!=this.recorder&&this.recorder.pause()}resume(){null!=this.recorder&&this.recorder.resume()}abort(){null!=this.recorder&&this.recorder.abort()}showShareBtn(){null!=this.recorder&&Laya.Browser.window.wx.createGameRecorderShareButton({style:{left:10,top:150,height:50,color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4,iconMarginRight:16,paddingLeft:1,paddingRight:30},image:"button.jpg",text:"自定义文案",icon:"icon.jpg",share:{query:"a=1&b=2",bgm:"walkin.mp3",timeRange:[[0,1e3],[2e3,3e3]],title:{template:"default.score",data:{score:6500}},button:{template:"default.enter"}}})}},u._isReg_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Event=!1,u._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Failed=null,u._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Close=null,u._onShow=null,u._lastShareTime=0,u._crazyClickShowCounter=0;class m{static _ZMDGJ_Login_ZMDGJ_(e,t){Laya.Browser.onQQMiniGame&&Laya.Browser.window.qq.login({success:t=>{if(t.code){let _=t.code;e(_),console.log("登陆成功,获取到code : "+_)}}})}static onRewarded_ZMDGJ_VideoAd_ZMDGJ_Load(){console.log("激励视频 广告加载完成")}static onRewarded_ZMDGJ_VideoAd_ZMDGJ_Error(e){console.log("激励视频 广告加载失败"+e),m._onRewarded_ZMDGJ_VideoAd_ZMDGJ_Failed&&m._onRewarded_ZMDGJ_VideoAd_ZMDGJ_Failed()}static onRewarded_ZMDGJ_Video_ZMDGJ_AdClose(e){e&&e.isEnded||null==e?(console.log("激励视频 已完整观看"),m._onRewarded_ZMDGJ_VideoAd_ZMDGJ_Close&&m._onRewarded_ZMDGJ_VideoAd_ZMDGJ_Close(!0)):(console.log("激励视频 未完整观看"),m._onRewarded_ZMDGJ_VideoAd_ZMDGJ_Close&&m._onRewarded_ZMDGJ_VideoAd_ZMDGJ_Close(!1))}static reg_ZMDGJ_Rewarded_ZMDGJ_Video_ZMDGJ_AdEvent(e){e.onLoad(m.onRewarded_ZMDGJ_VideoAd_ZMDGJ_Load),e.onError(m.onRewarded_ZMDGJ_VideoAd_ZMDGJ_Error),e.onClose(m.onRewarded_ZMDGJ_Video_ZMDGJ_AdClose),m._isReg_ZMDGJ_Rewarded_ZMDGJ_VideoAdEvent=!0}static show_ZMDGJ_Rewarded_ZMDGJ_VideoAd(e,t){if(Laya.Browser.onQQMiniGame){m._onRewarded_ZMDGJ_VideoAd_ZMDGJ_Close=e,m._onRewarded_ZMDGJ_VideoAd_ZMDGJ_Failed=t;var _=Laya.Browser.window.qq.createRewardedVideoAd({adUnitId:m.ad_ZMDGJ_UnitId});m._isReg_ZMDGJ_Rewarded_ZMDGJ_VideoAdEvent||m.reg_ZMDGJ_Rewarded_ZMDGJ_Video_ZMDGJ_AdEvent(_),_.load().then(()=>{var e=_.show();e.then(()=>console.log("激励视频 广告显示成功")),e.catch(e=>{_.load().then(()=>_.show()).catch(e=>{console.log("激励视频 广告显示失败"),t&&t()})})}).catch(e=>{console.log("激励视频 广告加载失败"),t&&t()})}else e(!0)}static navigate_ZMDGJ_To_ZMDGJ_Mini_ZMDGJ_Program(e,t,_,i,n){Laya.Browser.onQQMiniGame&&(console.log("跳转游戏： "+e),Laya.Browser.window.qq.navigateToMiniProgram({appId:e,path:t,extraData:{foo:"bar"},envVersion:"release",success(e){_&&_(e)},fail(e){i&&i(e)},complete(e){n&&n(e)}}))}static share_ZMDGJ_(e,t,_){Laya.Browser.onQQMiniGame&&(m._onShow_ZMDGJ_=(()=>{Laya.Browser.window.qq.offShow(m._onShow_ZMDGJ_),m._onShow_ZMDGJ_=null;Date.now(),this._last_ZMDGJ_Share_ZMDGJ_Time;e&&(Date.now()-this._last_ZMDGJ_Share_ZMDGJ_Time>2e3?e(!0):e(!1))}),Laya.Browser.window.qq.onShow(m._onShow_ZMDGJ_),m._last_ZMDGJ_Share_ZMDGJ_Time=Date.now(),Laya.Browser.window.qq.shareAppMessage({title:t,imageUrl:_}))}static show_ZMDGJ_Interstitial_ZMDGJ_Ad(e,t){if(Laya.Browser.onQQMiniGame){var _=Laya.Browser.window.qq.createInterstitialAd({adUnitId:m.Ins_ZMDGJ_AdUnitId});let i=()=>{console.log("插屏广告 加载完成"),_.show().catch(e=>{console.log("插屏广告 显示失败 ："+e),_.offLoad(i),_.offError(n),_.offClose(a),_.destroy(),t&&t()})};_.onLoad(i);let n=e=>{console.log("插屏广告 加载失败"+e),_.offLoad(i),_.offError(n),_.offClose(a),_.destroy(),t&&t()};_.onError(n);let a=()=>{console.log("插屏广告 关闭"),_.offLoad(i),_.offError(n),_.offClose(a),_.destroy(),e&&e()};_.onClose(a)}else e()}static Load_ZMDGJ_App_ZMDGJ_BoxAd(e,t){Laya.Browser.onQQMiniGame?(m.mApp_ZMDGJ_box_ZMDGJ_Ad=Laya.Browser.window.qq.createAppBox({adUnitId:m.App_ZMDGJ_BoxId}),m.mApp_ZMDGJ_box_ZMDGJ_Ad.load().then(()=>{console.log("盒子广告 加载完成")}),m.mApp_ZMDGJ_box_ZMDGJ_Ad.onError(e=>{console.log("盒子广告 加载失败"+e),t&&t()}),m.on_ZMDGJ_BoxAd_ZMDGJ_Close=(()=>{console.log("盒子广告 关闭"),e&&e()}),m.mApp_ZMDGJ_box_ZMDGJ_Ad.onClose(m.on_ZMDGJ_BoxAd_ZMDGJ_Close)):e()}static show_ZMDGJ_App_ZMDGJ_BoxAd(e,t){this.mApp_ZMDGJ_box_ZMDGJ_Ad?(console.log("显示盒子广告"),this.mApp_ZMDGJ_box_ZMDGJ_Ad.offClose(this.on_ZMDGJ_BoxAd_ZMDGJ_Close),this.on_ZMDGJ_BoxAd_ZMDGJ_Close=(()=>{console.log("盒子广告 关闭"),t&&t()}),this.mApp_ZMDGJ_box_ZMDGJ_Ad.onClose(this.on_ZMDGJ_BoxAd_ZMDGJ_Close),this.mApp_ZMDGJ_box_ZMDGJ_Ad.show().catch(t=>{console.log("盒子广告 显示失败 ："+t),e&&e()})):m.Load_ZMDGJ_App_ZMDGJ_BoxAd(t,e)}static get_ZMDGJ_Launch_ZMDGJ_Options_ZMDGJ_Sync(){if(Laya.Browser.onQQMiniGame){let e=Laya.Browser.window.qq.get_ZMDGJ_Launch_ZMDGJ_Options_ZMDGJ_Sync();console.log("场景值 "+e.scene);let t=JSON.stringify(e.query);console.log("Query参数 "+t);let _=e.query.key;return console.log("Query参数：key "+_),console.log("ShareTicket "+e.shareTicket),console.log("ReferrerInfo.appId "+e.referrerInfo.appId),console.log("ReferrerInfo.extraData "+e.referrerInfo.extraData),e}return{scene:1001,query:"",shareTicket:"",appId:"",extraData:""}}static Set_ZMDGJ_Share_ZMDGJ_Menu(e,t,_,i,n){Laya.Browser.onQQMiniGame&&(console.log("小游戏设置转发按钮"),Laya.Browser.window.qq.showShareMenu({withShareTicket:!1,success:_,fail:i,complete:n}),Laya.Browser.window.qq.onShareAppMessage(function(){return{title:e,imageUrl:t}}))}static showQQCreazyClick(e,_,i){let n=m.get_ZMDGJ_Launch_ZMDGJ_Options_ZMDGJ_Sync().scene,a=!0,o=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().wu_ZMDGJ_dian_ZMDGJ_Scene_ZMDGJ_List;for(let e=0;e<o.length;++e){n==o[e]&&(a=!1)}let s=w.Get_ZMDGJ_Ip_ZMDGJ_Blocked(),l=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().wu_ZMDGJ_dian,D=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().qq_ZMDGJ_cfg.kuang_ZMDGJ_dian_ZMDGJ_Banner;t.Versions_ZMDGJ_==r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().qq_ZMDGJ_cfg.qq_ZMDGJ_versions&&s&&a&&1==l&&1==D?y.ins_ZMDGJ_tance.open_ZMDGJ_View(M.QQCrazyClickView,e,()=>{null!=_&&_()}):null!=i&&i()}static showQQCreazyClick2(e,_,i){let n=m.get_ZMDGJ_Launch_ZMDGJ_Options_ZMDGJ_Sync().scene,a=!0,o=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().wu_ZMDGJ_dian_ZMDGJ_Scene_ZMDGJ_List;for(let e=0;e<o.length;++e){n==o[e]&&(a=!1)}let s=w.Get_ZMDGJ_Ip_ZMDGJ_Blocked(),l=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().wu_ZMDGJ_dian,D=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().qq_ZMDGJ_cfg.kuangdian_ZMDGJ_Box;t.Versions_ZMDGJ_==r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().qq_ZMDGJ_cfg.qq_ZMDGJ_versions&&s&&a&&1==l&&1==D?y.ins_ZMDGJ_tance.open_ZMDGJ_View(M.QQCrazyClickView2,e,()=>{null!=_&&_()}):null!=i&&i()}static show_ZMDGJ_AppBlock_ZMDGJ_Ad(e,t=150,_="landscape"){if(!Laya.Browser.onQQMiniGame)return;if(!Laya.Browser.window.qq.createBlockAd)return;if(m.is_ZMDGJ_AppBlock_ZMDGJ_AdLoading)return;if(m.is_ZMDGJ_AppBlock_ZMDGJ_AdLoading=!0,isNaN(m.screen_ZMDGJ_Width))try{let t=Laya.Browser.window.qq.getSystemInfoSync();m.screen_ZMDGJ_Width=t.windowWidth,m.screen_ZMDGJ_Height=t.windowHeight,m.pixel_ZMDGJ_Ratio=t.pixelRatio,m.is_ZMDGJ_Ios="ios"==t.platform,m.skd_ZMDGJ_Version=t.SDKVersion,m.screen_ZMDGJ_Width*=m.is_ZMDGJ_Ios?1:m.pixel_ZMDGJ_Ratio,m.screen_ZMDGJ_Height*=m.is_ZMDGJ_Ios?1:m.pixel_ZMDGJ_Ratio,console.log("getSystemInfoSync ==> ",t.SDKVersion)}catch(t){return void(e&&e())}let i=m.skd_ZMDGJ_Version.split(".").map(e=>parseInt(e)),n=m.support_ZMDGJ_SDKVersion.split(".").map(e=>parseInt(e)),a=!0;for(let e=0;e<i.length;e++)if(i[e]<n[e]){a=!1;break}if(!a)return;console.log("QQ_ZMDGJ_Mini_ZMDGJ_GameAPI.showAppBlockAd ",t),m.destroy_ZMDGJ_App_ZMDGJ_BlockAd(),m.on_ZMDGJ_Fail=e;let o=m.is_ZMDGJ_Ios?32/m.pixel_ZMDGJ_Ratio:32,s=Math.max(o,t/(m.is_ZMDGJ_Ios?m.pixel_ZMDGJ_Ratio:1)),r=m.screen_ZMDGJ_Width/2;r=o,m.mApp_ZMDGJ_BlockAd=Laya.Browser.window.qq.createBlockAd({adUnitId:m.block_ZMDGJ_AdArray[Math.floor(Math.random()*m.block_ZMDGJ_AdArray.length)],style:{left:r,top:s},size:m.App_ZMDGJ_Block_ZMDGJ_Size,orientation:_}),m.mApp_ZMDGJ_BlockAd.onError(m.app_ZMDGJ_Block_ZMDGJ_ADError),m.mApp_ZMDGJ_BlockAd.show().catch(t=>{console.log("积木广告 显示失败 ："+JSON.stringify(t)),e&&e()}),m.is_ZMDGJ_AppBlock_ZMDGJ_AdLoading=!1}static app_ZMDGJ_Block_ZMDGJ_ADResize(e){if(!m.mApp_ZMDGJ_BlockAd.style)return;let t=e.width,_=(e.height,(m.screen_ZMDGJ_Width-t)/2);m.mApp_ZMDGJ_BlockAd.style.left=_}static app_ZMDGJ_Block_ZMDGJ_ADError(e){console.log("积木广告  加载失败 ",JSON.stringify(e)),m.on_ZMDGJ_Fail&&m.on_ZMDGJ_Fail()}static destroy_ZMDGJ_App_ZMDGJ_BlockAd(){Laya.Browser.onQQMiniGame&&m.mApp_ZMDGJ_BlockAd&&(console.log("QQ_ZMDGJ_Mini_ZMDGJ_GameAPI.destroyAppBlockAd"),m.mApp_ZMDGJ_BlockAd.offResize(m.app_ZMDGJ_Block_ZMDGJ_ADResize),m.mApp_ZMDGJ_BlockAd.offError(m.app_ZMDGJ_Block_ZMDGJ_ADError),m.mApp_ZMDGJ_BlockAd.hide(),m.mApp_ZMDGJ_BlockAd.destroy(),m.mApp_ZMDGJ_BlockAd=null)}}m.ad_ZMDGJ_UnitId="",m.banner_ZMDGJ_AdUnitId="",m.Ins_ZMDGJ_AdUnitId="",m.App_ZMDGJ_BoxId="",m.block_ZMDGJ_AdArray=[],m.App_ZMDGJ_Block_ZMDGJ_Style={left:120,top:200},m.App_ZMDGJ_Block_ZMDGJ_Size=5,m.App_ZMDGJ_Block_ZMDGJ_Orientation="landscape",m._isReg_ZMDGJ_Rewarded_ZMDGJ_VideoAdEvent=!1,m._onRewarded_ZMDGJ_VideoAd_ZMDGJ_Failed=null,m._onRewarded_ZMDGJ_VideoAd_ZMDGJ_Close=null,m._onShow_ZMDGJ_=null,m._last_ZMDGJ_Share_ZMDGJ_Time=0,m.mApp_ZMDGJ_box_ZMDGJ_Ad=null,m.on_ZMDGJ_BoxAd_ZMDGJ_Close=null,m.mApp_ZMDGJ_BlockAd=null,m.screen_ZMDGJ_Width=NaN,m.is_ZMDGJ_AppBlock_ZMDGJ_AdLoading=!1,m.support_ZMDGJ_SDKVersion="1.15.0";class w{static Ip_ZMDGJ_Block_ZMDGJ_Flag(){return w._ipBlockFlag}static Update_ZMDGJ_IpBlock_ZMDGJ_State(){g.Get_ZMDGJ_Ip_ZMDGJ_Block(function(e){console.log("调用IpBlock接口成功,结果为:",e),w._ipBlockFlag=e.code,c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.App_On_ZMDGJ_Update_ZMDGJ_IpBlockState,{ipBlockFlag:w._ipBlockFlag})},null)}static Get_ZMDGJ_Ip_ZMDGJ_Blocked(){return 0==w._ipBlockFlag}static Get_ZMDGJ_Entry_ZMDGJ_Scene(){return 1006==u.get_ZMDGJ_Launch_ZMDGJ_Options_ZMDGJ_Sync().scene}static Is_ZMDGJ_Switch_ZMDGJ_Open(){let e=1==r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().wu_ZMDGJ_dian,t=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().wudianTimeAvaliable;return console.log("误点Flag状态: ","总开关:",e,"打开时间",t),e&&t}static get Wu_ZMDGJ_dian_ZMDGJ_Flag(){let e=1==r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().wu_ZMDGJ_dian,t=null;Laya.Browser.onMiniGame?t=u.get_ZMDGJ_Launch_ZMDGJ_Options_ZMDGJ_Sync().scene:Laya.Browser.onQQMiniGame&&(t=m.get_ZMDGJ_Launch_ZMDGJ_Options_ZMDGJ_Sync().scene);let _=!0;for(var i=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().wu_ZMDGJ_dian_ZMDGJ_Scene_ZMDGJ_List,n=0;n<i.length;++n){t==i[n]&&(_=!1)}let a=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().wudianTimeAvaliable,o=0==w._ipBlockFlag;return console.log("误点Flag状态: ","总开关:",e,"场景进入",_,"IP未被屏蔽",o,"打开时间",a),e&&_&&o&&a}static get No_ZMDGJ_Time_ZMDGJ_Wudian_ZMDGJ_Flag(){let e=1==r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().wu_ZMDGJ_dian,t=null;Laya.Browser.onMiniGame?t=u.get_ZMDGJ_Launch_ZMDGJ_Options_ZMDGJ_Sync().scene:Laya.Browser.onQQMiniGame&&(t=m.get_ZMDGJ_Launch_ZMDGJ_Options_ZMDGJ_Sync().scene);let _=!0;for(var i=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().wu_ZMDGJ_dian_ZMDGJ_Scene_ZMDGJ_List,n=0;n<i.length;++n){t==i[n]&&(_=!1)}let a=0==w._ipBlockFlag;return console.log("误点Flag状态: ","总开关:",e,"场景进入",_,"IP未被屏蔽"),e&&_&&a}}w._ipBlockFlag=-1,function(e){e.None="",e.TipsView="View/TipsView.json",e.ClickGetPrize="View/ClickGetPrize.json",e.MainView="View/Template/MainViewTemplate.json",e.MiniGameView="View/Template/MiniGameViewTemplate.json",e.RewardView="View/Template/RewardViewTemplate.json",e.InGameView="View/Template/InGameViewTemplate.json",e.GameWinView="View/Template/GameWinViewTemplate.json",e.GameFailView="View/Template/GameFailViewTemplate.json",e.ExportView="View/Template/ExportViewTemplate.json",e.Export2View="View/Template/Export2ViewTemplate.json",e.Export3View="View/Template/Export3ViewTemplate.json",e.WXCrazyClick="View/Template/WXCrazyClick.json",e.OPPONativeView="View/Template/OPPONativeViewTemplate.json",e.QQCrazyClickView="View/Template/QQ/QQCrazyClick.json",e.QQCrazyClickView2="View/Template/QQ/QQCrazyClick2.json",e.TTStoreView="View/Template/TT/TTStore.json",e.TTSignInView="View/Template/TT/TTSignIn.json",e.TTRewardView="View/Template/TT/TTReward.json",e.VVNativeView1="View/Template/VV/VVNativeView1Template.json",e.VVNativeView2="View/Template/VV/VVNativeView2Template.json",e.SkinTipsView="View/SkinTips.json"}(M||(M={}));class y{constructor(){this._ZMDGJ__views_ZMDGJ_={},this._loading_ZMDGJ_List=new Array}open_ZMDGJ_View(e,t,_){if(this._ZMDGJ__views_ZMDGJ_[e]){let i=this._ZMDGJ__views_ZMDGJ_[e]._components,n=null;if(i)for(let e=0;e<i.length;e++){const _=i[e];if(_._viewBase){(n=_).open_ZMDGJ_View(t);break}}_&&_(n)}else{var i=String(e),n=this;this._loading_ZMDGJ_List.push(e),Laya.Scene.load(i,Laya.Handler.create(this,function(i){Laya.stage.addChild(i);var a=i;n._ZMDGJ__views_ZMDGJ_[e]=a;let o=i._components,s=null;if(o)for(let _=0;_<o.length;_++){const i=o[_];if(i._viewBase){s=i,i._viewDef=e,s.open_ZMDGJ_View(t);break}}_&&_(s)}))}}close_ZMDGJ_View(e){var t=this._ZMDGJ__views_ZMDGJ_[e];if(t){let _=t._components;if(_)for(let e=0;e<_.length;e++){const t=_[e];if(t._viewBase){t.onClose();break}}t.removeSelf(),t.destroy(),this._ZMDGJ__views_ZMDGJ_[e]=null}}Show_ZMDGJ_View(e){var t=this._ZMDGJ__views_ZMDGJ_[e];if(t){let e=t._components;if(e)for(let t=0;t<e.length;t++){const _=e[t];if(_._viewBase){_.show();break}}}}hide_ZMDGJ_View(e){var t=this._ZMDGJ__views_ZMDGJ_[e];if(t){let e=t._components;if(e)for(let t=0;t<e.length;t++){const _=e[t];if(_._viewBase){_.hide();break}}}}get_ZMDGJ_View(e){return this._ZMDGJ__views_ZMDGJ_[e]}show_ZMDGJ_Tips(e){this.open_ZMDGJ_View(M.TipsView,e)}tryShowPopAd(e){1==r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().pop_ZMDGJ_Ad&&w.Wu_ZMDGJ_dian_ZMDGJ_Flag?y.ins_ZMDGJ_tance.open_ZMDGJ_View(M.Export3View,null,t=>{null!=e&&e(t)}):null!=e&&e(null)}}y.ins_ZMDGJ_tance=new y,function(e){e.None="",e.Report_ZMDGJ_AdClickSuccess="广告导出成功",e.Report_ZMDGJ_AdClickFail="广告导出失败",e.Report_ZMDGJ_LaunchOptions="用户启动参数",e.EnterMainView="进入主界面",e.EnterGameView="进入游戏界面",e.EnterGameComplateView="进入游戏结束界面",e.EnterGameOverMoreGame="游戏结束进入导出界面"}(G||(G={}));class L{static ald_ZMDGJ_Send_ZMDGJ_OpenId(e){Laya.Browser.onMiniGame?(Laya.Browser.window.wx.aldSendOpenid(e),console.log("ALD 上报 openid : ",e)):Laya.Browser.onQQMiniGame&&(Laya.Browser.window.qq.aldSendOpenid(e),console.log("ALD 上报 openid : ",e))}static ald_ZMDGJ_Send_ZMDGJ_Event(e,t){var _=e;Laya.Browser.onMiniGame?Laya.Browser.window.wx.aldSendEvent(_,t):Laya.Browser.onQQMiniGame&&Laya.Browser.window.qq.aldSendEvent(_,t)}static ald_ZMDGJ_Send_ZMDGJ_ReportAdClickSuccess(e){var t=G.Report_ZMDGJ_AdClickSuccess+" "+e.title+":"+String(e.appid);L.ald_ZMDGJ_Send_ZMDGJ_Event(t,{"导出成功":e.title+":"+String(e.appid)})}static aldSend_ZMDGJ_ReportAd_ZMDGJ_ClickFail(e){var t=G.Report_ZMDGJ_AdClickFail+" "+e.title+":"+String(e.appid);L.ald_ZMDGJ_Send_ZMDGJ_Event(t,{"导出失败":e.title+":"+String(e.appid)})}static ald_ZMDGJ_Send_ZMDGJ_Report_ZMDGJ_LaunchOptions(e,t,_){var i=G.Report_ZMDGJ_LaunchOptions;L.ald_ZMDGJ_Send_ZMDGJ_Event(i,{"场景值：":String(e),"Ip：":String(t),"地区：":JSON.stringify(_)})}static aldSendOnlySingleReport(e,t){L.ald_ZMDGJ_Send_ZMDGJ_Event(e,t)}}class S extends Laya.Script3D{constructor(){super(),this._camera=null,this._spriteRole=null,this._initPos=new Laya.Vector3(0,47.5,-60)}onAwake(){super.onAwake(),console.log("设置相机移动"),this._camera=this.owner,this._spriteRole=this.owner.scene.getChildByName("Role"),this.InitCamera()}InitCamera(){this._initPos=this._camera.transform.localPosition.clone()}onLateUpdate(){this._camera.transform.localPositionX=e.Lerp_ZMDGJ_(this._camera.transform.localPositionX,this._initPos.x+this._spriteRole.transform.localPositionX,.2),this._camera.transform.localPositionZ=e.Lerp_ZMDGJ_(this._camera.transform.localPositionZ,this._initPos.z+this._spriteRole.transform.localPositionZ,.2)}}class v{constructor(){this._enabled_ZMDGJ_=!0}get _ZMDGJ_Enabled_ZMDGJ_(){return this._enabled_ZMDGJ_}set _ZMDGJ_Enabled_ZMDGJ_(e){e||this.stop_ZMDGJ_BGM(),this._enabled_ZMDGJ_=e}get_ZMDGJ_Sound_ZMDGJ_Url(e){return v.sound_ZMDGJ_Res_ZMDGJ_Path+e+".ogg"}play_ZMDGJ_Sound(e){if(this._enabled_ZMDGJ_){var t=this.get_ZMDGJ_Sound_ZMDGJ_Url(e);if(Laya.Browser.onMiniGame){var _=Laya.Pool.getItem(e);null==_&&((_=wx.createInnerAudioContext()).src=v.sound_ZMDGJ_Res_ZMDGJ_Path+e+".ogg",_.onEnded(()=>{Laya.Pool.recover(e,_),_.offEnded()})),_.play()}else Laya.SoundManager.playSound(t,1)}}play_ZMDGJ_BGM(e){if(!this._enabled_ZMDGJ_)return;let t=this.get_ZMDGJ_Sound_ZMDGJ_Url(e);Laya.Browser.onMiniGame?(this._ZMDGJ_bgm_ZMDGJ_||(this._ZMDGJ_bgm_ZMDGJ_=wx.createInnerAudioContext()),this._ZMDGJ_bgm_ZMDGJ_.pause(),this._ZMDGJ_bgm_ZMDGJ_.src=t,this._ZMDGJ_bgm_ZMDGJ_.loop=!0,this._ZMDGJ_bgm_ZMDGJ_.play()):Laya.SoundManager.playMusic(t,0)}stop_ZMDGJ_BGM(){Laya.Browser.onMiniGame?this._ZMDGJ_bgm_ZMDGJ_&&this._ZMDGJ_bgm_ZMDGJ_.pause():Laya.SoundManager.stopMusic()}}v.sound_ZMDGJ_Res_ZMDGJ_Path="subRes/sound/",v.ins_ZMDGJ_tance=new v;class B{static onVideoFail(){console.debug("onVideoFail --------- ------------ "),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.RewardVideoFail),v.ins_ZMDGJ_tance.play_ZMDGJ_BGM("BGM")}static onVideoSuccess(e){console.debug("onVideoSuccess    --------- ------------ "),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.RewardVideoSuccess,e),v.ins_ZMDGJ_tance.play_ZMDGJ_BGM("BGM")}static onInsertVideoEnd(){console.debug("onInsertVideoEnd    --------- ------------ "),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.InsertVideoEnd)}static CallNativeFunc(e){Laya.Browser.onAndroid?window.PlatformClass.createClass("demo.JSBridge").call(e):Laya.Browser.onIOS}}B.NowVideoType="",B.conchIOS="Conch-ios",B.conchAndroid="Conch-android",B.os="";class f{static vibrate_ZMDGJ_Short(){f.is_ZMDGJ_Enable&&(Laya.Browser.onMiniGame?Laya.Browser.window.wx.vibrateShort():Laya.Browser.onQGMiniGame?Laya.Browser.window.qg.vibrateShort():Laya.Browser.onQQMiniGame?Laya.Browser.window.qq.vibrateShort():B.CallNativeFunc("vibrateShort"))}static vibrate_ZMDGJ_Long(){f.is_ZMDGJ_Enable&&(Laya.Browser.onMiniGame?Laya.Browser.window.wx.vibrateLong():Laya.Browser.onQGMiniGame?Laya.Browser.window.qg.vibrateLong():Laya.Browser.onQQMiniGame?Laya.Browser.window.qq.vibrateLong():B.CallNativeFunc("vibrateLong"))}static vibrate_ZMDGJ_(e){if(f.is_ZMDGJ_Enable)if(Laya.Browser.onMiniGame){let t=e/15,_=0,i={count:t,index:_};Laya.timer.loop(16,i,function(){f.vibrate_ZMDGJ_Short(),++_>t&&Laya.timer.clearAll(i)})}else if(Laya.Browser.onQGMiniGame){let t=e/20,_=0,i={count:t,index:_};Laya.timer.loop(21,i,function(){f.vibrate_ZMDGJ_Short(),++_>t&&Laya.timer.clearAll(i)})}else if(Laya.Browser.onQQMiniGame){let t=e/20,_=0,i={count:t,index:_};Laya.timer.loop(21,i,function(){f.vibrate_ZMDGJ_Short(),++_>t&&Laya.timer.clearAll(i)})}else if(Laya.Browser.onAndroid||Laya.Browser.onIOS){let t=e/20,_=0,i={count:t,index:_};Laya.timer.loop(21,i,function(){f.vibrate_ZMDGJ_Short(),++_>t&&Laya.timer.clearAll(i)})}}}f.is_ZMDGJ_Enable=!0;class C extends Laya.Script3D{constructor(){super(...arguments),this._sprite3D=null,this._bUp=!0,this._bRotate=!0,this._bSmaller=!0,this._nScal=1,this._nInitScal=new Laya.Vector3(1,.1,1)}onAwake(){super.onAwake(),this._sprite3D=this.owner,this._nInitScal=this._sprite3D.transform.localScale.clone()}onUpdate(){super.onUpdate(),this._bUp?this._sprite3D.transform.localRotationEulerX<90?(this._sprite3D.transform.localRotationEulerX+=18,this._sprite3D.transform.localPositionY+=.18):(this._bUp=!1,this._bRotate=!0,"Coin"==this.owner.name&&null!=this._sprite3D.getChildByName("EffectCoin")&&(this._sprite3D.getChildByName("EffectCoin").active=!0),Laya.timer.once(500,this,()=>{this._bRotate=!1,this._bSmaller=!0})):this._bRotate?this._sprite3D.transform.localRotationEulerY+=30:this._bSmaller&&(this._nScal<=.1?this._sprite3D.active=!1:(this._nScal-=.1,this._sprite3D.transform.localScale=new Laya.Vector3(this._nInitScal.x*this._nScal,this._nInitScal.y*this._nScal,this._nInitScal.z*this._nScal)))}onEnable(){super.onEnable()}onDisable(){super.onDisable(),Laya.timer.frameOnce(1,this,()=>{this._sprite3D.destroy()})}onDestroy(){super.onDestroy(),Laya.timer.clearAll(this)}}class A extends Laya.Script3D{constructor(){super(...arguments),this._sprite3D=null,this._collider=null,this._scene=null,this._lines=new Laya.PixelLineSprite3D,this._lineStart=new Laya.Vector3(0,.5,0),this._lineEnd=new Laya.Vector3(4,.5,0),this._moveDir=new Laya.Vector3(0,0,0),this._gravity=-10,this._highest=0,this._lowst=0,this._lowstZ=0,this._rotateY=0,this._rotateX=0,this._ShakeX=0,this._ShakeXPer=0,this._bStart=!1,this._bRotate=!1,this._bDrop=!1,this._bShake=!1,this._bShakeUp=!0}onAwake(){super.onAwake(),this._sprite3D=this.owner,this._scene=this.owner.scene,this._collider=this.owner.getComponent(Laya.PhysicsCollider),this._collider.enabled=!1,this._highest=this._sprite3D.transform.localPositionY,this._lowst=0,this._lowstZ=this._sprite3D.transform.getWorldLossyScale().z/2,this.InitLines()}onEnable(){super.onEnable()}onDisable(){super.onDisable()}onUpdate(){super.onUpdate(),this._bStart&&(this._bDrop&&(this._sprite3D.transform.localPositionY<=this._lowst+Math.sin(Math.abs(this._sprite3D.transform.localRotationEulerX)*Math.PI/180)*this._lowstZ?(this._sprite3D.transform.localPositionY=this._lowst+Math.sin(Math.abs(this._sprite3D.transform.localRotationEulerX)*Math.PI/180)*this._lowstZ,this._bDrop=!1,this._bShake=!0):(this._moveDir.y+=this._gravity*Laya.timer.delta/1e3,this._sprite3D.transform.translate(new Laya.Vector3(this._moveDir.x*Laya.timer.delta/1e3,this._moveDir.y*Laya.timer.delta/1e3,this._moveDir.z*Laya.timer.delta/1e3),!1),this._sprite3D.transform.localRotationEulerY+=this._rotateY,this._bRotate&&(this._sprite3D.transform.localRotationEulerX+=this._rotateX)),this.CheckCollision()),this._bShake&&(this._ShakeX<2.5?(this._sprite3D.transform.localPositionY=this._lowst,this._sprite3D.transform.localRotationEulerX=0,this._bShake=!1,this.DropStop()):(this._bShakeUp?(this._sprite3D.transform.localRotationEulerX+=this._ShakeXPer,this._sprite3D.transform.localRotationEulerX>=this._ShakeX&&(this._sprite3D.transform.localRotationEulerX=this._ShakeX,this._bShakeUp=!1)):(this._sprite3D.transform.localRotationEulerX-=this._ShakeXPer,this._sprite3D.transform.localRotationEulerX<=this._ShakeX&&(this._sprite3D.transform.localRotationEulerX=-this._ShakeX,this._ShakeX=this._ShakeX/2,this._ShakeXPer=this._ShakeX/5>1?this._ShakeX/5:1,this._bShakeUp=!0)),this._sprite3D.transform.localPositionY=this._lowst+Math.sin(Math.abs(this._sprite3D.transform.localRotationEulerX)*Math.PI/180)*this._lowstZ)))}InitLines(){this._lines.maxLineCount=1,this._scene.addChild(this._lines),this._lineStart=this._sprite3D.transform.position.clone(),this._lineEnd=this._lineStart.clone(),this._lines.addLine(this._lineStart,this._lineEnd,Laya.Color.WHITE,Laya.Color.WHITE)}DropStart(e,t=!1){this._moveDir=e,this._bStart=!0,this._bRotate=!0,this._bDrop=!0,this._rotateY=Math.random()*this._highest*2-this._highest,this._rotateX=Math.random()*this._highest*10,this._ShakeX=Math.random()*this._highest*10,this._ShakeXPer=this._ShakeX/5>1?this._ShakeX/5:1}DropStop(){this._collider.enabled=!0,this.destroy()}CheckCollision(){this._lineStart=this._sprite3D.transform.position.clone(),this._lineEnd=this._lineStart.clone(),this._lineEnd.x+=this._moveDir.x/5,this._lineEnd.z+=this._moveDir.z/5;var e=new Array;this._scene.physicsSimulation.raycastAllFromTo(this._lineStart,this._lineEnd,e);for(var t=0;t<e.length;t++){var _=e[t].collider.owner;if(_.name.indexOf("Wall")>-1||"Battery"==_.name||_.name.indexOf("Barrier")>-1){var i=e[t].normal.clone(),n=i.x*this._moveDir.x+i.y*this._moveDir.y+i.z*this._moveDir.z;this._moveDir=new Laya.Vector3(this._moveDir.x-2*n*i.x,this._moveDir.y-2*n*i.y,this._moveDir.z-2*n*i.z)}}}}class b extends Laya.Script3D{constructor(){super(...arguments),this._sprite3D=null,this._rigid=null,this._animator=null,this._boxsSprite3D=null,this._effectsSprite3D=null,this._coinPre=null,this._boxsObects=null,this._coinsObects=null,this._roleMesh=null,this._skinMesh=null,this._skinMaterials=[],this._bHit=!1,this._moveDir=new Laya.Vector3(0,0,0),this._hittedMoveDir=new Laya.Vector3(0,0,0),this._moveSpeed=.06,this._moveSpeedNormal=.06,this._moveSpeedSlow=.04,this._targetRotation=1e3,this._nBlood=100,this._nScalMax=1.5,this._nScal=1,this._BoxPoint=new Laya.Vector3(1,1,1),this._nSpeedPer=1,this._bSuperMan=!1}onAwake(){this._sprite3D=this.owner,this._rigid=this.owner.getComponent(Laya.Rigidbody3D),this._roleMesh=this._sprite3D.getChildByName("Role"),this._animator=this._roleMesh.getComponent(Laya.Animator),this._boxsSprite3D=this._sprite3D.getChildByName("Boxs"),this._effectsSprite3D=this._sprite3D.getChildByName("Effects"),this._coinPre=this._sprite3D.getChildByName("Coin"),this._boxsObects=this._sprite3D.scene.getChildByName("Objects").getChildByName("GoodsAll"),this._coinsObects=this._sprite3D.scene.getChildByName("Objects").getChildByName("Coins"),this._BoxPoint=this._boxsSprite3D.transform.localPosition.clone(),this._skinMesh=this._roleMesh.getChildByName("Box001"),this._skinMaterials=this._skinMesh.skinnedMeshRenderer.materials,this._animator.play("IdleNormal"),this.InitRigid(),this.ChangeSkin(J.curUsedItem)}InitRigid(){this._rigid.restitution=0,this._rigid.friction=0,this._rigid.rollingFriction=0,this._rigid.linearDamping=0,this._rigid.angularDamping=0,this._rigid.linearFactor=new Laya.Vector3(1,0,1),this._rigid.angularFactor=new Laya.Vector3(0,0,0),this._rigid.gravity=new Laya.Vector3(0,0,0),this._rigid.sleepLinearVelocity=-1,this._rigid.collisionGroup=Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1,this._coinPre.getComponent(Laya.PhysicsCollider).collisionGroup=Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER2}onEnable(){c.ins_ZMDGJ_tance.reg_ZMDGJ_Evemt(D.Game_OnInputStart,this,this.onMoveStart),c.ins_ZMDGJ_tance.reg_ZMDGJ_Evemt(D.Game_OnInputRelease,this,this.onMoveStop),c.ins_ZMDGJ_tance.reg_ZMDGJ_Evemt(D.Game_OnInputMove,this,this.onMoving),c.ins_ZMDGJ_tance.reg_ZMDGJ_Evemt(D.Game_TrySkin,this,this.TrySkin)}onDisable(){c.ins_ZMDGJ_tance.remove_ZMDGJ_Event(D.Game_OnInputStart,this,this.onMoveStart),c.ins_ZMDGJ_tance.remove_ZMDGJ_Event(D.Game_OnInputRelease,this,this.onMoveStop),c.ins_ZMDGJ_tance.remove_ZMDGJ_Event(D.Game_OnInputMove,this,this.onMoving),c.ins_ZMDGJ_tance.remove_ZMDGJ_Event(D.Game_TrySkin,this,this.TrySkin),Laya.timer.frameOnce(1,this,()=>{this._sprite3D.destroy()})}onDestroy(){Laya.timer.clearAll(this)}onUpdate(){this._rigid.wakeUp(),this._rigid.linearVelocity=this._bHit?this._hittedMoveDir:this._moveDir}onCollisionEnter(e){this.Collision(e)}onCollisionStay(e){}Collision(e){var t=e.other.owner;switch(e.other.enabled=!1,t.name){case"Goods":this._boxsSprite3D.addChild(t),t.transform.localPosition=new Laya.Vector3(.1*Math.random()-.03,.6*(this._boxsSprite3D.numChildren-1),.1*Math.random()-.03),t.transform.localRotationEulerY=0,this._moveSpeed=this._moveSpeedSlow,0!=this._moveDir.x||0!=this._moveDir.z?this._animator.play("Walk"):this._animator.play("IdleBoxs"),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_BoxChange,{RoleNum:this._boxsSprite3D.numChildren}),f.vibrate_ZMDGJ_(250);break;case"SpeedUp":this._nSpeedPer=1.5,Laya.timer.once(5e3,this,()=>{this._nSpeedPer=1}),t.removeSelf();break;case"SuperMan":this._bSuperMan=!0,console.log("SuperMan"),Laya.timer.once(3e3,this,()=>{this._bSuperMan=!1}),t.removeSelf();break;case"Blood":this._nBlood+=20,this._nBlood=this._nBlood>100?100:this._nBlood,t.removeSelf(),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_BloodChange,{BloodNum:this._nBlood});break;case"Coin":case"Mail":case"Diamond":var _="Coin"==t.name?1:10;t.addComponent(C),J.add_ZMDGJ_Money(_),v.ins_ZMDGJ_tance.play_ZMDGJ_Sound("Coin"),this._nScal<1.5&&(this._nScal+=.01,this._sprite3D.transform.localScaleZ=this._sprite3D.transform.localScaleY=this._sprite3D.transform.localScaleX=this._nScal,this._boxsSprite3D.transform.localPosition=new Laya.Vector3(this._BoxPoint.x+.3*(this._nScal-1),this._BoxPoint.y+.3*(this._nScal-1),this._BoxPoint.z));break;case"Bullet":case"BarrierBall":case"BarrierEnemy":case"BarrierBull":e.other.enabled="Bullet"!=t.name;var i=e.contacts[0].normal.clone();this.beHitted(i,!0),f.vibrate_ZMDGJ_(300);break;case"BarrierHammer":e.other.enabled=!0;i=e.contacts[0].normal.clone();this.beHitted(i,!1),this._hittedMoveDir=new Laya.Vector3(0,0,0),this._effectsSprite3D.getChildByName("EffectHitted").active=!0,Laya.timer.once(1500,this,()=>{this._effectsSprite3D.getChildByName("EffectHitted").active=!1}),f.vibrate_ZMDGJ_(300);break;case"BarrierStab":e.other.enabled=!0;i=e.contacts[0].normal.clone();this.beHitted(i,!1),this._hittedMoveDir=new Laya.Vector3(0,0,0),f.vibrate_ZMDGJ_(300);break;case"Terminus":e.other.enabled=!0,this._boxsObects.numChildren<=0&&(v.ins_ZMDGJ_tance.play_ZMDGJ_Sound("Win"),f.vibrate_ZMDGJ_(500),P.get_ZMDGJ_Instance().CurLevel.LevelOver(!0));break;default:e.other.enabled=!0}this._rigid.linearVelocity=this._bHit?this._hittedMoveDir:this._moveDir}beHitted(e,t=!1){this._bHit||this._bSuperMan||(this._nBlood-=20,this._nScal=1,this._sprite3D.transform.localScaleZ=this._sprite3D.transform.localScaleY=this._sprite3D.transform.localScaleX=this._nScal,this._boxsSprite3D.transform.localPosition=this._BoxPoint,this._nBlood<=0&&(v.ins_ZMDGJ_tance.play_ZMDGJ_Sound("Fail"),P.get_ZMDGJ_Instance().CurLevel.LevelOver(!1)),this._bHit=!0,this._moveSpeed=this._moveSpeedNormal,this._hittedMoveDir=t?new Laya.Vector3(100*e.x*this._moveSpeed,0,100*e.z*this._moveSpeed):this._moveDir,this._boxsSprite3D.numChildren>0?this._animator.play("HittedBoxs"):this._animator.play("HittedNormal"),Laya.timer.once(300,this,()=>{this._bHit=!1,this._rigid.linearVelocity=this._moveDir}),this.GoodsDrop(e),this.CoinDrop(),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_BoxChange,{RoleNum:this._boxsSprite3D.numChildren}),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_BloodChange,{BloodNum:this._nBlood}))}GoodsDrop(e){for(var t=0;this._boxsSprite3D.numChildren>0;t++){var _=this._boxsSprite3D.getChildAt(0),i=_.transform.position.clone(),n=_.transform.rotationEuler.clone();this._boxsObects.addChild(_),_.transform.localPosition=i,_.transform.localRotationEuler=n;var a=Math.random()+2*t;_.addComponent(A).DropStart(new Laya.Vector3(a*e.x,0,a*e.z))}v.ins_ZMDGJ_tance.play_ZMDGJ_Sound("Drop")}CoinDrop(){var e;e=J.get_ZMDGJ_Money()>10?Math.floor(5*Math.random())+5:J.get_ZMDGJ_Money(),J.sub_ZMDGJ_Money(e);for(var t=0;t<e;t++){var _=Laya.Sprite3D.instantiate(this._coinPre,this._coinsObects),i=this._coinPre.transform.position.clone(),n=this._coinPre.transform.rotationEuler.clone();_.transform.localPosition=i,_.transform.localRotationEuler=n,_.active=!0;var a=t<=5?t:5,o=Math.random()*(1+a)*3-1.5*(1+a),s=Math.random()*(1+a)*3-1.5*(1+a),r=7.5*Math.random();o=o<1?o+1:o,s=s<1?s+1:s,_.addComponent(A).DropStart(new Laya.Vector3(o,r,s),!0)}}onMoveStart(){}onMoveStop(){this._bHit||(this._boxsSprite3D.numChildren>0?this._animator.play("IdleBoxs"):this._animator.play("IdleNormal")),this._moveDir=new Laya.Vector3(0,0,0),this._rigid.linearVelocity=this._bHit?this._hittedMoveDir:this._moveDir,Laya.timer.clear(this,this.RotationChange)}onMoving(e){this._bHit||(this._boxsSprite3D.numChildren>0?this._animator.play("Walk"):this._animator.play("Run"));var t=e.dir;this._targetRotation=180*Math.atan2(-t.y,t.x)/Math.PI,this._moveDir=new Laya.Vector3(-t.x*this._moveSpeed*this._nScal*this._nSpeedPer,0,-t.y*this._moveSpeed*1.1*this._nScal*this._nSpeedPer),this._rigid.linearVelocity=this._bHit?this._hittedMoveDir:this._moveDir;var _=this._targetRotation-this._sprite3D.transform.localRotationEulerY;if(Math.abs(_)>180&&(_=_>0?_-360:_+360),Math.abs(_)<=10)this._sprite3D.transform.localRotationEulerY=this._targetRotation;else{var i=_>0?10:-10;Laya.timer.frameLoop(1,this,this.RotationChange,[i])}}RotationChange(e){if(Math.abs(this._sprite3D.transform.localRotationEulerY-this._targetRotation)<=10)return this._sprite3D.transform.localRotationEulerY=this._targetRotation,void Laya.timer.clear(this,this.RotationChange);this._sprite3D.transform.localRotationEulerY+=e}ChangeSkin(e){this._skinMesh.skinnedMeshRenderer.material=this._skinMaterials[e];for(var t=0;t<this._roleMesh.numChildren;t++)-1!=this._roleMesh.getChildAt(t).name.indexOf("Hat")&&(this._roleMesh.getChildAt(t).active=this._roleMesh.getChildAt(t).name.indexOf("Hat"+(e+1).toString())>-1)}TrySkin(e){var t=e.SkinId;this.ChangeSkin(t)}}class k extends Laya.Script3D{constructor(){super(...arguments),this._sprite3D=null,this._rigid=null,this._moveDir=new Laya.Vector3(0,0,0),this._moveSpeed=6}onAwake(){super.onAwake(),this._sprite3D=this.owner,this._rigid=this.owner.getComponent(Laya.Rigidbody3D),this.InitRigid()}onEnable(){super.onEnable()}onDisable(){super.onDisable(),Laya.timer.frameOnce(1,this,()=>{this._sprite3D.destroy()})}onUpdate(){super.onUpdate(),this._rigid.wakeUp()}onDestroy(){super.onDestroy(),Laya.timer.clearAll(this)}onCollisionEnter(e){if("Goods"==e.other.owner.name){var t=e.contacts[0].normal.clone(),_=t.x*this._moveDir.x+t.y*this._moveDir.y+t.z*this._moveDir.z;this._moveDir=new Laya.Vector3(this._moveDir.x-2*_*t.x,this._moveDir.y-2*_*t.y,this._moveDir.z-2*_*t.z),this._rigid.linearVelocity=this._moveDir}else this._sprite3D.meshRenderer.enable=!1,this._sprite3D.getChildByName("EffectBoom").active=!0,this._moveDir=new Laya.Vector3(0,0,0),this._rigid.linearVelocity=this._moveDir,this._rigid.enabled=!1,Laya.timer.once(1500,this,()=>{this._sprite3D.active=!1})}InitRigid(){this._rigid.restitution=0,this._rigid.friction=0,this._rigid.rollingFriction=0,this._rigid.linearDamping=0,this._rigid.angularDamping=0,this._rigid.linearFactor=new Laya.Vector3(1,0,1),this._rigid.angularFactor=new Laya.Vector3(0,0,0),this._rigid.gravity=new Laya.Vector3(0,0,0),this._rigid.sleepLinearVelocity=-1,this._rigid.canCollideWith=Laya.Physics3DUtils.COLLISIONFILTERGROUP_DEFAULTFILTER|Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1,this._moveDir.x=-this._moveSpeed*Math.cos(this._sprite3D.transform.localRotationEulerY*Math.PI/180),this._moveDir.z=this._moveSpeed*Math.sin(this._sprite3D.transform.localRotationEulerY*Math.PI/180),this._moveDir.y=0,this._rigid.linearVelocity=this._moveDir}}class I extends Laya.Script3D{constructor(){super(...arguments),this._sprite3D=null,this._rotateSprite3D=null,this._targetSprite3D=null,this._RayPoint1Sprite3D=null,this._RayPoint2Sprite3D=null,this._bulletPre=null,this._scene=null,this._bRotate=!1,this._bStart=!1,this._nCDTime=3e3,this._nBlood=3,this._targetRotation=1e3,this._angleSpeed=.5,this._lineStart=new Laya.Vector3(0,0,0),this._lineEnd=new Laya.Vector3(0,0,0)}onAwake(){super.onAwake(),this._sprite3D=this.owner,this._rotateSprite3D=this._sprite3D.getChildByName("Rotate"),this._RayPoint1Sprite3D=this._sprite3D.getChildByName("RayPoint1"),this._RayPoint2Sprite3D=this._sprite3D.getChildByName("RayPoint2"),this._bulletPre=this._sprite3D.getChildByName("Bullet"),this._scene=this._sprite3D.scene,this._targetSprite3D=this._scene.getChildByName("Role"),this._bRotate=this._rotateSprite3D.active,this._bulletPre.active=!1}onEnable(){super.onEnable(),c.ins_ZMDGJ_tance.reg_ZMDGJ_Evemt(D.Game_On_ZMDGJ_Level_ZMDGJ_Start,this,this.ShootStart)}onDisable(){super.onDisable(),c.ins_ZMDGJ_tance.remove_ZMDGJ_Event(D.Game_On_ZMDGJ_Level_ZMDGJ_Start,this,this.ShootStart),Laya.timer.frameOnce(1,this,()=>{this._sprite3D.destroy()})}onUpdate(){if(super.onUpdate(),this._bRotate&&this._bStart){var t=new Laya.Vector2(0,0);t.x=this._targetSprite3D.transform.position.x-this._sprite3D.transform.position.x,t.y=this._targetSprite3D.transform.position.z-this._sprite3D.transform.position.z,this._targetRotation=180*Math.atan2(t.y,-t.x)/Math.PI,this._sprite3D.transform.localRotationEulerY=e.lerp_ZMDGJ_Euler_ZMDGJ_Angle(this._sprite3D.transform.localRotationEulerY,this._targetRotation,this._angleSpeed)}this.CheckCollision()}onDestroy(){super.onDestroy(),Laya.timer.clearAll(this)}onCollisionEnter(e){"Bullet"==e.other.owner.name&&(this._nBlood--,this._nBlood<=0&&(this._sprite3D.active=!1))}CheckCollision(){this._lineStart=this._RayPoint1Sprite3D.transform.position.clone(),this._lineEnd=this._RayPoint2Sprite3D.transform.position.clone();var e=new Array;this._scene.physicsSimulation.raycastAllFromTo(this._lineStart,this._lineEnd,e);for(var t=0;t<e.length;t++){var _=e[t].collider.owner;if("Goods"==_.name){var i=this._RayPoint2Sprite3D.transform.position.x-this._RayPoint1Sprite3D.transform.position.x,n=this._RayPoint2Sprite3D.transform.position.z-this._RayPoint1Sprite3D.transform.position.z;_.transform.position=new Laya.Vector3(_.transform.position.x+.1*i,_.transform.position.y,_.transform.position.z+.1*n)}}}ShootStart(){this.Shoot(),Laya.timer.loop(this._nCDTime,this,this.Shoot),this._bStart=!0}Shoot(){var e=Laya.Sprite3D.instantiate(this._bulletPre,this._scene);e.addComponent(k),e.active=!0,v.ins_ZMDGJ_tance.play_ZMDGJ_Sound("Shoot")}}class V extends Laya.Script3D{constructor(){super(...arguments),this._sprite3D=null,this._rigid=null,this._animator=null,this._followSprite3D=null,this._targetSprite3D=null,this._scene=null,this._bStart=!1,this._bFollow=!1,this._bMove=!1,this._bCollision=!1,this._nTriggerDis=2,this._moveSpeed=1.5,this._moveDir=new Laya.Vector3(0,0,0),this._targetRotation=1e3,this._angleSpeed=4}onAwake(){super.onAwake(),this._sprite3D=this.owner,this._rigid=this.owner.getComponent(Laya.Rigidbody3D),this._animator=this._sprite3D.getChildByName("BarrierEnemy").getComponent(Laya.Animator),this._followSprite3D=this._sprite3D.getChildByName("IsFollow"),this._scene=this._sprite3D.scene,this._targetSprite3D=this._scene.getChildByName("Role"),this._bFollow=this._followSprite3D.active,this._animator.enabled=!1,this.InitRigid()}onEnable(){super.onEnable(),c.ins_ZMDGJ_tance.reg_ZMDGJ_Evemt(D.Game_On_ZMDGJ_Level_ZMDGJ_Start,this,this.LevelStart)}onDisable(){super.onDisable(),c.ins_ZMDGJ_tance.remove_ZMDGJ_Event(D.Game_On_ZMDGJ_Level_ZMDGJ_Start,this,this.LevelStart),Laya.timer.frameOnce(1,this,()=>{this._sprite3D.destroy()})}onDestroy(){super.onDestroy(),Laya.timer.clearAll(this)}onUpdate(){var t=new Laya.Vector2(0,0);t.x=this._targetSprite3D.transform.position.x-this._sprite3D.transform.position.x,t.y=this._targetSprite3D.transform.position.z-this._sprite3D.transform.position.z;var _=Math.sqrt(t.x*t.x+t.y*t.y);if(this.CheckMove(_),!this._bMove||!this._bStart||this._bCollision)return this._moveDir=new Laya.Vector3(0,0,0),this._rigid.linearVelocity=this._moveDir,void(this._animator.enabled=!1);this._targetRotation=180*Math.atan2(t.y,-t.x)/Math.PI,this._sprite3D.transform.localRotationEulerY=e.lerp_ZMDGJ_Euler_ZMDGJ_Angle(this._sprite3D.transform.localRotationEulerY,this._targetRotation,this._angleSpeed),this._moveDir.x=-this._moveSpeed*Math.cos(this._sprite3D.transform.localRotationEulerY*Math.PI/180),this._moveDir.z=this._moveSpeed*Math.sin(this._sprite3D.transform.localRotationEulerY*Math.PI/180),this._moveDir.y=0,this._rigid.linearVelocity=this._moveDir,this._animator.enabled||(this._animator.enabled=!0,v.ins_ZMDGJ_tance.play_ZMDGJ_Sound("Snake"))}onCollisionEnter(e){var t=e.other.owner;console.log(t.name),"Role"==t.name?(this._bCollision=!0,Laya.timer.once(2e3,this,()=>{this._bCollision=!1})):"Bullet"==t.name&&(this._sprite3D.active=!1)}InitRigid(){this._rigid.restitution=0,this._rigid.friction=0,this._rigid.rollingFriction=0,this._rigid.linearDamping=0,this._rigid.angularDamping=0,this._rigid.gravity=new Laya.Vector3(0,0,0),this._rigid.linearFactor=new Laya.Vector3(1,0,1),this._rigid.angularFactor=new Laya.Vector3(0,0,0),this._rigid.sleepLinearVelocity=-1,this._rigid.canCollideWith=Laya.Physics3DUtils.COLLISIONFILTERGROUP_DEFAULTFILTER|Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1}LevelStart(){this._bStart=!0}CheckMove(e){this._bFollow||!this._bFollow&&e<this._nTriggerDis?this._bMove=!0:this._bMove=!1}}class R extends Laya.Script3D{constructor(){super(...arguments),this._sprite3D=null,this._collider=null,this._animator=null}onAwake(){super.onAwake(),this._sprite3D=this.owner,this._collider=this.owner.getComponent(Laya.PhysicsCollider),this._animator=this._sprite3D.getComponent(Laya.Animator),this._animator.enabled=!1,this.BeHitted()}onEnable(){super.onEnable()}onDisable(){super.onDisable(),Laya.timer.frameOnce(1,this,()=>{this._sprite3D.destroy()})}onDestroy(){super.onDestroy(),Laya.timer.clearAll(this)}BeHitted(){this._collider.enabled=!1,this._animator.enabled=!0,Laya.timer.once(2200,this,this.DestroySelf,null,!1),console.log("BeHitted")}DestroySelf(){this._sprite3D.active=!1}}class x extends Laya.Script3D{constructor(){super(...arguments),this._sprite3D=null,this._rigid=null,this._animator=null,this._targetSprite3D=null,this._scene=null,this._bStart=!1,this._bCollision=!1,this._bMove=!1,this._bMoving=!1,this._nMoveTime=0,this._nMoveTimeMax=60,this._nTriggerDis=3.5,this._moveSpeed=5,this._moveDir=new Laya.Vector3(0,0,0),this._targetRotation=1e3,this._angleSpeed=5}onAwake(){super.onAwake(),this._sprite3D=this.owner,this._rigid=this.owner.getComponent(Laya.Rigidbody3D),this._animator=this._sprite3D.getChildByName("BarrierBull").getComponent(Laya.Animator),this._scene=this._sprite3D.scene,this._targetSprite3D=this._scene.getChildByName("Role"),this._animator.play("Idle"),this.InitRigid()}onEnable(){super.onEnable(),c.ins_ZMDGJ_tance.reg_ZMDGJ_Evemt(D.Game_On_ZMDGJ_Level_ZMDGJ_Start,this,this.LevelStart)}onDisable(){super.onDisable(),c.ins_ZMDGJ_tance.remove_ZMDGJ_Event(D.Game_On_ZMDGJ_Level_ZMDGJ_Start,this,this.LevelStart),Laya.timer.frameOnce(1,this,()=>{this._sprite3D.destroy()})}onDestroy(){super.onDestroy(),Laya.timer.clearAll(this)}onUpdate(){super.onUpdate();var t=new Laya.Vector2(0,0);t.x=this._targetSprite3D.transform.position.x-this._sprite3D.transform.position.x,t.y=this._targetSprite3D.transform.position.z-this._sprite3D.transform.position.z;var _=Math.sqrt(t.x*t.x+t.y*t.y);if(this._bMove=_<this._nTriggerDis,this._rigid.wakeUp(),!this._bMove||!this._bStart||this._bCollision)return this._moveDir=new Laya.Vector3(0,0,0),this._rigid.linearVelocity=this._moveDir,void(this._bCollision||this._animator.play("Idle"));this._animator.play("Hit"),this._bMoving?(this._nMoveTime++,this._rigid.linearVelocity=this._moveDir,this._nMoveTime>=this._nMoveTimeMax&&(this._bCollision=!0,this._animator.play("Idle"),Laya.timer.once(2e3,this,()=>{this._bCollision=!1}),this._bMoving=!1,this._nMoveTime=0,this._moveDir=new Laya.Vector3(0,0,0),this._rigid.linearVelocity=this._moveDir)):(this._targetRotation=180*Math.atan2(t.y,-t.x)/Math.PI,this._sprite3D.transform.localRotationEulerY=e.lerp_ZMDGJ_Euler_ZMDGJ_Angle(this._sprite3D.transform.localRotationEulerY,this._targetRotation,this._angleSpeed),this._sprite3D.transform.localRotationEulerY=this._sprite3D.transform.localRotationEulerY>180?this._sprite3D.transform.localRotationEulerY-360:this._sprite3D.transform.localRotationEulerY,this._sprite3D.transform.localRotationEulerY=this._sprite3D.transform.localRotationEulerY<=-180?this._sprite3D.transform.localRotationEulerY+360:this._sprite3D.transform.localRotationEulerY,Math.abs(this._sprite3D.transform.localRotationEulerY-this._targetRotation)<1&&(this._moveDir.x=-this._moveSpeed*Math.cos(this._sprite3D.transform.localRotationEulerY*Math.PI/180),this._moveDir.z=this._moveSpeed*Math.sin(this._sprite3D.transform.localRotationEulerY*Math.PI/180),this._moveDir.y=0,this._rigid.linearVelocity=this._moveDir,this._bMoving=!0,v.ins_ZMDGJ_tance.play_ZMDGJ_Sound("Shoot")))}onCollisionEnter(e){var t=e.other.owner;"Bullet"==t.name?this._sprite3D.active=!1:"BarrierRock"==t.name?(null==t.getComponent(R)&&t.addComponent(R),this.Collision()):("Role"==t.name||t.name.indexOf("Wall")>-1||"Battery"==t.name||t.name.indexOf("Barrier")>-1)&&this.Collision()}InitRigid(){this._rigid.restitution=0,this._rigid.friction=0,this._rigid.rollingFriction=0,this._rigid.linearDamping=0,this._rigid.angularDamping=0,this._rigid.gravity=new Laya.Vector3(0,0,0),this._rigid.linearFactor=new Laya.Vector3(1,0,1),this._rigid.angularFactor=new Laya.Vector3(0,0,0),this._rigid.sleepLinearVelocity=-1,this._rigid.canCollideWith=Laya.Physics3DUtils.COLLISIONFILTERGROUP_DEFAULTFILTER|Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1}LevelStart(){this._bStart=!0}Collision(){this._bCollision=!0,this._animator.play("Collision"),Laya.timer.once(3500,this,()=>{this._bCollision=!1,this._animator.play("Idle")}),this._bMoving=!1,this._nMoveTime=0,this._moveDir=new Laya.Vector3(0,0,0),this._rigid.linearVelocity=this._moveDir}}class E extends Laya.Script3D{constructor(){super(...arguments),this._sprite3D=null,this._nInitScal=new Laya.Vector3(1,1,1)}onAwake(){super.onAwake(),this._sprite3D=this.owner,this._nInitScal=this._sprite3D.transform.getWorldLossyScale().clone()}onUpdate(){super.onUpdate(),this._sprite3D.transform.setWorldLossyScale(this._nInitScal)}}class N extends Laya.Script3D{constructor(){super(...arguments),this._sprite3D=null,this._rigid=null,this._nInitpos=new Laya.Vector3(0,0,0)}onAwake(){super.onAwake(),this._sprite3D=this.owner.getChildByName("BarrierHammer"),this._rigid=this._sprite3D.getComponent(Laya.Rigidbody3D),this._nInitpos=this._sprite3D.transform.localPosition.clone(),this._rigid.canCollideWith=Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1}onUpdate(){super.onUpdate(),this._sprite3D.transform.localPosition=this._nInitpos}}class T extends Laya.Script{constructor(){super(...arguments),this._sprite3D=null,this._rigid=null,this._nInitpos=new Laya.Vector3(0,0,0),this._nInitRotion=new Laya.Vector3(0,0,0)}onAwake(){super.onAwake(),this._sprite3D=this.owner.getChildByName("BarrierStab"),this._rigid=this._sprite3D.getComponent(Laya.Rigidbody3D),this._nInitpos=this._sprite3D.transform.localPosition.clone(),this._nInitRotion=this._sprite3D.transform.localRotationEuler.clone(),this._rigid.canCollideWith=Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1}onUpdate(){super.onUpdate(),this._sprite3D.transform.localPositionX=this._nInitpos.x,this._sprite3D.transform.localPositionZ=this._nInitpos.z,this._sprite3D.transform.localRotationEuler=this._nInitRotion}}class O extends Laya.Script3D{constructor(){super(...arguments),this._scene=null,this._camera=null,this._roleSprite=null,this._objectsSprite=null,this._role=null,this._isStart=!1,this._nAllBoxNum=0}get IsStart(){return this._isStart}get AllBoxNum(){return this._nAllBoxNum}onAwake(){super.onAwake(),this._scene=this.owner,this._camera=this.owner.getChildByName("Main Camera"),this._roleSprite=this.owner.getChildByName("Role"),this._objectsSprite=this.owner.getChildByName("Objects"),this.InitCamera(),this.InitRole(),this.InitObjects()}onStart(){super.onStart(),this.LevelStart()}onEnable(){super.onEnable(),c.ins_ZMDGJ_tance.reg_ZMDGJ_Evemt(D.Game_On_ZMDGJ_Level_ZMDGJ_Start,this,this.LevelStart)}onDisable(){super.onDisable(),c.ins_ZMDGJ_tance.remove_ZMDGJ_Event(D.Game_On_ZMDGJ_Level_ZMDGJ_Start,this,this.LevelStart)}InitCamera(){this._camera.addComponent(S)}InitRole(){this._role=this._roleSprite.addComponent(b)}InitObjects(){var e=this._objectsSprite.getChildByName("GoodsAll"),t=this._objectsSprite.getChildByName("Coins"),_=this._objectsSprite.getChildByName("Batterys"),i=this._objectsSprite.getChildByName("Barriers"),n=0;for(this._nAllBoxNum=e.numChildren,n=0;n<e.numChildren;n++)e.getChildAt(n).addComponent(E);for(n=0;n<t.numChildren;n++)null!=t.getChildAt(n).getComponent(Laya.PhysicsCollider)&&(t.getChildAt(n).getComponent(Laya.PhysicsCollider).collisionGroup=Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER2,t.getChildAt(n).getComponent(Laya.PhysicsCollider).isTrigger=!0);for(n=0;n<_.numChildren;n++)_.getChildAt(n).addComponent(I);for(n=0;n<i.numChildren;n++)switch(i.getChildAt(n).name){case"BarrierEnemy":i.getChildAt(n).addComponent(V);break;case"BarrierBull":i.getChildAt(n).addComponent(x);break;case"BarrierRock":i.getChildAt(n).getComponent(Laya.Animator).enabled=!1;break;case"BarrierHammer":i.getChildAt(n).addComponent(N);break;case"BarrierStab":i.getChildAt(n).addComponent(T)}}LevelStart(){this._isStart=!0}LevelOver(e){this._isStart&&(this._isStart=!1,P.get_ZMDGJ_Instance().GameOver(e))}DestroySelf(){this._scene&&(this._scene.active=!1,Laya.timer.frameOnce(1,this,()=>{this._scene.removeSelf(),this._scene.destroy()}))}}class U{constructor(){this.openBanner=1,this.openVideo=1,this.openInsert=1}static getInstance(){return null==U._instance&&U.load(),U._instance}static load(){U._instance=new U,""!=U.resUrl&&Laya.loader.load(U.resUrl,Laya.Handler.create(this,e=>{if(e){for(const t of Object.keys(e))U._instance[t]=e[t];U._instance.SetBannerActive()}U._instance.SetBannerActive()}))}hideBanner(){B.CallNativeFunc("hideBanner")}SetBannerActive(){1==this.openBanner?B.CallNativeFunc("showBanner"):B.CallNativeFunc("hideBanner")}}U.resUrl="";class P extends Laya.Script{constructor(){super(),this._curLevel=null,this._bSceneOpen=!1,P._instance=this}static get_ZMDGJ_Instance(){return P._instance}get CurLevel(){return this._curLevel}onAwake(){}onStart(){this.pre_ZMDGJ_Create_ZMDGJ_Game()}pre_ZMDGJ_Create_ZMDGJ_Game(){Laya.URL.customFormat=(e=>e),Laya.MouseManager.multiTouchEnabled=!1,this.EnterGameScene(()=>{c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.App_Close_ZMDGJ_First_ZMDGJ_Loading_ZMDGJ_View)})}save_ZMDGJ_Game_ZMDGJ_Data(){Laya.LocalStorage.setItem("Game_Data",J.get_ZMDGJ_Save_ZMDGJ_Data())}report_ZMDGJ_Launch_ZMDGJ_Options(){g.Get_ZMDGJ_user_ZMDGJ_ip(e=>{if(1==e.code){console.log("获取玩家ip,地区成功 ：",e.data.dqip,e.data.ipxq);let t=null;Laya.Browser.onMiniGame?t=u.get_ZMDGJ_Launch_ZMDGJ_Options_ZMDGJ_Sync():Laya.Browser.onQQMiniGame&&(t=m.get_ZMDGJ_Launch_ZMDGJ_Options_ZMDGJ_Sync()),null!=t&&L.ald_ZMDGJ_Send_ZMDGJ_Report_ZMDGJ_LaunchOptions(t.scene,e.data.dqip,e.data.ipxq)}},e=>{console.log("获取玩家ip,地区失败");let t=null;Laya.Browser.onMiniGame?t=u.get_ZMDGJ_Launch_ZMDGJ_Options_ZMDGJ_Sync():Laya.Browser.onQQMiniGame&&(t=m.get_ZMDGJ_Launch_ZMDGJ_Options_ZMDGJ_Sync()),null!=t&&L.ald_ZMDGJ_Send_ZMDGJ_Report_ZMDGJ_LaunchOptions(t.scene,"","")})}EnterGameScene(e){if(!this._bSceneOpen){var _=t.Res_ZMDGJ_Server+"/LayaScene/Conventional/"+J.get_ZMDGJ_FakerLeveNum().toString()+".ls";Laya.Scene3D.load(_,Laya.Handler.create(this,t=>{console.log("GameMgr.EnterGameScene : "+_+" loaded"),Laya.stage.addChild(t),this._curLevel=t.addComponent(O),y.ins_ZMDGJ_tance.open_ZMDGJ_View(M.MainView,null,e),this._bSceneOpen=!0,U.getInstance().SetBannerActive()})),v.ins_ZMDGJ_tance.play_ZMDGJ_BGM("BGM"),U.getInstance().SetBannerActive()}}GameOver(e){if(this._bSceneOpen){var t=e?M.GameWinView:M.GameFailView;y.ins_ZMDGJ_tance.open_ZMDGJ_View(t,{bWin:e},()=>{y.ins_ZMDGJ_tance.close_ZMDGJ_View(M.InGameView),this._curLevel.DestroySelf(),this._bSceneOpen=!1}),v.ins_ZMDGJ_tance.stop_ZMDGJ_BGM()}}PreLoadScene(_){if(e.is_ZMDGJ_Iphone6())return void console.log("is_ZMDGJ_Iphone6 不预加载远程场景关卡");let i=t.Res_ZMDGJ_Server+"/LayaScene/Conventional/"+_+".ls";Laya.Scene3D.load(i,Laya.Handler.create(this,function(e){console.log("预加载远程场景关卡"+i+"  加载完成")}))}}function isIViewStateListener(e){return null!=e.onViewShow&&"function"==typeof e.onViewShow&&null!=e.onViewHide&&"function"==typeof e.onViewHide}P._instance=null;class F extends Laya.Script{constructor(){super(...arguments),this.on_ZMDGJ_CloseEvent=null,this.on_ZMDGJ_OpenEvent=null,this._viewBase=!0,this._viewDef=M.None,this._data={}}get View_ZMDGJ_(){return this.owner}onAwake(){super.onAwake()}onEnable(){super.onEnable(),this.add_ZMDGJ_Event()}onDisable(){super.onDisable(),this.remove_ZMDGJ_Event()}onDestroy(){super.onDestroy(),this.remove_ZMDGJ_Event()}open_ZMDGJ_View(e){this._data=e,this.show_ZMDGJ_(),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_On_ZMDGJ_View_ZMDGJ_Open,{view:this._viewDef}),this.on_ZMDGJ_OpenEvent&&this.on_ZMDGJ_OpenEvent()}add_ZMDGJ_Event(){}remove_ZMDGJ_Event(){Laya.timer.clearAll(this)}close_ZMDGJ_View(){y.ins_ZMDGJ_tance.close_ZMDGJ_View(this._viewDef)}hide_ZMDGJ_(){this.View_ZMDGJ_.visible=!1,this.onHide(),e.for_ZMDGJ_Each_ZMDGJ_Child(this.owner,e=>{let t=e._components;if(t)for(let e=0;e<t.length;e++){const _=t[e];isIViewStateListener(_)&&_.onViewHide(this)}})}show_ZMDGJ_(){this.View_ZMDGJ_.visible=!0,this.onShow(),e.for_ZMDGJ_Each_ZMDGJ_Child(this.owner,e=>{let t=e._components;if(t)for(let e=0;e<t.length;e++){const _=t[e];isIViewStateListener(_)&&_.onViewShow(this)}})}view_ZMDGJ_IsHide(){return this.View_ZMDGJ_.visible}onHide(){}onShow(){}onClose(){Laya.timer.clearAll(this),Laya.Tween.clearAll(this),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_On_ZMDGJ_View_ZMDGJ_Close,{view:this._viewDef}),this.on_ZMDGJ_CloseEvent&&this.on_ZMDGJ_CloseEvent()}}class q extends F{constructor(){super(...arguments),this._process_ZMDGJ_Width=0}onAwake(){super.onAwake(),this._bg_ZMDGJ_=this.owner.getChildByName("Bg"),this._bottom_ZMDGJ_Zone=this._bg_ZMDGJ_.getChildByName("BottomZone"),this._process_ZMDGJ_BarBg=this._bottom_ZMDGJ_Zone.getChildByName("processBarBg"),this._process_ZMDGJ_Bar=this._process_ZMDGJ_BarBg.getChildByName("processBar"),this._process_ZMDGJ_Width=this._process_ZMDGJ_Bar.width}onStart(){super.onStart(),Laya.timer.once(250,this,()=>{})}onEnable(){super.onEnable()}add_ZMDGJ_Event(){super.add_ZMDGJ_Event()}remove_ZMDGJ_Event(){super.remove_ZMDGJ_Event()}onUpdate(){super.onUpdate(),this._bg_ZMDGJ_.width=Laya.stage.width,this._bg_ZMDGJ_.height=Laya.stage.height}set_ZMDGJ_Process(e){e<0&&(e=0),e>1&&(e=1);var t=this._process_ZMDGJ_Width*e;t<1&&(t=1),this._process_ZMDGJ_Bar.width=t}}class H extends Laya.Script{constructor(){super(),this.use_ZMDGJ_Sound=!0}onAwake(){super.onAwake(),this.owner.on(Laya.Event.MOUSE_DOWN,this,this.on_ZMDGJ_Down),this.owner.on(Laya.Event.MOUSE_UP,this,this.on_ZMDGJ_Up),this.owner.on(Laya.Event.MOUSE_OUT,this,this.on_ZMDGJ_Up)}onDisable(){super.onDisable(),this.owner.offAll(),Laya.Tween.clearAll(this)}on_ZMDGJ_Down(){Laya.Tween.to(this.owner,{scaleX:.9,scaleY:.9},50),this.use_ZMDGJ_Sound&&v.ins_ZMDGJ_tance.play_ZMDGJ_Sound("anniu")}on_ZMDGJ_Up(){Laya.Tween.to(this.owner,{scaleX:1,scaleY:1},50)}}class Q extends F{onAwake(){super.onAwake()}add_ZMDGJ_Event(){super.add_ZMDGJ_Event(),c.ins_ZMDGJ_tance.reg_ZMDGJ_Evemt(D.App_On_ZMDGJ_Update_ZMDGJ_IpBlockState,this,this.on_ZMDGJ_UpdateIp_ZMDGJ_BlockState)}remove_ZMDGJ_Event(){super.remove_ZMDGJ_Event(),c.ins_ZMDGJ_tance.remove_ZMDGJ_Event(D.App_On_ZMDGJ_Update_ZMDGJ_IpBlockState,this,this.on_ZMDGJ_UpdateIp_ZMDGJ_BlockState)}on_ZMDGJ_History_ZMDGJ_Btn(){let e=this;y.ins_ZMDGJ_tance.open_ZMDGJ_View(M.MiniGameView,null,t=>{e.hide_ZMDGJ_(),t.on_ZMDGJ_CloseEvent=(()=>{null==e.View_ZMDGJ_||e.View_ZMDGJ_.destroyed||e.show_ZMDGJ_()})})}get is_ZMDGJ_Show_ZMDGJ_HistoryBtn(){return!0}on_ZMDGJ_UpdateIp_ZMDGJ_BlockState(e){}}class z{constructor(){this.id=0,this.icon="",this.priceType=0,this.price=0}clone(){let e=new z;return e.id=this.id,e.icon=this.icon,e.priceType=this.priceType,e.price=this.price,e}}class W{constructor(){this._data=new Array}static getInstance(){return null==W._instance&&(W._instance=W.load()),W._instance}static load(){var e=new W,_=Laya.loader.getRes(t.Local_ZMDGJ_Test_ZMDGJ_ReServer+"/json/storeconfig.json");if(_){for(var i=0;i<_.length;++i){var n=_[i],a=new z;a.id=Number(n.id),a.icon=String(n.icon),a.priceType=Number(n.priceType),a.price=Number(n.price),e._data.push(a)}return e}}getStoreDatas(){let e=new Array;for(let t=0;t<this._data.length;++t)e.push(this._data[t].clone());return e}}class X{constructor(e){this._id_ZMDGJ_=null,this._banner_ZMDGJ_=null,this._create_ZMDGJ_Time=0,this._destroyed_ZMDGJ_=!1,this._ZMDGJ__error_ZMDGJ_=null,this._loading_ZMDGJ_=!1,this._retry_ZMDGJ_Count=0,this._banner_ZMDGJ_Total_ZMDGJ_ShowTime=0,this._last_ZMDGJ_Show_ZMDGJ_Time=0,this._id_ZMDGJ_=e}get _ZMDGJ_Id_ZMDGJ_(){return this._id_ZMDGJ_}get Create_ZMDGJ_Time(){return this._create_ZMDGJ_Time}get Destroyed_ZMDGJ_(){return this._destroyed_ZMDGJ_}get is_ZMDGJ_Ready(){return null!=this._banner_ZMDGJ_}get is_ZMDGJ_Error(){return null!=this._ZMDGJ__error_ZMDGJ_}get _ZMDGJ_Error_ZMDGJ_(){return this._ZMDGJ__error_ZMDGJ_}get Load_ZMDGJ_ing(){return this._loading_ZMDGJ_}get Retry_ZMDGJ_Count(){return this._retry_ZMDGJ_Count}get Banner_ZMDGJ_Total_ZMDGJ_ShowTime(){return this._banner_ZMDGJ_Total_ZMDGJ_ShowTime}_ZMDGJ_show_ZMDGJ_(){if(this.is_ZMDGJ_Ready){this._banner_ZMDGJ_.hide();let e=Laya.Browser.window.wx.getSystemInfoSync(),t=e.screenWidth,_=e.screenHeight,i=(new Laya.Point(0,0),t/2-300/2),n=_-130;this._banner_ZMDGJ_.style.left=i,this._banner_ZMDGJ_.style.top=n,this._last_ZMDGJ_Show_ZMDGJ_Time=Laya.timer.currTimer,this._banner_ZMDGJ_.show()}}_ZMDGJ_hide_ZMDGJ_(){this.is_ZMDGJ_Ready&&(this._banner_ZMDGJ_.hide(),this._banner_ZMDGJ_Total_ZMDGJ_ShowTime+=Laya.timer.currTimer-this._last_ZMDGJ_Show_ZMDGJ_Time)}des_ZMDGJ_troy(){this._destroyed_ZMDGJ_?console.log("BannerAd 已经被销毁"):this._loading_ZMDGJ_?console.log("BannerAd 正在加载中，无法进行销毁"):(null!=this._banner_ZMDGJ_&&this._banner_ZMDGJ_.destroy(),this._banner_ZMDGJ_=null,this._destroyed_ZMDGJ_=!0)}_ZMDGJ_retry_ZMDGJ_(e){if(this._destroyed_ZMDGJ_)return void console.log("BannerAd 已被销毁，无法重试");if(this.is_ZMDGJ_Ready)return void console.log("BannerAd 已创建成功，无需重试");if(this._loading_ZMDGJ_)return void console.log("BannerAd 正在创建中");if(this._retry_ZMDGJ_Count>=X.MAX__ZMDGJ_RETRY_COUNT_ZMDGJ_)return void console.log("此 BannerAd 重试次数已达最大");let t=this;this._create_ZMDGJ_(_=>{null!=e&&e(_),++t._retry_ZMDGJ_Count})}_create_ZMDGJ_(e){if(!Laya.Browser.onMiniGame)return void(null!=e&&e(!1));let t=null;if(Laya.Browser.onMiniGame?t=Laya.Browser.window.wx.createBannerAd({adUnitId:this._id_ZMDGJ_,adIntervals:30,style:{left:0,top:0,width:300}}):Laya.Browser.onQQMiniGame&&(t=Laya.Browser.window.qq.createBannerAd({adUnitId:this._id_ZMDGJ_,adIntervals:30,style:{left:0,top:0,width:300}})),null!=t){let _=this;this._loading_ZMDGJ_=!0,t.onLoad(i=>{console.log("BannderAd 加载完成",_._id_ZMDGJ_,i),_._banner_ZMDGJ_=t,_._create_ZMDGJ_Time=Laya.timer.currTimer,_._loading_ZMDGJ_=!1,null!=e&&e(!0)}),t.onError(i=>{console.log("BannderAd 加载失败",_._id_ZMDGJ_,i),_._ZMDGJ__error_ZMDGJ_=i,_._loading_ZMDGJ_=!1,t.destroy(),null!=e&&e(!1)})}}}X.MAX__ZMDGJ_RETRY_COUNT_ZMDGJ_=3;class j{constructor(e){this._id_ZMDGJ_=null,this._grid_ZMDGJ_Ad=null,this._create_ZMDGJ_Time=0,this._des_ZMDGJ_troyed=!1,this._ZMDGJ__error_ZMDGJ_=null,this._load_ZMDGJ_ing=!1,this._id_ZMDGJ_=e}get Create_ZMDGJ_Time(){return this._create_ZMDGJ_Time}get Des_ZMDGJ_troyed(){return this._des_ZMDGJ_troyed}get is_ZMDGJ_Ready(){return null!=this._grid_ZMDGJ_Ad}get is_ZMDGJ_Error(){return null!=this._ZMDGJ__error_ZMDGJ_}get _ZMDGJ_Error_ZMDGJ_(){return this._ZMDGJ__error_ZMDGJ_}get Load_ZMDGJ_ing(){return this._load_ZMDGJ_ing}_ZMDGJ_show_ZMDGJ_(){this.is_ZMDGJ_Ready&&this._grid_ZMDGJ_Ad.show()}_ZMDGJ_hide_ZMDGJ_(){this.is_ZMDGJ_Ready&&this._grid_ZMDGJ_Ad.hide()}des_ZMDGJ_troy(){this._des_ZMDGJ_troyed?console.log("GridAD 已经被销毁"):this._load_ZMDGJ_ing?console.log("GridAD 正在加载中，无法进行销毁"):(null!=this._grid_ZMDGJ_Ad&&this._grid_ZMDGJ_Ad.destroy(),this._grid_ZMDGJ_Ad=null,this._des_ZMDGJ_troyed=!0)}_ZMDGJ_retry_ZMDGJ_(e){if(this._des_ZMDGJ_troyed)return void console.log("GridAD 已被销毁，无法重试");if(this.is_ZMDGJ_Ready)return void console.log("GridAD 已创建成功，无需重试");if(this._load_ZMDGJ_ing)return void console.log("GridAD 正在创建中");this._ZMDGJ__create_ZMDGJ_(t=>{null!=e&&e(t)})}_ZMDGJ__create_ZMDGJ_(e){if(!Laya.Browser.onMiniGame)return void(null!=e&&e(!1));let t=Laya.Browser.window.wx.createGridAd({adUnitId:this._id_ZMDGJ_,adIntervals:30,style:{left:0,top:0,width:300,height:150}});if(null!=t){let _=this;this._load_ZMDGJ_ing=!0,t.onLoad(i=>{console.log("GridAD 加载完成",_._id_ZMDGJ_,i),_._grid_ZMDGJ_Ad=t,_._create_ZMDGJ_Time=Laya.timer.currTimer,_._load_ZMDGJ_ing=!1,null!=e&&e(!0)}),t.onError(i=>{console.log("GridAD 加载失败",_._id_ZMDGJ_,i),_._ZMDGJ__error_ZMDGJ_=i,_._load_ZMDGJ_ing=!1,t.destroy(),null!=e&&e(!1)})}}}class K{static _ZMDGJ_init_ZMDGJ_(){if(K._inited_ZMDGJ_)return;let e=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().wx_ZMDGJ_Wu_ZMDGJ_Dian_ZMDGJ_Banners;for(let t=0;t<e.length;++t)K._banner_ZMDGJ_Ids.push(e[t]);for(let t=0;t<K._banner_ZMDGJ_Ids.length;++t){K._banner_ZMDGJ_Ids[t];K._banner_ZMDGJ_Ids[t]=e[Math.floor(Math.random()*e.length)]}K._create_ZMDGJ_BannerAd_ZMDGJ_();let t=1e3*r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().banner_ZMDGJ_Create_ZMDGJ_FailNum;Laya.timer.loop(t,K,()=>{K._check_ZMDGJ_BannerAd_ZMDGJ_(),K._create_ZMDGJ_BannerAd_ZMDGJ_()}),K._inited_ZMDGJ_=!0}static get_ZMDGJ_Banner(e){let t=[],_=[];for(let e=0;e<K._banners_ZMDGJ_.length;++e){let i=K._banners_ZMDGJ_[e];i.Destroyed_ZMDGJ_||(i.is_ZMDGJ_Ready?t.push(i):_.push(i))}K._cur_ZMDGJ_Banner_ZMDGJ_GetIndex>=t.length&&(K._cur_ZMDGJ_Banner_ZMDGJ_GetIndex=0);let i=t[K._cur_ZMDGJ_Banner_ZMDGJ_GetIndex];++K._cur_ZMDGJ_Banner_ZMDGJ_GetIndex,null!=i?e(i):(null==(i=K._create_ZMDGJ_BannerAd_ZMDGJ_())&&(i=K._banners_ZMDGJ_[Math.floor(Math.random()*K._banners_ZMDGJ_.length)]),null==i?e(null):i._ZMDGJ_retry_ZMDGJ_(t=>{e(t?i:null)}))}static _create_ZMDGJ_BannerAd_ZMDGJ_(){if(K._cur_ZMDGJ_Banner_ZMDGJ_CreateIndex>=K._banner_ZMDGJ_Ids.length)return null;let e=new X(K._banner_ZMDGJ_Ids[K._cur_ZMDGJ_Banner_ZMDGJ_CreateIndex]);return K._banners_ZMDGJ_.push(e),e._ZMDGJ_retry_ZMDGJ_(),++K._cur_ZMDGJ_Banner_ZMDGJ_CreateIndex,e}static _check_ZMDGJ_BannerAd_ZMDGJ_(){let e=[],t=[];for(let _=0;_<K._banners_ZMDGJ_.length;++_){let i=K._banners_ZMDGJ_[_];i.Destroyed_ZMDGJ_||(i.is_ZMDGJ_Ready?e.push(i):t.push(i))}for(let t=0;t<K._banners_ZMDGJ_.length;++t){let _=K._banners_ZMDGJ_[t],i=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().banner_ZMDGJ_Show_ZMDGJ_Time;_.is_ZMDGJ_Ready?e.length>=2&&_.Banner_ZMDGJ_Total_ZMDGJ_ShowTime>=1e3*i&&(console.log("BannerAd 展示时间超过限制，销毁 : ",_._ZMDGJ_Id_ZMDGJ_),_.des_ZMDGJ_troy()):_.Retry_ZMDGJ_Count>=X.MAX__ZMDGJ_RETRY_COUNT_ZMDGJ_?(console.log("BannerAd 超过重试次数，销毁 : ",_._ZMDGJ_Id_ZMDGJ_),_.des_ZMDGJ_troy()):_._ZMDGJ_retry_ZMDGJ_()}}static get_ZMDGJ_Box_ZMDGJ_Ad(e){if(K._wx_ZMDGJ_GridAd.is_ZMDGJ_Ready)e(K._wx_ZMDGJ_GridAd);else{let t=K._wx_ZMDGJ_GridAd;t._ZMDGJ_retry_ZMDGJ_(_=>{e(_?t:null)})}}static _create_ZMDGJ_GirdAd(){if(null!=K._wx_ZMDGJ_GridAd)return;let e=new j("");e._ZMDGJ_retry_ZMDGJ_(),K._wx_ZMDGJ_GridAd=e}}K._inited_ZMDGJ_=!1,K._banner_ZMDGJ_Ids=new Array,K._banners_ZMDGJ_=new Array,K._cur_ZMDGJ_Banner_ZMDGJ_CreateIndex=0,K._cur_ZMDGJ_Banner_ZMDGJ_GetIndex=0,K._wx_ZMDGJ_GridAd=null;class Y extends Q{constructor(){super(...arguments),this._centerZone=null,this._okBtn=null,this._skipBtn=null,this._skinAnchor=null,this._banner=null,this._ading=!1,this._skinID=0,this._bUp=!0,this._bBanner=!0}onAwake(){super.onAwake(),this._centerZone=this.View_ZMDGJ_.getChildByName("CenterZone"),this._okBtn=this._centerZone.getChildByName("OkBtn"),this._skipBtn=this._centerZone.getChildByName("SkipBtn"),this._skinAnchor=this._centerZone.getChildByName("SkinAnchor"),this.InitSkin()}onEnable(){super.onEnable(),c.ins_ZMDGJ_tance.reg_ZMDGJ_Evemt(D.RewardVideoFail,this,this.onRewardVidewoFail),c.ins_ZMDGJ_tance.reg_ZMDGJ_Evemt(D.RewardVideoSuccess,this,this.onRewardVidewoSuccess)}onDisable(){super.onDisable(),c.ins_ZMDGJ_tance.remove_ZMDGJ_Event(D.RewardVideoFail,this,this.onRewardVidewoFail),c.ins_ZMDGJ_tance.remove_ZMDGJ_Event(D.RewardVideoSuccess,this,this.onRewardVidewoSuccess)}onRewardVidewoFail(){this._ading=!1,this.CloseSelf()}onRewardVidewoSuccess(){c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_TrySkin,{SkinId:this._skinID}),this.CloseSelf()}add_ZMDGJ_Event(){super.add_ZMDGJ_Event(),this._okBtn.on(Laya.Event.CLICK,this,this.onOkBtn),this._skipBtn.on(Laya.Event.CLICK,this,this.onSkipBtn)}remove_ZMDGJ_Event(){super.remove_ZMDGJ_Event(),this._okBtn.off(Laya.Event.CLICK,this,this.onOkBtn),this._skipBtn.off(Laya.Event.CLICK,this,this.onSkipBtn)}onDestroy(){super.onDestroy(),null!=this._banner&&this._banner._ZMDGJ_hide_ZMDGJ_(),this._banner=null}InitSkin(){var e=W.getInstance().getStoreDatas(),_=Math.floor(Math.random()*(e.length-1))+1;this._skinID=_;Laya.Scene3D.load(t.Res_ZMDGJ_Server+"/LayaScene/Conventional/RoleShow.ls",Laya.Handler.create(this,e=>{console.log("LayaScene load RoleShow"),this._skinAnchor.addChild(e);var t=Laya.stage.width/750,i=e.getChildByName("Role");i.transform.localScaleX=i.transform.localScaleX*t,i.transform.localScaleY=i.transform.localScaleY*t,i.transform.localScaleZ=i.transform.localScaleZ*t;var n=i.getComponent(Laya.Animator),a=i.getChildByName("Box001");a.skinnedMeshRenderer.material=a.skinnedMeshRenderer.materials[_];for(var o=0;o<i.numChildren;o++)-1!=i.getChildAt(o).name.indexOf("Hat")&&(i.getChildAt(o).active=i.getChildAt(o).name.indexOf("Hat"+(_+1).toString())>-1);Laya.timer.loop(1,this,()=>{i.transform.localRotationEulerY+=2}),n.play("Win2")}))}onOkBtn(){Laya.Browser.onAndroid||Laya.Browser.onIOS?(B.CallNativeFunc("showRewardVideo"),v.ins_ZMDGJ_tance.stop_ZMDGJ_BGM()):(c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_TrySkin,{SkinId:this._skinID}),this.CloseSelf())}onSkipBtn(){this.CloseSelf()}BtnUp(){this._bUp||(this._skipBtn.bottom+=200,this._bUp=!0)}BannerUp(){console.log("BannerUp");let e=this;K.get_ZMDGJ_Banner(t=>{null!=e._banner&&this._banner._ZMDGJ_hide_ZMDGJ_(),e._banner=t,null!=e._banner&&this._banner._ZMDGJ_show_ZMDGJ_()}),this._bBanner=!0}CloseSelf(){y.ins_ZMDGJ_tance.open_ZMDGJ_View(M.InGameView,null,()=>{y.ins_ZMDGJ_tance.close_ZMDGJ_View(M.SkinTipsView),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_On_ZMDGJ_Level_ZMDGJ_Start)})}}class ${static refresh_ZMDGJ_Ad(e){}static get_ZMDGJ_ADVs(e,t,_,i,n){}static report_ZMDGJ_User_ZMDGJ_Click(e){}static get_ZMDGJ_Random_ZMDGJ_ADPosID(){return 0}static request_ZMDGJ_(e){}static get_ZMDGJ_Ad_ZMDGJ_PosData(e,t){}static req_ZMDGJ_User_ZMDGJ_Click(e,t,_){}static get_ZMDGJ_ADV_ZMDGJ_Data(e,t,_){}static Random_ZMDGJ_Jump(e=1){}static isNeed_ZMDGJ_ShowAd(){return!0}static sort_ZMDGJ_Datas(e){return[]}}$.main_ZMDGJ_Url="",$.get_ZMDGJ_AdPostion="",$.get_ZMDGJ_Adv="",$.user_ZMDGJ_Click="",$.LoopAd_ZMDGJ_LocationID=593,$.Banner_ZMDGJ_AdLocationID=595,$.Insert_ZMDGJ_AdLocationID=-1,$.AniAd_ZMDGJ_LocationID=-1,$.History_ZMDGJ_LocationID=-1,$.MoreGame_ZMDGJ_LocationID=594,$.Use_ZMDGJ_Random_ZMDGJ_AdPos=!0,$.Ad_ZMDGJ_Locationids=[593,594],$._ad_ZMDGJ_Position={},$._adv_ZMDGJ_={},$._iphone_ZMDGJ_Ignore_ZMDGJ_AppIds=["",""];class ee{static get Banner_ZMDGJ_Instance(){return ee._banner_ZMDGJ_}static _ZMDGJ_Login_ZMDGJ_(e,t){Laya.Browser.onQGMiniGame&&Laya.Browser.window.qg.login({success:t=>{let _=t.data.token;for(var i in e(_),console.log("OPPO 登陆成功,获取到 token : "+_),t)console.log(i,t[i])},fail:e=>{for(var t in console.log("OPPO 登陆失败",e),e)console.log(t,e[t])}})}static init_ZMDGJ_AdService(e,_,i){Laya.Browser.window.qg.initAdService({appId:t.App_ZMDGJ_ID,isDebug:!1,success:function(t){console.log("oppo initAdService success"),e&&e(t)},fail:function(e){console.log("oppo initAdService fail: ",e.code,e.msg),_&&_(e)},complete:function(e){console.log("oppo initAdService complete"),i&&i(e)}})}static show_ZMDGJ_Reward_ZMDGJ_edVideoAd(e,t){if(Laya.Browser.onQGMiniGame){var _=Laya.Browser.window.qg.createRewardedVideoAd({posId:ee.ad_ZMDGJ_UnitId});_.onLoad(()=>{console.log("oppo 视频广告加载完成"),_.show()}),_.onVideoStart(()=>{console.log("oppo 视频广告开始播放")}),_.onClose(t=>{t.isEnded?(console.log("oppo 视频广告观看 完成"),e(!0)):(console.log("oppo 视频广告观看 未完成"),e(!1)),_.destroy()}),_.onError(e=>{console.log("oppo 视频广告获取失败",e),_.destroy(),t()}),_.load()}else e(!0)}static navigate_ZMDGJ_To_ZMDGJ_MiniProgram(e,_,i,n,a,o){if(Laya.Browser.onQGMiniGame){console.log("OPPO 跳转游戏： "+e),g.report_ZMDGJ_Export(e,_,e=>{1==e.code?console.log("OPPO 导出上报成功"):console.log("OPPO 导出上报失败",e.msg)},e=>{for(var t in console.log("OPPO 导出上报失败"),e)console.log(t,e[t])});let o=Date.now();for(;Date.now()-o<=500;);Laya.Browser.window.qg.navigateToMiniGame({pkgName:e,path:i,extraData:{from:t.App_ZMDGJ_ID},envVersion:"release",success(e){n&&n(e)},fail(e){a&&a(e)}})}}static show_ZMDGJ_Interstitial_ZMDGJ_Ad(e,t){if(Laya.Browser.onQGMiniGame){var _=qg.createInsertAd({posId:ee.Ins_ZMDGJ_AdUnitId});_.load(),_.onLoad(()=>{console.log("插屏广告加载完成"),_.show()}),_.onShow(()=>{console.log("插屏广告显示成功")}),_.onError(e=>{console.log("插屏广告拉取失败",e),_.destroy(),t&&t()})}else e()}static show_ZMDGJ_Bannaer(){if(ee._banner_ZMDGJ_)ee._banner_ZMDGJ_.show();else{var e=qg.createBannerAd({posId:ee.banner_ZMDGJ_AdUnitId});e.show(),ee._banner_ZMDGJ_=e}}static hide_ZMDGJ_Banner(){ee._banner_ZMDGJ_&&ee._banner_ZMDGJ_.hide()}static destroyBanner(){ee._banner_ZMDGJ_&&ee._banner_ZMDGJ_.destroy(),ee._banner_ZMDGJ_=null}static get_ZMDGJ_LaunchOpt_ZMDGJ_ionsSync(){let e={query:"",referrerInfo:{package:"",extraData:{appid:""}}};if(Laya.Browser.onQGMiniGame){var t=Laya.Browser.window.qg.getLaunchOptionsSync();return null!=t&&""!=t?e=t:console.log("没有启动设置！！！"),e}return e}static _ZMDGJ_share_ZMDGJ_(e,t,_){e(!1)}static create_ZMDGJ_DesktopIcon(e,t){Laya.Browser.onQGMiniGame?Laya.Browser.window.qg.hasShortcutInstalled({success:function(_){0==_?Laya.Browser.window.qg.installShortcut({success:function(){e&&e()},fail:function(e){for(var _ in t&&t(),console.log("创建桌面图标失败！！！！",e),e)console.log(_,e)},complete:function(){}}):(console.log("桌面图标已存在！！！！"),t&&t())},fail:function(e){for(var _ in t&&t(),console.log("判断桌面图标是否存在失败！！！",e),e)console.log(_,e)},complete:function(){}}):t&&t()}static auto_ZMDGJ_Pop_ZMDGJ_Create_ZMDGJ_DestopIcon(e,t){if(!Laya.Browser.onQGMiniGame)return void(null!=t&&t());Math.floor(100*Math.random())<=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().oppo_ZMDGJ_cfg.add_ZMDGJ_To_ZMDGJ_Desktop?ee.create_ZMDGJ_DesktopIcon(e,t):null!=t&&t()}static show_ZMDGJ_NativeAd(e,t){Laya.Browser.onQGMiniGame&&1==r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().oppo_ZMDGJ_cfg.yuan_ZMDGJ_sheng_ZMDGJ_Switch?y.ins_ZMDGJ_tance.open_ZMDGJ_View(M.OPPONativeView,null,t=>{null!=e&&e(t)}):null!=t&&t()}}ee.ad_ZMDGJ_UnitId="",ee.banner_ZMDGJ_AdUnitId="",ee.Ins_ZMDGJ_AdUnitId="",ee.Open_ZMDGJ_Screen_ZMDGJ_AdUnitId="",ee.Native_ZMDGJ_AdId="",ee._banner_ZMDGJ_=null;class te{static _ZMDGJ_ttLogin_ZMDGJ_(e,_){t.onTTMiniGame&&null!=Laya.Browser.window.tt&&(Laya.Browser.window.tt.login({force:!1,success:t=>{console.log("登陆成功1");let i=t.code;i?e(i):(console.log("用户没有登陆，采用临时code"),_())},fail:()=>{console.log("登陆失败1"),_()}}),te.init_ZMDGJ_Record())}static on_ZMDGJ_Rewarded_ZMDGJ_Video_ZMDGJ_AdLoad(){console.log("激励视频 广告加载完成")}static on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Error(e){console.log("激励视频 广告加载失败"+e),te._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Failed&&te._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Failed()}static on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Close(e){e&&e.isEnded||null==e?(console.log("激励视频 已完整观看"),te._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Close&&te._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Close(!0)):(console.log("激励视频 未完整观看"),te._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Close&&te._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Close(!1))}static reg_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Event(e){e.onLoad(te.on_ZMDGJ_Rewarded_ZMDGJ_Video_ZMDGJ_AdLoad),e.onError(te.on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Error),e.onClose(te.on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Close),te._isReg_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Event=!0}static show_ZMDGJ_Rewarded_ZMDGJ_VideoAd(e,_){if(t.onTTMiniGame&&null!=Laya.Browser.window.tt){te._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Close=e,te._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Failed=_;var i=Laya.Browser.window.tt.createRewardedVideoAd({adUnitId:te.ad_ZMDGJ_UnitId});te._isReg_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Event||te.reg_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Event(i),i.load().then(()=>{var e=i.show();e.then(()=>console.log("激励视频 广告显示成功")),e.catch(e=>{i.load().then(()=>i.show()).catch(e=>{console.log("激励视频 广告显示失败"),_&&_()})})}).catch(e=>{console.log("激励视频 广告加载失败"),_&&_()})}else e(!0)}static init_ZMDGJ_Record(){te.record_ZMDGJ_=Laya.Browser.window.tt.getGameRecorderManager(),null!=te.record_ZMDGJ_&&(te.record_ZMDGJ_.onStart(e=>{console.log("录屏开始"),te.record_ZMDGJ_Res=""}),te.record_ZMDGJ_.onStop(e=>{console.log("录屏结束"),te.record_ZMDGJ_Res=e.videoPath}))}static start_ZMDGJ_Record(e=300){t.onTTMiniGame&&te.record_ZMDGJ_.start({duration:e})}static stop_ZMDGJ_Record(){t.onTTMiniGame&&te.record_ZMDGJ_.stop()}static share_ZMDGJ_Record(e=null,_=null){t.onTTMiniGame&&(""!=te.record_ZMDGJ_Res?window.tt.shareAppMessage({channel:"video",extra:{videoPath:te.record_ZMDGJ_Res,videoTopics:[t.Game_ZMDGJ_Name]},success(){null!=e&&e(),console.log("分享视频成功")},fail(e){console.log("分享视频失败"),null!=_&&_()}}):(null!=_&&_(),console.log("分享视频为空")))}static share_ZMDGJ_(e=null){(t.onTTMiniGame||null!=Laya.Browser.window.tt)&&window.tt.shareAppMessage({templateId:te._templateId_ZMDGJ_,success(){null!=e&&e()},fail(){console.log("分享失败")}})}static show_ZMDGJ_Banner(){}static hideBanner(){null!=te._banner_ZMDGJ_&&te._banner_ZMDGJ_.hide()}static showMoreGamesModal(e,_){"ios"!==Laya.Browser.window.tt.getSystemInfoSync().platform?Laya.Browser.window.tt.showMoreGamesModal({appLaunchOptions:[{appId:t.App_ZMDGJ_ID,query:"foo=bar&baz=qux",extraData:{}}],success(t){console.log("success",t.errMsg),e&&e()},fail(e){console.log("fail",e.errMsg),_&&_()}}):_&&_()}static autoOpenSignInView(e){g.GetSignIn(t=>{let _=t.data.is_sign;t.data.sign_day_num;0==_?y.ins_ZMDGJ_tance.open_ZMDGJ_View(M.TTSignInView,null,()=>{e(!0)}):e(!1)},()=>{e(!1)})}}te.ad_ZMDGJ_UnitId="",te.banner_ZMDGJ_AdUnitId="",te.Ins_ZMDGJ_AdUnitId="",te._templateId_ZMDGJ_="",te.record_ZMDGJ_Res="",te._banner_ZMDGJ_=null,te._isReg_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Event=!1,te._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Failed=null,te._on_ZMDGJ_Rewarded_ZMDGJ_VideoAd_ZMDGJ_Close=null;class _e{static get Banner_ZMDGJ_Instance(){return _e._banner_ZMDGJ_}static Login_ZMDGJ_(e,t){Laya.Browser.window.qg.getSystemInfoSync().platformVersionCode>=1053?(console.log("vivo 开始登陆 >= 1053"),Laya.Browser.window.qg.login().then(_=>{if(_.data.token){let t=_.data.token;e(t,!0),console.log("vivo 登陆成功,获取到 token : "+t)}else console.log("登录失败 res.data.token 为 null"),t()},e=>{console.log("登录失败"+JSON.stringify(e)),t()})):(console.log("vivo 开始登陆 < 1053"),Laya.Browser.window.qg.authorize({type:"token",success:function(_){Laya.Browser.window.qg.getProfile({token:_.accessToken,success:function(t){console.log("openid获取成功",t.openid),e(t.openid,!1)},fail:function(e,_){console.log("获取openid失败 : "+_),t()}})},fail:function(e,_){console.log("登录失败"+_),t()}}))}static show_ZMDGJ_Dialog(e,t,_,i,n,a){Laya.Browser.window.qg.showDialog({title:e,message:t,buttons:_,success:function(e){console.log("handling callback"),i()},cancel:function(){console.log("handling cancel"),n()},fail:function(e,t){console.log(`handling fail, code = ${t}`),a()}})}static create_ZMDGJ_Rewarded_ZMDGJ_VideoAd(){Laya.Browser.onVVMiniGame&&(_e.rewardedAd=Laya.Browser.window.qg.createRewardedVideoAd({posId:_e.ad_ZMDGJ_UnitId,style:{}}),_e.rewardedAd.onError(e=>{switch(e.errCode){case-3:console.log("激励广告加载失败---调用太频繁",JSON.stringify(e));break;case-4:console.log("激励广告加载失败--- 一分钟内不能重复加载",JSON.stringify(e));break;case 30008:break;default:console.log("激励广告展示失败"),console.log(JSON.stringify(e))}}))}static show_ZMDGJ_Rewarded_ZMDGJ_VideoAd(e,t){if(Laya.Browser.onVVMiniGame){if(v.ins_ZMDGJ_tance.stop_ZMDGJ_BGM(),console.log("---------------------------------- VIVO_ZMDGJ_API.rewardedAd:",_e.rewardedAd+",VIVO_ZMDGJ_API.rewardedAdNum:",_e.rewardedAdNum),0==_e.rewardedAdNum)_e.create_ZMDGJ_Rewarded_ZMDGJ_VideoAd();else{let e=_e.rewardedAd.load();e&&e.catch(e=>{console.log("激励广告load失败"+JSON.stringify(e)),t()})}_e.rewardedAdNum=1,console.log("近来showRewardedVideoAd"),_e.rewardedAd.onLoad(()=>{let e=_e.rewardedAd.show();e&&e.then(()=>{console.log("激励广告展示成功")}).catch(e=>{console.log("激励广告展示失败"+JSON.stringify(e)),t()})}),_e.rewardedAd.onClose(t=>{t&&t.isEnded?(console.log("正常播放结束，可以下发游戏奖励"),e(!0)):(console.log("播放中途退出，不下发游戏奖励"),e(!1))})}}static show_ZMDGJ_BannerAd(){if(Laya.Browser.onVVMiniGame){console.log("===========bannerAd showBanerAd");var e=Laya.Browser.window.qg.getSystemInfoSync();e.screenWidth,e.screenHeight;_e.m_ZMDGJ_BannerAd=qg.createBannerAd({posId:_e.bannerAd_ZMDGJ_UnitId,style:{}});let t=_e.m_ZMDGJ_BannerAd.show();t&&t.then(()=>{console.log("banner广告展示成功")}).catch(e=>{switch(e.code){case 30003:console.log("新用户7天内不能曝光Banner，请将手机时间调整为7天后，退出游戏重新进入");break;case 30009:console.log("10秒内调用广告次数超过1次，10秒后再调用");break;case 30002:console.log("加载广告失败，重新加载广告");break;default:console.log("banner广告展示失败"),console.log(JSON.stringify(e))}}),_e.m_ZMDGJ_BannerAd.onError(function(e){console.log("Banner广告加载失败111:"+JSON.stringify(e))})}}static hide_ZMDGJ_BannerAd(){_e.m_ZMDGJ_BannerAd?(console.log("===========bannerAd 隐藏"),_e.m_ZMDGJ_BannerAd.hide(),_e.m_ZMDGJ_BannerAd.destroy(),_e.m_ZMDGJ_BannerAd=null):console.log("===========bannerAd 为空")}static navigate_ZMDGJ_To_ZMDGJ_MiniProgram(e,_,i,n,a){Laya.Browser.onVVMiniGame&&(console.log("vivo 跳转游戏： "+e),Laya.Browser.window.qg.navigateToMiniGame({pkgName:e,path:_,extraData:{from:t.App_ZMDGJ_ID},envVersion:"release",success(e){i&&i(e)},fail(e){n&&n(e)},complete(e){a&&a(e)}}))}static show_ZMDGJ_Interstitial_ZMDGJ_Ad(e,t){if(Laya.Browser.onVVMiniGame){var _=Laya.Browser.window.qg.createInterstitialAd({posId:_e.Ins_ZMDGJ_Ad_ZMDGJ_UnitId});_.onLoad(()=>{console.log("插屏广告加载完成")}),_.onClose(()=>{e&&e()}),_.onError(e=>{console.log("插屏广告拉取失败",JSON.stringify(e)),t&&t()}),_.show().then(()=>{console.log("插屏广告显示成功")}).catch(e=>{t&&t()})}else e&&e()}static get_ZMDGJ_Launch_ZMDGJ_OptionsSync(){return{}}static _ZMDGJ_share_ZMDGJ_(e){Laya.Browser.onVVMiniGame&&Laya.Browser.window.qg.share({success(){null!=e&&e(!0),Laya.Browser.window.qg.showToast({message:"分享成功"})},fail(e,t){Laya.Browser.window.qg.showToast({message:"分享失败"})},cancel(){Laya.Browser.window.qg.showToast({message:"分享失败"})},complete(){}})}static create_ZMDGJ_Desktop_ZMDGJ_Icon(e,t){Laya.Browser.onVVMiniGame?Laya.Browser.window.qg.hasShortcutInstalled({success:function(_){0==_?Laya.Browser.window.qg.installShortcut({success:function(){e&&e()},fail:function(e){for(var _ in t&&t(),console.log("创建桌面图标失败！！！！",e),e)console.log(_,e)},complete:function(){}}):(console.log("桌面图标已存在！！！！"),t&&t())},fail:function(e){for(var _ in t&&t(),console.log("判断桌面图标是否存在失败！！！",e),e)console.log(_,e)},complete:function(){}}):t&&t()}static show_ZMDGJ_Native_ZMDGJ_Ad(e,t,_){1==_?_e.tryShowNativeAd1(e,t):2==_&&_e.tryShowNativeAd2(e,t)}static tryShowNativeAd1(e,_){if(!Laya.Browser.onVVMiniGame)return void(null!=_&&_());let i=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().vivocfg.yuanshengSwitch,n=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().vivocfg.vivoversions;1==i&&n==t.Versions_ZMDGJ_?y.ins_ZMDGJ_tance.open_ZMDGJ_View(M.VVNativeView1,null,t=>{null!=e&&e()}):null!=_&&_()}static tryShowNativeAd2(e,_){if(!Laya.Browser.onVVMiniGame)return void(null!=_&&_());let i=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().vivocfg.yuanshengSwitch2,n=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().vivocfg.vivoversions;1==i&&n==t.Versions_ZMDGJ_?y.ins_ZMDGJ_tance.open_ZMDGJ_View(M.VVNativeView2,null,t=>{null!=e&&e()}):null!=_&&_()}static tryPopCreateDestopIcon(e,t){Laya.Browser.onVVMiniGame&&1==r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().vivocfg.addToDesktop?_e.create_ZMDGJ_Desktop_ZMDGJ_Icon(e,t):null!=t&&t()}static tryShowInsAd(e,t){if(1==r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().vivocfg.chapingSwitch){100*Math.random()<=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().vivocfg.chaping?_e.show_ZMDGJ_Interstitial_ZMDGJ_Ad(()=>{e&&e()},()=>{t&&t()}):t&&t()}else t&&t()}}_e.ad_ZMDGJ_UnitId="",_e.bannerAd_ZMDGJ_UnitId="",_e.native_ZMDGJ_AdId="",_e.Ins_ZMDGJ_Ad_ZMDGJ_UnitId="",_e.rewardedAd=null,_e.rewardedAdNum=0,_e._banner_ZMDGJ_=null,_e.m_ZMDGJ_BannerAd=null;class ie extends Laya.Script{constructor(){super(...arguments),this.Ad_ZMDGJ_Pos_ZMDGJ_ID=-10086,this._datas=[],this._data=null}get _ZMDGJ_Sprite_ZMDGJ_(){return this.owner}get _ZMDGJ_Data_ZMDGJ_(){return this._data}ref_ZMDGJ_resh(e){let t=this;$.get_ZMDGJ_ADVs(this.Ad_ZMDGJ_Pos_ZMDGJ_ID,_=>{null!=_&&(t._datas=_,t._data=t._datas[Math.floor(Math.random()*_.length)],null!=e&&e())},!1)}navigate_ZMDGJ_To_ZMDGJ_Mini_ZMDGJ_Program(e){var _=null==e?this._data:e;_&&(console.log("跳转游戏： "+_.title),Laya.Browser.onMiniGame?u.navigate_ZMDGJ_To_ZMDGJ_MiniProgram(_.appid,_.url,e=>{console.log("跳转成功"),$.report_ZMDGJ_User_ZMDGJ_Click(_.appid),L.ald_ZMDGJ_Send_ZMDGJ_ReportAdClickSuccess(_)},e=>{console.log("跳转失败"),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.AD_On_ZMDGJ_ShareAd_ZMDGJ_Fail),"navigateToMiniProgram:fail cancel"==e.errMsg&&(console.log("用户取消跳转"),L.aldSend_ZMDGJ_ReportAd_ZMDGJ_ClickFail(_))},e=>{console.log("跳转完成")}):Laya.Browser.onQGMiniGame?ee.navigate_ZMDGJ_To_ZMDGJ_MiniProgram(_.appid,_.title,_.url,e=>{console.log("跳转成功"),$.report_ZMDGJ_User_ZMDGJ_Click(_.appid)},e=>{console.log("跳转失败"),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.AD_On_ZMDGJ_ShareAd_ZMDGJ_Fail)},e=>{console.log("跳转完成")}):Laya.Browser.onQQMiniGame?m.navigate_ZMDGJ_To_ZMDGJ_Mini_ZMDGJ_Program(_.appid,_.url,e=>{console.log("跳转成功"),$.report_ZMDGJ_User_ZMDGJ_Click(_.appid)},e=>{console.log("跳转失败"),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.AD_On_ZMDGJ_ShareAd_ZMDGJ_Fail)},e=>{console.log("跳转完成")}):Laya.Browser.onVVMiniGame?_e.navigate_ZMDGJ_To_ZMDGJ_MiniProgram(_.appid,_.url,e=>{console.log("跳转成功"),$.report_ZMDGJ_User_ZMDGJ_Click(_.appid)},e=>{console.log("跳转失败"),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.AD_On_ZMDGJ_ShareAd_ZMDGJ_Fail)},e=>{console.log("跳转完成")}):t.onTTMiniGame&&te.showMoreGamesModal(()=>{console.log("跳转成功"),$.report_ZMDGJ_User_ZMDGJ_Click(_.appid)},()=>{console.log("跳转失败"),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.AD_On_ZMDGJ_ShareAd_ZMDGJ_Fail)}))}_ZMDGJ_show_ZMDGJ_(){this._ZMDGJ_Sprite_ZMDGJ_.visible=!0}_ZMDGJ_hide_ZMDGJ_(){this._ZMDGJ_Sprite_ZMDGJ_.visible=!1}auto_ZMDGJ_Scroll_ZMDGJ_Text(e){if(e.overflow!=Laya.Text.SCROLL)return;let t=!0,_=0;Laya.timer.frameLoop(1,e,()=>{let i=Laya.timer.delta/1e3*10;(_+=i)>=e.textWidth/2&&(t=!t,_=0),t?e.scrollX+=i:e.scrollX-=i})}}class ne extends ie{constructor(){super(...arguments),this._ZMDGJ__originW_ZMDGJ_=170,this._ZMDGJ__originH_ZMDGJ_=170}onAwake(){this._display_ZMDGJ_Sp=this.owner.getChildByName("Display"),this._ZMDGJ__originW_ZMDGJ_=this._display_ZMDGJ_Sp.width,this._ZMDGJ__originH_ZMDGJ_=this._display_ZMDGJ_Sp.height,this._ZMDGJ__disText_ZMDGJ_=this.owner.getChildByName("TitelText"),this._ZMDGJ__disText_ZMDGJ_.overflow=Laya.Text.SCROLL,this._ZMDGJ__disText_ZMDGJ_.text=""}onStart(){this.auto_ZMDGJ_Scroll_ZMDGJ_Text(this._ZMDGJ__disText_ZMDGJ_)}onEnable(){this._ZMDGJ_Sprite_ZMDGJ_.on(Laya.Event.CLICK,this,this.on_ZMDGJ_Click_ZMDGJ_Ad)}onDisable(){this._ZMDGJ_Sprite_ZMDGJ_.off(Laya.Event.CLICK,this,this.on_ZMDGJ_Click_ZMDGJ_Ad)}on_ZMDGJ_Click_ZMDGJ_Ad(){this.navigate_ZMDGJ_To_ZMDGJ_Mini_ZMDGJ_Program()}set_ZMDGJ_Data(e){if(this._data=e,null!=this._data){let e=this;this._display_ZMDGJ_Sp.loadImage(this._data.logo,Laya.Handler.create(this,function(){e._display_ZMDGJ_Sp.destroyed||(e._display_ZMDGJ_Sp.width=e._ZMDGJ__originW_ZMDGJ_,e._display_ZMDGJ_Sp.height=e._ZMDGJ__originH_ZMDGJ_)}));let t=String(this._data.title);this._ZMDGJ__disText_ZMDGJ_.text=t}}}class ae extends ie{constructor(){super(...arguments),this._scroll_ZMDGJ_Forward=!0,this._cell_ZMDGJ_Size=new Laya.Point,this.isEnable=!0,this.useMovePause=!0,this.use_ZMDGJ_Local_ZMDGJ_Random=!0,this.use_ZMDGJ_Random=!0,this.sort_ZMDGJ_Datas=null}get _ZMDGJ_Clip_ZMDGJ_(){return this.owner}onAwake(){this.Ad_ZMDGJ_Pos_ZMDGJ_ID=$.LoopAd_ZMDGJ_LocationID,this._ZMDGJ__list_ZMDGJ_=this.owner.getChildByName("List"),this._ZMDGJ__list_ZMDGJ_.renderHandler=Laya.Handler.create(this,this.onListRender,null,!1),this._ZMDGJ__list_ZMDGJ_.hScrollBarSkin=""}onStart(){let e=this;this._ZMDGJ__list_ZMDGJ_.width=e._ZMDGJ_Clip_ZMDGJ_.width,this._ZMDGJ__list_ZMDGJ_.height=e._ZMDGJ_Clip_ZMDGJ_.height,e.ref_ZMDGJ_resh(()=>{if(null!=e._ZMDGJ__list_ZMDGJ_.cells&&e._ZMDGJ__list_ZMDGJ_.cells.length>0){let t=e._ZMDGJ__list_ZMDGJ_.cells[0];e._cell_ZMDGJ_Size.x=t.width,e._cell_ZMDGJ_Size.y=t.height,e.useMovePause&&setTimeout(()=>{e._ZMDGJ__list_ZMDGJ_.scrollBar&&(e._ZMDGJ__list_ZMDGJ_.scrollBar.value=0,e.move())},2e3)}})}ref_ZMDGJ_resh(e){if(!this.isEnable)return void(null!=e&&e());let t=this;$.get_ZMDGJ_ADVs(this.Ad_ZMDGJ_Pos_ZMDGJ_ID,_=>{null!=_&&_.length>0?(t._datas=_,t._ZMDGJ__list_ZMDGJ_.array=t._datas,null==t._ZMDGJ_Sprite_ZMDGJ_||t._ZMDGJ_Sprite_ZMDGJ_.destroyed||(t._ZMDGJ_Sprite_ZMDGJ_.visible=!0),null!=e&&e()):null==t._ZMDGJ_Sprite_ZMDGJ_||t._ZMDGJ_Sprite_ZMDGJ_.destroyed||(t._ZMDGJ_Sprite_ZMDGJ_.visible=!1)},this.use_ZMDGJ_Random,this.use_ZMDGJ_Local_ZMDGJ_Random,this.sort_ZMDGJ_Datas)}onListRender(e,t){var _=this._ZMDGJ__list_ZMDGJ_.array[t];e.getComponent(ne).set_ZMDGJ_Data(_)}move(){let e=this._cell_ZMDGJ_Size.x+this._ZMDGJ__list_ZMDGJ_.spaceX,t=0;if(this._scroll_ZMDGJ_Forward?t=this._ZMDGJ__list_ZMDGJ_.scrollBar.value%e:(e*=-1,t=(this._ZMDGJ__list_ZMDGJ_.scrollBar.max-this._ZMDGJ__list_ZMDGJ_.scrollBar.value)%e*-1),this._ZMDGJ__list_ZMDGJ_.scrollBar){this._ZMDGJ__list_ZMDGJ_.scrollBar.stopScroll();let _=e;0!=t&&(_=2*e-t);let i=this;Laya.Tween.to(i._ZMDGJ__list_ZMDGJ_.scrollBar,{value:i._ZMDGJ__list_ZMDGJ_.scrollBar.value+_},1e3,null,Laya.Handler.create(i,()=>{})),Laya.timer.once(1010,i,()=>{i._ZMDGJ__list_ZMDGJ_.scrollBar.value>=i._ZMDGJ__list_ZMDGJ_.scrollBar.max?i._scroll_ZMDGJ_Forward=!1:i._ZMDGJ__list_ZMDGJ_.scrollBar.value<=0&&(i._scroll_ZMDGJ_Forward=!0),Laya.timer.once(3e3,i,()=>{i._ZMDGJ__list_ZMDGJ_.scrollBar&&i.move()})})}}onUpdate(){this.useMovePause||(this._scroll_ZMDGJ_Forward?(this._ZMDGJ__list_ZMDGJ_.scrollBar.value+=100*Laya.timer.delta/1e3,this._ZMDGJ__list_ZMDGJ_.scrollBar.value>=this._ZMDGJ__list_ZMDGJ_.scrollBar.max&&(this._scroll_ZMDGJ_Forward=!1)):(this._ZMDGJ__list_ZMDGJ_.scrollBar.value-=100*Laya.timer.delta/1e3,this._ZMDGJ__list_ZMDGJ_.scrollBar.value<=0&&(this._scroll_ZMDGJ_Forward=!0)))}}class oe extends ae{onAwake(){this.Ad_ZMDGJ_Pos_ZMDGJ_ID=$.LoopAd_ZMDGJ_LocationID,this._ZMDGJ__list_ZMDGJ_=this.owner.getChildByName("List"),this._ZMDGJ__list_ZMDGJ_.renderHandler=Laya.Handler.create(this,this.onListRender,null,!1),this._ZMDGJ__list_ZMDGJ_.vScrollBarSkin=""}move(){let e=this._cell_ZMDGJ_Size.y+this._ZMDGJ__list_ZMDGJ_.spaceY,t=0;if(this._scroll_ZMDGJ_Forward?t=this._ZMDGJ__list_ZMDGJ_.scrollBar.value%e:(e*=-1,t=(this._ZMDGJ__list_ZMDGJ_.scrollBar.max-this._ZMDGJ__list_ZMDGJ_.scrollBar.value)%e*-1),this._ZMDGJ__list_ZMDGJ_.scrollBar){this._ZMDGJ__list_ZMDGJ_.scrollBar.stopScroll();let _=e;0!=t&&(_=2*e-t);let i=this;Laya.Tween.to(i._ZMDGJ__list_ZMDGJ_.scrollBar,{value:i._ZMDGJ__list_ZMDGJ_.scrollBar.value+_},1e3,null,Laya.Handler.create(i,()=>{})),Laya.timer.once(1010,i,()=>{i._ZMDGJ__list_ZMDGJ_.scrollBar.value>=i._ZMDGJ__list_ZMDGJ_.scrollBar.max?i._scroll_ZMDGJ_Forward=!1:i._ZMDGJ__list_ZMDGJ_.scrollBar.value<=0&&(i._scroll_ZMDGJ_Forward=!0),Laya.timer.once(3e3,i,()=>{i._ZMDGJ__list_ZMDGJ_.scrollBar&&i.move()})})}}}class se extends Q{constructor(){super(...arguments),this._continue_ZMDGJ_Btn=null,this._krq_ZMDGJ_VLoopAd=null,this._KRQ_V_ZMDGJ_LoopAd=null,this._isCanClose=!1,this._banner=null}onAwake(){super.onAwake(),this._krq_ZMDGJ_VLoopAd=this.View_ZMDGJ_.getChildByName("KRQ_VLoopAd").getComponent(oe),this._krq_ZMDGJ_VLoopAd.use_ZMDGJ_Local_ZMDGJ_Random=!0,this._krq_ZMDGJ_VLoopAd.use_ZMDGJ_Random=!1,this._krq_ZMDGJ_VLoopAd.useMovePause=!1,this._krq_ZMDGJ_VLoopAd.sort_ZMDGJ_Datas=this.sort_ZMDGJ_Datas,this._continue_ZMDGJ_Btn=this.View_ZMDGJ_.getChildByName("ContinueBtn"),this._continue_ZMDGJ_Btn.visible=!1;let t=this;w.Wu_ZMDGJ_dian_ZMDGJ_Flag&&1==r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().continue_ZMDGJ_Banner?Laya.timer.once(1e3*r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().continue_ZMDGJ_Btn_ZMDGJ_DelayTime,t,()=>{t._continue_ZMDGJ_Btn.visible=!0,Laya.timer.once(1e3*r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().continue_ZMDGJ_Banner_ZMDGJ_ShowTime,t,()=>{t.ShowBanner(),Laya.timer.once(1e3*r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().continue_ZMDGJ_Banner_ZMDGJ_HideTime,t,()=>{t._isCanClose=!0,null!=t._banner&&t._banner._ZMDGJ_hide_ZMDGJ_(),t._banner=null})})}):Laya.timer.once(1e3*r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().continue_ZMDGJ_Btn_ZMDGJ_DelayTime,t,()=>{t._continue_ZMDGJ_Btn.visible=!0,t._isCanClose=!0}),this._KRQ_V_ZMDGJ_LoopAd=this.View_ZMDGJ_.getChildByName("KRQ_VLoopAd"),e.is_ZMDGJ_IphoneX()&&(this._KRQ_V_ZMDGJ_LoopAd.top=this._KRQ_V_ZMDGJ_LoopAd.top+75)}onStart(){this._krq_ZMDGJ_VLoopAd.Ad_ZMDGJ_Pos_ZMDGJ_ID=$.MoreGame_ZMDGJ_LocationID,super.onStart()}add_ZMDGJ_Event(){super.add_ZMDGJ_Event(),this._continue_ZMDGJ_Btn.on(Laya.Event.CLICK,this,this.on_ZMDGJ_Continue_ZMDGJ_Btn)}remove_ZMDGJ_Event(){super.remove_ZMDGJ_Event(),this._continue_ZMDGJ_Btn.off(Laya.Event.CLICK,this,this.on_ZMDGJ_Continue_ZMDGJ_Btn)}ShowBanner(){K.get_ZMDGJ_Banner(e=>{})}onDestroy(){null!=this._banner&&this._banner._ZMDGJ_hide_ZMDGJ_(),this._banner=null}on_ZMDGJ_Continue_ZMDGJ_Btn(){if(!this._isCanClose)return;let e=()=>{P.get_ZMDGJ_Instance().EnterGameScene(()=>{y.ins_ZMDGJ_tance.close_ZMDGJ_View(M.Export2View)})};y.ins_ZMDGJ_tance.tryShowPopAd(t=>{null!=t?t.on_ZMDGJ_CloseEvent=(()=>{e()}):e()})}sort_ZMDGJ_Datas(e){if(null==e||0==e.length)return[];let t={},_=new Array;for(let i=0;i<e.length;++i){let n=e[i];null==t[n.appid]?(t[n.appid]=new Array,t[n.appid].push(n),_.push(n.appid)):t[n.appid].push(n)}for(let e=0;e<_.length;++e){let t=_[e],i=Math.floor(Math.random()*_.length),n=_[i];_[i]=t,_[e]=n}for(let e=0;e<_.length;++e){let i=t[_[e]];for(let e=0;e<i.length;++e){let t=i[e],_=Math.floor(Math.random()*i.length),n=i[_];i[_]=t,i[e]=n}}let i=new Array,n=[];for(;_.length>0;){let e=!0;for(let a=0;a<_.length;++a){let o=_[a],s=!0;for(let e=0;e<n.length;++e){if(n[e]==o){s=!1;break}}if(s){e=!1;let s=t[o].shift();if(i.push(s),n.push(o),n.length>3&&n.shift(),t[o].length<=0){_.splice(a,1),--a;continue}}}if(e){for(let e=0;e<_.length;++e){let a=_[e],o=!0,s=t[a];n.splice(0);for(let e=0;e<s.length;++e){let t=s[e];for(let e=0;e<i.length;++e){n.push(null==i[e-2]?null:i[e-2].appid),n.push(null==i[e-1]?null:i[e-1].appid),n.push(null==i[e]?null:i[e].appid),n.push(null==i[e+1]?null:i[e+1].appid),n.push(null==i[e+2]?null:i[e+2].appid);for(let e=0;e<n.length;++e){let t=n[e];if(null!=t&&t==a){o=!1;break}}if(o&&null!=t){let _=i.slice(0,e+1),n=i.slice(e+1,i.length);(i=_).push(t);for(let e=0;e<n.length;++e)i.push(n[e])}}}}break}for(let e=0;e<_.length;++e){let t=_[e],i=Math.floor(Math.random()*_.length),n=_[i];_[i]=t,_[e]=n}}return i}}class re extends Laya.Script{onAwake(){super.onAwake();var e=Laya.stage.width/re.baseWidth;this.owner.scale(e,e)}}re.baseWidth=750,re.baseHeight=1334;class le extends Q{constructor(){super(...arguments),this._close_ZMDGJ_Btn=null,this._krq_ZMDGJ_VLoopAd=null,this._KRQ__ZMDGJ_VLoopAd=null,this._click_ZMDGJ_Tag=!1,this._click_ZMDGJ_TimingTag=!1,this._banner_ZMDGJ_=null}onAwake(){super.onAwake(),this._krq_ZMDGJ_VLoopAd=this.View_ZMDGJ_.getChildByName("KRQ_VLoopAd").getComponent(oe),this._close_ZMDGJ_Btn=this.View_ZMDGJ_.getChildByName("CloseBtn"),this._KRQ__ZMDGJ_VLoopAd=this.View_ZMDGJ_.getChildByName("KRQ_VLoopAd"),e.is_ZMDGJ_IphoneX()&&(this._KRQ__ZMDGJ_VLoopAd.top=this._KRQ__ZMDGJ_VLoopAd.top+75);let t=Laya.stage.width/Laya.stage.height;this._KRQ__ZMDGJ_VLoopAd.height=t<.5?900:750}onStart(){if(this._krq_ZMDGJ_VLoopAd.Ad_ZMDGJ_Pos_ZMDGJ_ID=$.MoreGame_ZMDGJ_LocationID,super.onStart(),w.Wu_ZMDGJ_dian_ZMDGJ_Flag){var e=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().btn_ZMDGJ_Move_ZMDGJ_Timer,t=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().banner_ZMDGJ_Move_ZMDGJ_Timer;Laya.timer.once(1e3*t,this,this.Banner_ZMDGJ_Up),Laya.timer.once(1e3*e,this,this.Btn_ZMDGJ_Up)}}add_ZMDGJ_Event(){super.add_ZMDGJ_Event(),this._close_ZMDGJ_Btn.on(Laya.Event.CLICK,this,this.onClose_ZMDGJ_Btn)}remove_ZMDGJ_Event(){super.remove_ZMDGJ_Event(),this._close_ZMDGJ_Btn.off(Laya.Event.CLICK,this,this.onClose_ZMDGJ_Btn)}Banner_ZMDGJ_Up(){K.get_ZMDGJ_Banner(e=>{})}Btn_ZMDGJ_Up(){this._click_ZMDGJ_Tag=!0;let e=Laya.stage.width/Laya.stage.height;this._close_ZMDGJ_Btn.bottom=e<.5?270:370}onClose_ZMDGJ_Btn(){if(this._click_ZMDGJ_Tag||!w.Wu_ZMDGJ_dian_ZMDGJ_Flag)this.close_ZMDGJ_View();else{if(!this._click_ZMDGJ_TimingTag){this._click_ZMDGJ_TimingTag=!0;var e=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().btn_ZMDGJ_Move_ZMDGJ_Timer,t=r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().banner_ZMDGJ_Move_ZMDGJ_Timer;Laya.timer.once(1e3*t,this,this.Banner_ZMDGJ_Up),Laya.timer.once(1e3*e,this,this.Btn_ZMDGJ_Up)}}}onDestroy(){null!=this._banner_ZMDGJ_&&this._banner_ZMDGJ_._ZMDGJ_hide_ZMDGJ_(),this._banner_ZMDGJ_=null}on_ZMDGJ_History_ZMDGJ_Btn(){let e=this;y.ins_ZMDGJ_tance.open_ZMDGJ_View(M.MiniGameView,null,t=>{e.hide_ZMDGJ_(),null!=e._banner_ZMDGJ_&&e._banner_ZMDGJ_._ZMDGJ_hide_ZMDGJ_(),t.on_ZMDGJ_CloseEvent=(()=>{null==e.View_ZMDGJ_||e.View_ZMDGJ_.destroyed||(e.show_ZMDGJ_(),null!=e._banner_ZMDGJ_&&e._banner_ZMDGJ_._ZMDGJ_show_ZMDGJ_())})})}}class De extends Q{constructor(){super(...arguments),this._center_ZMDGJ_Zone=null,this._back_ZMDGJ_Btn=null,this._continue_ZMDGJ_Btn=null,this._roll_ZMDGJ_SingleAds=new Array,this._click_ZMDGJ_Tag=!1,this._click_ZMDGJ_TimingTag=!1,this._banner=null,this._bAlive=!0}onAwake(){super.onAwake(),this._center_ZMDGJ_Zone=this.View_ZMDGJ_.getChildByName("CenterZone"),e.is_ZMDGJ_IphoneX()&&(this._center_ZMDGJ_Zone.top=this._center_ZMDGJ_Zone.top+75),this._back_ZMDGJ_Btn=this._center_ZMDGJ_Zone.getChildByName("BackBtn"),this._continue_ZMDGJ_Btn=this._center_ZMDGJ_Zone.getChildByName("ContinueBtn")}onStart(){super.onStart(),this._bAlive=!0}onShow(){this._bAlive=!0}add_ZMDGJ_Event(){super.add_ZMDGJ_Event(),this._back_ZMDGJ_Btn.on(Laya.Event.CLICK,this,this.onBack_ZMDGJ_Btn),this._continue_ZMDGJ_Btn.on(Laya.Event.CLICK,this,this.on_ZMDGJ_Continue_ZMDGJ_Btn),this._bAlive=!0}remove_ZMDGJ_Event(){super.remove_ZMDGJ_Event(),this._back_ZMDGJ_Btn.off(Laya.Event.CLICK,this,this.onBack_ZMDGJ_Btn),this._continue_ZMDGJ_Btn.off(Laya.Event.CLICK,this,this.on_ZMDGJ_Continue_ZMDGJ_Btn),this._bAlive=!0}onBack_ZMDGJ_Btn(){this.NextLevel()}on_ZMDGJ_Continue_ZMDGJ_Btn(){this.NextLevel()}NextLevel(){this._bAlive&&(this._bAlive=!1,P.get_ZMDGJ_Instance().EnterGameScene(()=>{y.ins_ZMDGJ_tance.close_ZMDGJ_View(M.GameWinView)}))}BannerUp(){}BtnUp(){this._click_ZMDGJ_Tag=!0,this._back_ZMDGJ_Btn.y=720,this._continue_ZMDGJ_Btn.y=720}onDestroy(){super.onDestroy(),null!=this._banner&&this._banner._ZMDGJ_hide_ZMDGJ_(),this._banner=null,P.get_ZMDGJ_Instance().save_ZMDGJ_Game_ZMDGJ_Data()}on_ZMDGJ_History_ZMDGJ_Btn(){}}class Me extends Q{constructor(){super(...arguments),this._center_ZMDGJ_Zone=null,this._back_ZMDGJ_Btn=null,this._next_ZMDGJ_Btn=null,this._roll_ZMDGJ_SingleAds=new Array,this._click_ZMDGJ_Tag=!1,this._click_ZMDGJ_TimingTag=!1,this._banner=null,this._bAlive=!0}onAwake(){super.onAwake(),this._center_ZMDGJ_Zone=this.View_ZMDGJ_.getChildByName("CenterZone"),e.is_ZMDGJ_IphoneX()&&(this._center_ZMDGJ_Zone.top=this._center_ZMDGJ_Zone.top+75),this._back_ZMDGJ_Btn=this._center_ZMDGJ_Zone.getChildByName("BackBtn"),this._next_ZMDGJ_Btn=this._center_ZMDGJ_Zone.getChildByName("NextBtn"),this._bAlive=!0,P.get_ZMDGJ_Instance().PreLoadScene(J.get_ZMDGJ_FakerNextLeveNum().toString())}onShow(){this._bAlive=!0}onStart(){super.onStart(),this._bAlive=!0}add_ZMDGJ_Event(){super.add_ZMDGJ_Event(),this._bAlive=!0,this._back_ZMDGJ_Btn.on(Laya.Event.CLICK,this,this.onBack_ZMDGJ_Btn),this._next_ZMDGJ_Btn.on(Laya.Event.CLICK,this,this.onNext_ZMDGJ_Btn)}remove_ZMDGJ_Event(){super.remove_ZMDGJ_Event(),this._bAlive=!0,this._back_ZMDGJ_Btn.off(Laya.Event.CLICK,this,this.onBack_ZMDGJ_Btn),this._next_ZMDGJ_Btn.off(Laya.Event.CLICK,this,this.onNext_ZMDGJ_Btn)}onBack_ZMDGJ_Btn(){this.NextLevel()}onNext_ZMDGJ_Btn(){this.NextLevel()}NextLevel(){this._bAlive&&(this._bAlive=!1,J.set_ZMDGJ_LeveNum(J.get_ZMDGJ_LeveNum()+1),P.get_ZMDGJ_Instance().EnterGameScene(()=>{y.ins_ZMDGJ_tance.close_ZMDGJ_View(M.GameWinView)}))}BannerUp(){}BtnUp(){this._click_ZMDGJ_Tag=!0,this._back_ZMDGJ_Btn.y=720,this._next_ZMDGJ_Btn.y=720}onDestroy(){super.onDestroy(),null!=this._banner&&this._banner._ZMDGJ_hide_ZMDGJ_(),this._banner=null,P.get_ZMDGJ_Instance().save_ZMDGJ_Game_ZMDGJ_Data()}on_ZMDGJ_History_ZMDGJ_Btn(){}}class Ge extends Laya.Script{constructor(){super(...arguments),this._center_ZMDGJ_Zone=null,this._level_ZMDGJ_Num=null,this._AllBoxNum=null,this._BoxNum=null,this._CoinNum=null,this._BloodInfoBar=null,this._HintInfo=null,this._nBloodInfoBarWidth=0,this._scene=null,this._goodsAllSprite=null,this._terminusSprite=null,this._targetSprite3D=null}onAwake(){super.onAwake(),this._center_ZMDGJ_Zone=this.owner,this._level_ZMDGJ_Num=this._center_ZMDGJ_Zone.getChildByName("LevelInfo").getChildByName("LevelNum"),this._AllBoxNum=this._center_ZMDGJ_Zone.getChildByName("BoxInfo").getChildByName("AllBoxNum"),this._BoxNum=this._center_ZMDGJ_Zone.getChildByName("BoxInfo").getChildByName("BoxNum"),this._CoinNum=this._center_ZMDGJ_Zone.getChildByName("CoinInfo").getChildByName("CoinNum"),this._BloodInfoBar=this._center_ZMDGJ_Zone.getChildByName("BloodInfo").getChildByName("BloodInfoBar"),this._HintInfo=this._center_ZMDGJ_Zone.getChildByName("HintInfo"),this._scene=P.get_ZMDGJ_Instance().CurLevel.owner,this._goodsAllSprite=this._scene.getChildByName("Objects").getChildByName("GoodsAll"),this._terminusSprite=this._scene.getChildByName("Objects").getChildByName("Terminus"),this._targetSprite3D=this._scene.getChildByName("Role"),e.is_ZMDGJ_IphoneX()&&(this._center_ZMDGJ_Zone.getChildByName("LevelInfo").top+=75,this._center_ZMDGJ_Zone.getChildByName("CoinInfo").top+=75,this._center_ZMDGJ_Zone.getChildByName("BoxInfo").top+=75),Laya.stage.width/Laya.stage.height>.5&&(this._center_ZMDGJ_Zone.getChildByName("BloodInfo").top-=150,this._center_ZMDGJ_Zone.getChildByName("HintInfo").top-=150)}onStart(){super.onStart(),this._level_ZMDGJ_Num.value=String(J.get_ZMDGJ_LeveNum()),this._AllBoxNum.value=String(P.get_ZMDGJ_Instance().CurLevel.AllBoxNum),this._BoxNum.value=String(0),this._CoinNum.value=String(J.get_ZMDGJ_Money()),this._nBloodInfoBarWidth=this._BloodInfoBar.width}onEnable(){super.onEnable(),c.ins_ZMDGJ_tance.reg_ZMDGJ_Evemt(D.Game_BoxChange,this,this.BoxNumChange),c.ins_ZMDGJ_tance.reg_ZMDGJ_Evemt(D.Game_BloodChange,this,this.BloodNumChange),c.ins_ZMDGJ_tance.reg_ZMDGJ_Evemt(D.Game_On_ZMDGJ_User_ZMDGJ_Money_ZMDGJ_Change,this,this.CoinNumChange)}onDisable(){super.onDisable(),c.ins_ZMDGJ_tance.remove_ZMDGJ_Event(D.Game_BoxChange,this,this.BoxNumChange),c.ins_ZMDGJ_tance.remove_ZMDGJ_Event(D.Game_BloodChange,this,this.BloodNumChange),c.ins_ZMDGJ_tance.remove_ZMDGJ_Event(D.Game_On_ZMDGJ_User_ZMDGJ_Money_ZMDGJ_Change,this,this.CoinNumChange)}onUpdate(){super.onUpdate(),this.HintChange()}BoxNumChange(e){this._BoxNum.value=e.RoleNum.toString()}BloodNumChange(e){this._BloodInfoBar.width=this._nBloodInfoBarWidth*(e.BloodNum/100)}CoinNumChange(){this._CoinNum.value=String(J.get_ZMDGJ_Money())}HintChange(){for(var e=-1,t=99999,_=new Laya.Vector2(0,0),i=0;i<this._goodsAllSprite.numChildren;i++){_.x=this._goodsAllSprite.getChildAt(i).transform.position.x-this._targetSprite3D.transform.position.x,_.y=this._goodsAllSprite.getChildAt(i).transform.position.z-this._targetSprite3D.transform.position.z;var n=Math.sqrt(_.x*_.x+_.y*_.y);n<t&&(e=i,t=n)}-1!=e?(_.x=this._goodsAllSprite.getChildAt(e).transform.position.x-this._targetSprite3D.transform.position.x,_.y=this._goodsAllSprite.getChildAt(e).transform.position.z-this._targetSprite3D.transform.position.z):(_.x=this._terminusSprite.transform.position.x-this._targetSprite3D.transform.position.x,_.y=this._terminusSprite.transform.position.z-this._targetSprite3D.transform.position.z),this._HintInfo.rotation=180*Math.atan2(-_.y,-_.x)/Math.PI}}class he extends Laya.Script{constructor(){super(...arguments),this._ownerSp=null,this._centerPoint=new Laya.Vector2(0,0)}onAwake(){super.onAwake(),this._ownerSp=this.owner}onEnable(){super.onEnable(),this._ownerSp.on(Laya.Event.MOUSE_DOWN,this,this.onDown)}onDisable(){super.onDisable(),this._ownerSp.off(Laya.Event.MOUSE_DOWN,this,this.onDown),this._ownerSp.off(Laya.Event.MOUSE_UP,this,this.onClickUp),this._ownerSp.off(Laya.Event.MOUSE_MOVE,this,this.onMove),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_OnInputRelease)}onDown(){var e=this._ownerSp.globalToLocal(new Laya.Point(this._ownerSp.mouseX,this._ownerSp.mouseY));this._centerPoint=new Laya.Vector2(e.x,e.y),this._ownerSp.on(Laya.Event.MOUSE_MOVE,this,this.onMove),this._ownerSp.on(Laya.Event.MOUSE_UP,this,this.onClickUp),this._ownerSp.on(Laya.Event.MOUSE_OUT,this,this.onClickUp),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_OnInputStart)}onClickUp(){this._ownerSp.off(Laya.Event.MOUSE_MOVE,this,this.onMove),this._ownerSp.off(Laya.Event.MOUSE_UP,this,this.onClickUp),this._ownerSp.off(Laya.Event.MOUSE_OUT,this,this.onClickUp),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_OnInputRelease)}onMove(){var e=this._ownerSp.globalToLocal(new Laya.Point(this._ownerSp.mouseX,this._ownerSp.mouseY)),t=e.x-this._centerPoint.x,_=e.y-this._centerPoint.y,i=new Laya.Vector2(t,_);t*t+_*_<=10||(t*t+_*_>=1e4&&(i.x=100*Math.cos(Math.atan2(_,t)),i.y=100*Math.sin(Math.atan2(_,t)),this._centerPoint=new Laya.Vector2(e.x-i.x,e.y-i.y)),c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.Game_OnInputMove,{dir:i}))}}!function(e){e[e._ZMDGJ_Normal_ZMDGJ_=0]="_ZMDGJ_Normal_ZMDGJ_",e[e._ZMDGJ_NoLoopAd_ZMDGJ_=1]="_ZMDGJ_NoLoopAd_ZMDGJ_",e[e._ZMDGJ_NoBannerAd_ZMDGJ_=2]="_ZMDGJ_NoBannerAd_ZMDGJ_"}(h||(h={}));class Ze extends Q{constructor(){super(...arguments),this._center_ZMDGJ_Zone=null}onAwake(){super.onAwake(),this._center_ZMDGJ_Zone=this.View_ZMDGJ_.getChildByName("CenterZone");Laya.stage.width,Laya.stage.height}open_ZMDGJ_View(e){super.open_ZMDGJ_View(e),null!=e&&e.showType}onStart(){super.onStart()}add_ZMDGJ_Event(){super.add_ZMDGJ_Event()}remove_ZMDGJ_Event(){super.remove_ZMDGJ_Event()}}class ce extends Laya.Script{constructor(){super(...arguments),this._mArmature=null}onEnable(){this._mArmature=new Laya.Skeleton,this.owner.addChild(this._mArmature),this._mArmature.load("subRes/Ani/NewProject.sk",Laya.Handler.create(this,e=>{e.lock=!0}))}onDisable(){}}class Je extends Q{constructor(){super(...arguments),this._center_ZMDGJ_Zone=null,this._start_ZMDGJ_Btn=null,this._level_ZMDGJ_Num=null,this._money_ZMDGJ_Num=null}onAwake(){super.onAwake(),this._center_ZMDGJ_Zone=this.View_ZMDGJ_.getChildByName("CenterZone"),this._start_ZMDGJ_Btn=this._center_ZMDGJ_Zone.getChildByName("StartBtn"),this._level_ZMDGJ_Num=this._center_ZMDGJ_Zone.getChildByName("LevelInfo").getChildByName("LevelNum"),this._money_ZMDGJ_Num=this._center_ZMDGJ_Zone.getChildByName("MoneyInfo").getChildByName("MoneyNum")}onStart(){super.onStart(),this._money_ZMDGJ_Num.value=String(J.get_ZMDGJ_Money()),this._level_ZMDGJ_Num.value=String(J.get_ZMDGJ_LeveNum())}add_ZMDGJ_Event(){super.add_ZMDGJ_Event(),this._start_ZMDGJ_Btn.on(Laya.Event.CLICK,this,this.on_ZMDGJ_Start_ZMDGJ_Btn),c.ins_ZMDGJ_tance.reg_ZMDGJ_Evemt(D.Game_On_ZMDGJ_User_ZMDGJ_Money_ZMDGJ_Change,this,this.on_ZMDGJ_UserMoney_ZMDGJ_Change)}remove_ZMDGJ_Event(){super.remove_ZMDGJ_Event(),this._start_ZMDGJ_Btn.off(Laya.Event.CLICK,this,this.on_ZMDGJ_Start_ZMDGJ_Btn),c.ins_ZMDGJ_tance.remove_ZMDGJ_Event(D.Game_On_ZMDGJ_User_ZMDGJ_Money_ZMDGJ_Change,this,this.on_ZMDGJ_UserMoney_ZMDGJ_Change)}on_ZMDGJ_Start_ZMDGJ_Btn(){Math.floor(50*Math.random()+50);this.onLevelStart()}on_ZMDGJ_UserMoney_ZMDGJ_Change(e){let t=e.curr;e.last;this._money_ZMDGJ_Num.value=String(t)}onLevelStart(){y.ins_ZMDGJ_tance.open_ZMDGJ_View(M.SkinTipsView,null,()=>{y.ins_ZMDGJ_tance.close_ZMDGJ_View(M.MainView)})}}class de extends ie{constructor(){super(...arguments),this.__ZMDGJ_icon=null,this.__ZMDGJ_text=null,this.__ZMDGJ_mark=null}onAwake(){this.__ZMDGJ_icon=this._ZMDGJ_Sprite_ZMDGJ_.getChildByName("Icon"),this.__ZMDGJ_text=this._ZMDGJ_Sprite_ZMDGJ_.getChildByName("Text"),this.__ZMDGJ_text.overflow=Laya.Text.SCROLL,this.__ZMDGJ_text.text="",this.__ZMDGJ_mark=this._ZMDGJ_Sprite_ZMDGJ_.getChildByName("Mark"),this.__ZMDGJ_mark.visible=!1}onStart(){this.auto_ZMDGJ_Scroll_ZMDGJ_Text(this.__ZMDGJ_text)}onEnable(){this._ZMDGJ_Sprite_ZMDGJ_.on(Laya.Event.CLICK,this,this.onClic_ZMDGJ_kAd)}onDisable(){this._ZMDGJ_Sprite_ZMDGJ_.off(Laya.Event.CLICK,this,this.onClic_ZMDGJ_kAd)}onClic_ZMDGJ_kAd(){this.navigate_ZMDGJ_To_ZMDGJ_Mini_ZMDGJ_Program()}setData(e,t){if(this._data=e,null!=this._data){var _=this;this.__ZMDGJ_icon.loadImage(this._data.logo,Laya.Handler.create(this,function(){_.__ZMDGJ_icon.destroyed||(_.__ZMDGJ_icon.width=100,_.__ZMDGJ_icon.height=100)}));var i=String(this._data.title);this.__ZMDGJ_text.text=i,this.__ZMDGJ_mark.visible=t}}}class pe extends ie{constructor(){super(...arguments),this.On_ZMDGJ_Back_ZMDGJ_Btn_ZMDGJ_Click=null,this._top_ZMDGJ_Zone=null,this._back_ZMDGJ_Btn=null,this._start_ZMDGJ_List=new Array}onAwake(){this.Ad_ZMDGJ_Pos_ZMDGJ_ID=$.History_ZMDGJ_LocationID,this._top_ZMDGJ_Zone=this._ZMDGJ_Sprite_ZMDGJ_.getChildByName("TopZone"),this._back_ZMDGJ_Btn=this._top_ZMDGJ_Zone.getChildByName("BackBtn"),this._list=this._ZMDGJ_Sprite_ZMDGJ_.getChildByName("List"),this._list.renderHandler=Laya.Handler.create(this,this.on_ZMDGJ_List_ZMDGJ_Render,null,!1),this._list.vScrollBarSkin=""}onStart(){this.ref_ZMDGJ_resh()}onEnable(){this._back_ZMDGJ_Btn.on(Laya.Event.CLICK,this,this.on_ZMDGJ_Back_ZMDGJ_Btn)}onDisable(){this._back_ZMDGJ_Btn.off(Laya.Event.CLICK,this,this.on_ZMDGJ_Back_ZMDGJ_Btn)}ref_ZMDGJ_resh(e){let t=this;$.get_ZMDGJ_ADVs(this.Ad_ZMDGJ_Pos_ZMDGJ_ID,e=>{if(null!=e){t._datas=e,t._start_ZMDGJ_List.splice(0);for(let e=0;e<t._datas.length;++e)t._start_ZMDGJ_List.push(!1);let _=Math.floor(.33*t._start_ZMDGJ_List.length);for(;_>0;){let e=Math.floor(Math.random()*t._start_ZMDGJ_List.length);0==t._start_ZMDGJ_List[e]&&(t._start_ZMDGJ_List[e]=!0,--_)}t._list.array=t._datas}},!1)}on_ZMDGJ_List_ZMDGJ_Render(e,t){let _=this._list.array[t],i=this._start_ZMDGJ_List[t];e.getComponent(de).setData(_,i)}on_ZMDGJ_Back_ZMDGJ_Btn(){this._ZMDGJ_hide_ZMDGJ_(),null!=this.On_ZMDGJ_Back_ZMDGJ_Btn_ZMDGJ_Click&&this.On_ZMDGJ_Back_ZMDGJ_Btn_ZMDGJ_Click()}_ZMDGJ_show_ZMDGJ_(){super._ZMDGJ_show_ZMDGJ_(),this.ref_ZMDGJ_resh()}}class ge extends F{constructor(){super(...arguments),this._krq_ZMDGJ_history=null}onAwake(){super.onAwake(),this._krq_ZMDGJ_history=this.View_ZMDGJ_.getChildByName("KRQ_History").getComponent(pe);let e=this;this._krq_ZMDGJ_history.On_ZMDGJ_Back_ZMDGJ_Btn_ZMDGJ_Click=(()=>{e.close_ZMDGJ_View()})}onStart(){super.onStart()}add_ZMDGJ_Event(){super.add_ZMDGJ_Event()}remove_ZMDGJ_Event(){super.remove_ZMDGJ_Event()}}class ue extends F{constructor(){super(...arguments),this._clickBar=null,this._totalClickTimer=15,this._needClickTime=10,this._bannerClickTime=Math.floor(5*Math.random())+2,this._banner=null}onAwake(){super.onAwake(),this._click_Btn=this.owner.getChildByName("Click_Btn"),this._click_Btn.on(Laya.Event.CLICK,this,this.ButtonClicked),this._arrow_Img=this._click_Btn.getChildByName("Arrow_Img"),this._getPrize_View=this.owner.getChildByName("GetPrize_View"),this._prizeCount_Text=this._getPrize_View.getChildByName("PrizeCount_Text"),this._confirm_Btn=this._getPrize_View.getChildByName("Confirm_Btn"),this._getPrize_View.visible=!1,this._clickBar=this.owner.getChildByName("ClickBar").getChildByName("ClickBar"),this._clickBarOriginalWidth=this._clickBar.width,this._clickBar.width=0,this._clickTime=0,this._totalClickTime=0;let e=this;Laya.loader.load("ClickGetPrize/quanji.png",Laya.Handler.create(this,t=>{Laya.loader.load("ClickGetPrize/quanji.sk",Laya.Handler.create(this,_=>{console.log("texture",t),console.log("bytes",_);let i=new Laya.Templet;i.parseData(t,_),e.drgon=i.buildArmature(),e.owner.addChild(e.drgon),e.drgon.x=375,e.drgon.y=610,e.drgon.scaleX=2,e.drgon.scaleY=2,e.drgon.parent.setChildIndex(e.drgon,1),e.drgon.play(0,!0),console.log("quanji 加载完成!!!!",i)}),Laya.Handler.create(this,()=>{}),"",0,!1,"",!0)}),Laya.Handler.create(this,()=>{}),"",0,!1,"",!0)}add_ZMDGJ_Event(){super.add_ZMDGJ_Event(),Laya.stage.on(Laya.Event.FOCUS_CHANGE,this,this.onFocusChange)}remove_ZMDGJ_Event(){super.remove_ZMDGJ_Event(),Laya.stage.off(Laya.Event.FOCUS_CHANGE,this,this.onFocusChange)}onUpdate(){if(super.onUpdate(),this._arrowUp?(this._arrow_Img.top+=Laya.timer.delta/5,this._arrow_Img.top>-140&&(this._arrowUp=!1)):(this._arrow_Img.top-=Laya.timer.delta/5,this._arrow_Img.top<-180&&(this._arrowUp=!0)),!this._bannerClicked){let e=2+this._clickBar.width/this._clickBarOriginalWidth*4;this._clickBar.width>=e&&(this._clickBar.width-=e),this._clickBar.width/this._clickBarOriginalWidth+.1<this._clickTime/this._needClickTime&&this._clickTime--}}open_ZMDGJ_View(e){this._compeletFunction=e.Complete,this._titel=e.titel,super.open_ZMDGJ_View(e)}OpenPrizeWindow(){let e=this;this._prizeCount_Text.text=this._titel,this._getPrize_View.visible=!0,this._confirm_Btn.once(Laya.Event.CLICK,this,function(){null!=e._banner&&e._banner._ZMDGJ_hide_ZMDGJ_(),e._compeletFunction&&e._compeletFunction(),e.close_ZMDGJ_View()})}ShowBanner(){let e=this;K.get_ZMDGJ_Banner(t=>{null!=e._banner&&e._banner._ZMDGJ_hide_ZMDGJ_(),e._banner=t,null!=e._banner&&e._banner._ZMDGJ_show_ZMDGJ_()})}ButtonClicked(){if(this._clickTime++,this._totalClickTime++,null!=this.drgon&&(this.drgon.play(1,!1),this.drgon.once(Laya.Event.STOPPED,this,()=>{this.drgon.play(0,!0)})),this._clickTime>this._needClickTime&&(this._clickTime=this._needClickTime),this._clickTime>=this._bannerClickTime){if(this._clickTime>=this._needClickTime&&(this._clickTime=this._needClickTime-1),this._bannerClicked)return;this._bannerClicked=!0,w.Wu_ZMDGJ_dian_ZMDGJ_Flag&&1==r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().wxcfg.kuang_ZMDGJ_dian_ZMDGJ_Banner&&this.ShowBanner(),Laya.timer.once(2e3,this,function(){this.BannerClicked()})}else this._totalClickTime>this._totalClickTimer&&(w.Wu_ZMDGJ_dian_ZMDGJ_Flag&&1==r.get_ZMDGJ_Instance().get_ZMDGJ_App_ZMDGJ_Switch_ZMDGJ_Data().wxcfg.kuang_ZMDGJ_dian_ZMDGJ_Banner&&this.ShowBanner(),this.BannerClicked());let e=this._clickTime/this._needClickTime*this._clickBarOriginalWidth;this._clickBar.width=e}BannerClicked(){c.ins_ZMDGJ_tance.dis_ZMDGJ_patch(D.AD_Wu_ZMDGJ_dian_ZMDGJ_Banner__ZMDGJ_Hide),this._bannerClicked=!0,this._clickTime=this._needClickTime,this._clickBar.width=this._clickBarOriginalWidth,this._click_Btn.visible=!1,this.OpenPrizeWindow()}onDestroy(){super.onDestroy(),null!=this._banner&&this._banner._ZMDGJ_hide_ZMDGJ_()}onFocusChange(){null!=this.drgon&&this.drgon.play(0,!0)}}class me{constructor(){}static init(){var e=Laya.ClassUtils.regClass;e("Mgr/GameMgr.ts",P),e("View/LoadingView/LoadingView.ts",q),e("View/ButtonAnim.ts",H),e("View/SkinTips/SkinTips.ts",Y),e("KRQ/Com/KRQ_LoopAd/KRQ_LoopAdBox.ts",ne),e("KRQ/Com/KRQ_LoopAd/KRQ_VLoopAd.ts",oe),e("View/TemplateViews/Export2/Exprot2ViewTemplate.ts",se),e("View/Common/ViewAutoScaleByW.ts",re),e("View/TemplateViews/Export3/Exprot3ViewTemplate.ts",le),e("View/TemplateViews/GameFail/GameFailViewTemplate.ts",De),e("View/TemplateViews/GameWin/GameWinViewTemplate.ts",Me),e("View/TemplateViews/InGame/GameInfo.ts",Ge),e("View/TemplateViews/InGame/Input.ts",he),e("View/TemplateViews/InGame/InGameViewTemplate.ts",Ze),e("View/TemplateViews/Main/Ani.ts",ce),e("View/TemplateViews/Main/MainViewTemplate.ts",Je),e("View/TemplateViews/MiniGame/MiniGameViewTemplate.ts",ge),e("KRQ/Com/KRQ_History/KRQ_HistoryBox.ts",de),e("KRQ/Com/KRQ_History/KRQ_History.ts",pe),e("View/TemplateViews/WXCrazyClick/WXCrazyClick.ts",ue)}}me.width=750,me.height=1334,me.scaleMode="fixedwidth",me.screenMode="vertical",me.alignV="middle",me.alignH="center",me.startScene="GameMain.scene",me.sceneRoot="",me.debug=!1,me.stat=!1,me.physicsDebug=!1,me.exportSceneToJson=!0,me.init();var we,ye=Laya.Scene,Le=Laya.ClassUtils.regClass;!function(e){!function(e){class t extends ye{constructor(){super()}createChildren(){super.createChildren(),this.createView(t.uiView)}}t.uiView={type:"Scene",props:{width:750,top:0,right:0,left:0,height:1334,bottom:0},compId:2,child:[{type:"Clip",props:{y:0,x:1,width:750,skin:"Loading/Juxing.png",name:"Bg",height:1334},compId:6,child:[{type:"Clip",props:{right:0,name:"BottomZone",left:0,height:570,bottom:99},compId:23,child:[{type:"Clip",props:{y:327,x:376,width:615,skin:"Loading/loadingxiatiao.png",pivotY:22,pivotX:308,name:"processBarBg",height:44,sizeGrid:"0,25,0,25"},compId:8,child:[{type:"Clip",props:{width:594,skin:"Loading/loadingshangtiao.png",pivotY:13,name:"processBar",left:11,height:26,bottom:8,sizeGrid:"0,12,0,12"},compId:5},{type:"Sprite",props:{y:-23,x:308,width:143,texture:"Loading/ziyuanjiazaizhong.png",pivotY:12,pivotX:72,height:23},compId:10}]}]},{type:"Clip",props:{top:200,skin:"Loading/Logo.png",name:"Logo",centerX:0},compId:24}]},{type:"Script",props:{y:0,x:0,runtime:"View/LoadingView/LoadingView.ts"},compId:7}],loadList:["Loading/Juxing.png","Loading/loadingxiatiao.png","Loading/loadingshangtiao.png","Loading/ziyuanjiazaizhong.png","Loading/Logo.png"],loadList3D:[]},e.LoadingUI=t,Le("ui.View.LoadingUI",t)}(e.View||(e.View={}))}(we||(we={}));new class{constructor(){this._loadingUI=null,this._loadingView=null,this._preLoadRes=new Array,window.Laya3D?Laya3D.init(me.width,me.height):Laya.init(me.width,me.height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=me.scaleMode,Laya.stage.screenMode=me.screenMode,Laya.stage.alignV=me.alignV,Laya.stage.alignH=me.alignH,Laya.URL.exportSceneToJson=me.exportSceneToJson,(me.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),me.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),me.stat&&Laya.Stat.show(),Laya.alertGlobalError(!0),1==t.onTTMiniGame&&(Laya.Browser.onMiniGame=!1),Laya.Browser.onMiniGame||Laya.Browser.onQGMiniGame||Laya.Browser.onQQMiniGame||t.onTTMiniGame||(t.Res_ZMDGJ_Server=t.Local_ZMDGJ_Test_ZMDGJ_ReServer),Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}onConfigLoaded(){Laya.loader.maxLoader=50,this.initLoadingView();var e=[{url:t.Res_ZMDGJ_Server+"/json/appswitch.json",type:Laya.Loader.JSON}],_=this;Laya.loader.load(e,Laya.Handler.create(this,()=>{_.loadRes()})),c.ins_ZMDGJ_tance.reg_ZMDGJ_OnceEvent(D.App_Close_ZMDGJ_First_ZMDGJ_Loading_ZMDGJ_View,this,this.closeloadingUI)}initLoadingView(){this._loadingUI=new we.View.LoadingUI,Laya.stage.addChild(this._loadingUI),this._loadingUI.width=Laya.stage.width,this._loadingUI.height=Laya.stage.height,this._loadingView=this._loadingUI.getComponent(q),this._loadingView.set_ZMDGJ_Process(0)}postResToOpenDataContext(e){Laya.Browser.onMiniGame?(console.log("开始透传资源数据到开放域"),Laya.loader.load(["openRes/Rank.atlas"],Laya.Handler.create(null,function(){Laya.MiniAdpter.sendAtlasToOpenDataContext("openRes/Rank.atlas"),console.log("透传资源数据到开放域  完毕！！！"),e&&e()}))):e&&e()}preLoad(){this._preLoadRes.push({url:t.Local_ZMDGJ_Test_ZMDGJ_ReServer+"/json/storeconfig.json",type:Laya.Loader.JSON})}loadRes(){this.preLoad();var e=this._preLoadRes,t=this;Laya.Browser.onMiniGame?Laya.Browser.window.wx.loadSubpackage({name:"subRes",success:_=>{e.length>0?Laya.loader.load(e,Laya.Handler.create(this,()=>{t.onLoadResComplate()}),Laya.Handler.create(this,e=>{t._loadingView.set_ZMDGJ_Process(e/2+.5)})):Laya.Browser.window.wx.loadSubpackage({name:"subRes1",success:_=>{e.length>0?Laya.loader.load(e,Laya.Handler.create(this,()=>{t.onLoadResComplate()}),Laya.Handler.create(this,e=>{t._loadingView.set_ZMDGJ_Process(e/2+.5)})):t.onLoadResComplate()},fail:e=>{this.loadRes()}})},fail:e=>{this.loadRes()}}).onProgressUpdate(e=>{t._loadingView.set_ZMDGJ_Process(e/2)}):Laya.Browser.onQGMiniGame?Laya.Browser.window.qg.loadSubpackage({name:"subRes",success:_=>{e.length>0?Laya.loader.load(e,Laya.Handler.create(this,()=>{t.onLoadResComplate()}),Laya.Handler.create(this,e=>{t._loadingView.set_ZMDGJ_Process(e/2+.5)})):Laya.Browser.window.qg.loadSubpackage({name:"subRes1",success:_=>{e.length>0?Laya.loader.load(e,Laya.Handler.create(this,()=>{t.onLoadResComplate()}),Laya.Handler.create(this,e=>{t._loadingView.set_ZMDGJ_Process(e/2+.5)})):t.onLoadResComplate()},fail:e=>{this.loadRes()}})},fail:e=>{this.loadRes()}}).onProgressUpdate(e=>{var _=e.progress;e.totalBytesWritten,e.totalBytesExpectedToWrite,t._loadingView.set_ZMDGJ_Process(_/2)}):Laya.Browser.onQQMiniGame?Laya.Browser.window.qq.loadSubpackage({name:"subRes",success:_=>{e.length>0?Laya.loader.load(e,Laya.Handler.create(this,()=>{t.onLoadResComplate()}),Laya.Handler.create(this,e=>{t._loadingView.set_ZMDGJ_Process(e/2+.5)})):Laya.Browser.window.qq.loadSubpackage({name:"subRes1",success:_=>{e.length>0?Laya.loader.load(e,Laya.Handler.create(this,()=>{t.onLoadResComplate()}),Laya.Handler.create(this,e=>{t._loadingView.set_ZMDGJ_Process(e/2+.5)})):t.onLoadResComplate()},fail:e=>{this.loadRes()}})},fail:e=>{this.loadRes()}}).onProgressUpdate(e=>{t._loadingView.set_ZMDGJ_Process(e/2)}):e.length>0?Laya.loader.load(e,Laya.Handler.create(this,()=>{t.onLoadResComplate()}),Laya.Handler.create(this,e=>{t._loadingView.set_ZMDGJ_Process(e)})):t.onLoadResComplate()}onLoadResComplate(){this._loadingView.set_ZMDGJ_Process(1),Laya.Browser.onMiniGame?u._ZMDGJ_wxLogin_ZMDGJ_(function(e){J.code_ZMDGJ_=e,g.login_ZMDGJ_(e=>{1==e.code?(console.log("登陆成功！！！"),J._ZMDGJ_token=e.data.token,J.openId_ZMDGJ_=e.data.openid,L.ald_ZMDGJ_Send_ZMDGJ_OpenId(J.openId_ZMDGJ_),g.get_ZMDGJ_Game_ZMDGJ_Data(e=>{console.log("获取用户数据成功！！！"),1==e.code?J.initi_ZMDGJ_User(e.data):J.initi_ZMDGJ_User(null),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){}))},e=>{console.log("获取用户数据失败！！！"),J._ZMDGJ_token="",J.openId_ZMDGJ_="",J.initi_ZMDGJ_User(null),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){}))})):(console.log("登陆失败！！！"+e),J.initi_ZMDGJ_User(null),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){})))},e=>{console.log("登陆失败！！！"+e),J.initi_ZMDGJ_User(null),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){}))})},null):Laya.Browser.onQGMiniGame?(ee.init_ZMDGJ_AdService(()=>{},()=>{},()=>{}),ee._ZMDGJ_Login_ZMDGJ_(function(e){J.code_ZMDGJ_=e,g.login_ZMDGJ_(e=>{1==e.code?(console.log("登陆成功！！！"),J._ZMDGJ_token=e.data.token,J.openId_ZMDGJ_=e.data.openid,g.get_ZMDGJ_Game_ZMDGJ_Data(e=>{if(console.log("获取用户数据成功！！！"),1==e.code){for(var t in J.initi_ZMDGJ_User(e.data),console.log("获取用户数据--------------------Start"),e.data)console.log(t,e.data[t]);console.log("获取用户数据--------------------End")}else J.initi_ZMDGJ_User(null);me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){}))},e=>{console.log("获取用户数据失败！！！"),J._ZMDGJ_token="",J.openId_ZMDGJ_="",J.initi_ZMDGJ_User(null),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){}))})):(console.log("登陆失败！！！",e),J.initi_ZMDGJ_User(null),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){})))},e=>{console.log("登陆失败！！！",e),J.initi_ZMDGJ_User(null),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){}))})},null)):Laya.Browser.onQQMiniGame?m._ZMDGJ_Login_ZMDGJ_(function(e){J.code_ZMDGJ_=e,g.login_ZMDGJ_(e=>{1==e.code?(console.log("登陆成功！！！"),J._ZMDGJ_token=e.data.token,J.openId_ZMDGJ_=e.data.openid,L.ald_ZMDGJ_Send_ZMDGJ_OpenId(J.openId_ZMDGJ_),g.get_ZMDGJ_Game_ZMDGJ_Data(e=>{console.log("获取用户数据成功！！！"),1==e.code?J.initi_ZMDGJ_User(e.data):J.initi_ZMDGJ_User(null),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){}))},e=>{console.log("获取用户数据失败！！！"),J._ZMDGJ_token="",J.openId_ZMDGJ_="",J.initi_ZMDGJ_User(null),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){}))})):(console.log("登陆失败！！！"+e),J.initi_ZMDGJ_User(null),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){})))},e=>{console.log("登陆失败！！！"+e),J.initi_ZMDGJ_User(null),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){}))})},null):t.onTTMiniGame?te._ZMDGJ_ttLogin_ZMDGJ_(function(e){J.code_ZMDGJ_=e,g.login_ZMDGJ_(e=>{1==e.code?(console.log("登陆成功！！！"),J._ZMDGJ_token=e.data.token,J.openId_ZMDGJ_=e.data.openid,g.get_ZMDGJ_Game_ZMDGJ_Data(e=>{console.log("获取用户数据成功！！！"),1==e.code?J.initi_ZMDGJ_User(e.data):J.initi_ZMDGJ_User(null),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){}))},e=>{console.log("获取用户数据失败！！！"),J._ZMDGJ_token="",J.openId_ZMDGJ_="",J.initi_ZMDGJ_User(null),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){}))})):(console.log("登陆失败！！！"+e),J.initi_ZMDGJ_User(null),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){})))},e=>{console.log("登陆失败！！！"+e),J.initi_ZMDGJ_User(null),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){}))})},()=>{J.initi_ZMDGJ_User(null),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){}))}):(J.test_ZMDGJ_InitUser(),me.startScene&&Laya.Scene.open(me.startScene,!1,Laya.Handler.create(this,function(){})))}closeloadingUI(){this._loadingUI&&!this._loadingUI.destroyed&&this._loadingUI.destroy()}},Laya.Browser.window&&(Laya.Browser.window.NativeCallback=B)}();