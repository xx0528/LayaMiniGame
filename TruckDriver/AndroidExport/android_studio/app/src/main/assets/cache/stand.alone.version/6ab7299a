var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(){function e(t,n,i){function a(r,s){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[r]={exports:{}};t[r][0].call(h.exports,function(e){var n=t[r][1][e];return a(n||e)},h,h.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}return e}()({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i;!function(e){e.None="",e.ReportAdClickSuccess="广告导出成功",e.ReportAdClickFail="广告导出失败",e.ReportLaunchOptions="用户启动参数"}(i=n.ALDEvent_ppxhc_Def||(n.ALDEvent_ppxhc_Def={}));var a=function(){function e(){}return e.aldSendOpenId=function(e){Laya.Browser.onMiniGame?(Laya.Browser.window.wx.aldSendOpenid(e),console.log("ALD 上报 openid : ",e)):Laya.Browser.onQQMiniGame&&(Laya.Browser.window.qq.aldSendOpenid(e),console.log("ALD 上报 openid : ",e))},e.aldSendEvent=function(e,t){var n=e;Laya.Browser.onMiniGame?Laya.Browser.window.wx.aldSendEvent(n,t):Laya.Browser.onQQMiniGame&&Laya.Browser.window.qq.aldSendEvent(n,t)},e.aldSendReportAdClickSuccess=function(t){var n=i.ReportAdClickSuccess+" "+t.title+":"+String(t.appid);e.aldSendEvent(n,{"导出成功":t.title+":"+String(t.appid)})},e.aldSendReportAdClickFail=function(t){var n=i.ReportAdClickFail+" "+t.title+":"+String(t.appid);e.aldSendEvent(n,{"导出失败":t.title+":"+String(t.appid)})},e.aldSendReportLaunchOptions=function(t,n,a){var o=i.ReportLaunchOptions;e.aldSendEvent(o,{"场景值：":String(t),"Ip：":String(n),"地区：":JSON.stringify(a)})},e}();n["default"]=a},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.App_ppxhc_ID="",e.Res_ppxhc_Server="subRes",e.Local_ppxhc_TestReServer=e.Res_ppxhc_Server,e.ppxhc_Versions="0.0.0",e.onTTMiniGame_ppxhc_=!1,e.GameName="",e.showLoadingLogo=!1,e}();n["default"]=i},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Config/AppSwitchConfig"),a=function(){function e(){}return e.preloadBanner=function(){},e.show=function(t){var n=i["default"].getInstance().getAppSwitchData().wxWuDianBanners;i["default"].getInstance().getAppSwitchData().bannerTodayBannerMax;if(t=n[Math.floor(Math.random()*n.length)],Laya.Browser.onQQMiniGame&&null!=t){var a=Laya.Browser.window.qq.getSystemInfoSync(),o=a.screenWidth,r=a.screenHeight,s=Laya.Browser.window.qq.createBannerAd({adUnitId:t,adIntervals:30,style:{left:0,top:(Laya.stage.height-240)/Laya.stage.height*r,width:o}});if(s){var l=this;e._onLoad=function(n){console.log("CachedQQBanner 广告 加载完成",t),console.log(n),l._isHide?(s.offLoad(e._onLoad),s.offError(e._onError),s.destroy()):s.show()},s.onLoad(e._onLoad),e._onError=function(n){console.log("CachedQQBanner 广告 加载失败",t),console.log(n),s.offLoad(e._onLoad),s.offError(e._onError),s.destroy()},s.onError(e._onError),e._curBanner=s}}e._isHide=!1},e.hide=function(){e._isHide=!0,Laya.timer.clearAll(e),null!=e._curBanner&&(e._curBanner.hide(),e._curBanner.offLoad(e._onLoad),e._curBanner.offError(e._onError),e._curBanner.destroy(),e._curBanner=null,console.log("CachedQQBanner 广告隐藏"))},e.changeShow=function(){null!=e._curBanner&&(e._curBanner.hide(),e._curBanner=null),e.show()},e.clear=function(){},e._curBanner=null,e._onLoad=null,e._onError=null,e._isHide=!0,e}();n["default"]=a},{"./Config/AppSwitchConfig":5}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Config/AppSwitchConfig"),a=function(){function e(){}return e.preloadBanner=function(){for(var t=i["default"].getInstance().getAppSwitchData().wxWuDianBanners,n=i["default"].getInstance().getAppSwitchData().bannerTodayBannerMax,a=new Array,o=0;o<t.length;++o)a.push(t[o]);if(a.length>n)for(var r=a.length-n,o=0;r>o;++o)a.splice(Math.floor(Math.random()*a.length),1);console.log("开始预创建微信Bannaer",a),console.log("Bannaer 最大数限制 ：",n);var s=0;Laya.timer.loop(2e3,e._preLoopObj,function(){if(s>=a.length)return void Laya.timer.clearAll(e._preLoopObj);var t=a[s],n=e._bannerCache[t];null==n&&(n=e.create(t),null!=n&&(e._bannerCache[t]=n,console.log("预创建微信Bannaer",t,"完成"))),++s})},e.getBanner=function(t){if(null==t||""==t)return null;var n=e._bannerCache[t];return null==n&&(n=e.create(t),null!=n&&(e._bannerCache[t]=n)),n},e.create=function(e){if(Laya.Browser.onMiniGame){var t=Laya.Browser.window.wx.getSystemInfoSync(),n=t.screenWidth,i=t.screenHeight,a=Laya.Browser.window.wx.createBannerAd({adUnitId:e,adIntervals:30,style:{left:0,top:(Laya.stage.height-240)/Laya.stage.height*i,width:n}});return a&&(a.onLoad(function(t){console.log("CachedWXBanner 广告 加载完成",e),console.log(t)}),a.onError(function(t){console.log("CachedWXBanner 广告 加载失败",e),console.log(t)}),a.onResize(function(e){console.log(a.style.realWidth,a.style.realHeight)})),a}return null},e.show=function(){null!=e._curBanner&&(e._curBanner.hide(),e._curBanner=null);var t=i["default"].getInstance().getAppSwitchData().wxWuDianBanners,n=t[Math.floor(Math.random()*t.length)],a=e.getBanner(n);if(a){e._curBanner=a;var o=Laya.Browser.window.wx.getSystemInfoSync(),r=(o.screenWidth,o.screenHeight);e._curBanner.style.top=(Laya.stage.height-240)/Laya.stage.height*r,e._curBanner.show(),console.log("CachedWXBanner 广告显示 bannerid ： ",n)}i["default"].getInstance().getAppSwitchData().bannerFreshTimer},e.hide=function(){Laya.timer.clearAll(e),null!=e._curBanner&&(e._curBanner.hide(),e._curBanner=null),console.log("CachedWXBanner 广告隐藏")},e.changeShow=function(){null!=e._curBanner&&(e._curBanner.hide(),e._curBanner=null),e.show()},e.clear=function(){Laya.timer.clearAll(e);for(var t in e._bannerCache){var n=e._bannerCache[t];null!=n&&n.destroy(),e._bannerCache[t]=null}},e._bannerCache={},e._curBanner=null,e._preLoopObj={},e}();n["default"]=a},{"./Config/AppSwitchConfig":5}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../AppConfig"),a=function(){function e(){this.version="",this.banner=0,this.wudian=0,this.wudianAvailableTime={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},this.mailiang=1,this.mailianglist=new Array,this.mailiangSceneList=new Array,this.wxWuDianBanners=new Array,this.recreateBannerIDList=new Array,this.bannerRecreateTime=5,this.kuangdianjiange=0,this.btnMoveTimer=1,this.bannerMoveTimer=.5,this.bannerFreshTimer=200,this.bannerCreateFailNum=3,this.bannerTodayBannerMax=10,this.adSwitch=1,this.btnDelayTime=1.5,this.wudianSceneList=new Array,this.continueBtnDelayTime=2,this.bannerShowTime=30,this.fakeBtn=0,this.popAd=0,this.continueBanner=0,this.continueBannerShowTime=2,this.continueBannerHideTime=2,this.oppocfg=new r,this.qqcfg=new s,this.ttcfg=new l,this.vivocfg=new c,this.skinWudian=0,this.wxcfg=new o}return Object.defineProperty(e.prototype,"wudianTimeAvaliable",{get:function(){return 1==this.wudianAvailableTime[(new Date).getHours()]},enumerable:!0,configurable:!0}),e}();n.AppSwitch_ppxhc_Data=a;var o=function(){function e(){this.kuangdianBanner=0,this.kuangdianLevelSpcacing=0,this.startKuangdianLevel=0}return e}();n.WXCfg=o;var r=function(){function e(){this.yuansheng=100,this.yuanshengSwitch=1,this.addToDesktop=0,this.oppoversions="",this.btnShowTimer=0,this.indexAdSwitch=0,this.endAdSwitch=0,this.yuansheng2=100,this.yuanshengSwitch2=1}return e}();n.OPPO_ppxhc_Cfg=r;var s=function(){function e(){this.kuangdianBanner=0,this.kuangdianBox=0,this.box=0,this.weiyi=0,this.qqversions=""}return e}();n.QQCfg=s;var l=function(){function e(){this.moreGameSwitch=0,this.kuangdianBanner=0,this.luping=0,this.ttversions=""}return e}();n.TTCfg=l;var c=function(){function e(){this.yuanshengSwitch=1,this.yuansheng=100,this.yuanshengSwitch2=1,this.yuansheng2=100,this.chapingSwitch=1,this.chaping=100,this.addToDesktop=1,this.vivoversions="",this.btnShowTimer=1}return e}();n.VVcfg=c;var h=function(){function e(){this._data=new Array}return e.getInstance=function(){return null==e._instance&&(e._instance=e.load_ppxhc_()),e._instance},e.load_ppxhc_=function(){var t=new e,n=Laya.loader.getRes(i["default"].Res_ppxhc_Server+"/json/appswitch.json");if(n){for(var o=0;o<n.length;++o){var r=n[o],s=new a;s.version=String(r.version),s.banner=Number(r.banner),s.wudian=Number(r.wudian),s.btnDelayTime=Number(r.btnDelayTime),s.wudianAvailableTime=Object(r.wudianTime),s.mailiang=Number(r.mailiang);var l=r.mailianglist;if(null!=l)for(var c=0;c<l.length;++c){var h=Number(l[c]);s.mailianglist.push(h)}var p=r.mailiangScenelist;if(null!=p)for(var c=0;c<p.length;++c){var u=Number(p[c]);s.mailiangSceneList.push(u)}var d=r.wxwudianbanners;if(null!=d)for(var c=0;c<d.length;++c){var _=String(d[c]);s.wxWuDianBanners.push(_)}var f=r.recreateBannerIDList;if(null!=f)for(var c=0;c<f.length;++c){var _=String(f[c]);s.recreateBannerIDList.push(_)}s.bannerRecreateTime=null!=r.bannerRecreateTime?Number(r.bannerRecreateTime):s.bannerRecreateTime,s.kuangdianjiange=null!=r.kuangdianjiange?Number(r.kuangdianjiange):s.kuangdianjiange,s.btnMoveTimer=Number(r.btnMoveTimer),s.bannerMoveTimer=Number(r.bannerMoveTimer),s.bannerCreateFailNum=Number(r.createFailNum),s.bannerFreshTimer=Number(r.bannerFreshTimer),s.bannerTodayBannerMax=Number(r.todayBannerMax),s.adSwitch=Number(r.adSwitch);var g=r.wudianSceneList;if(null!=g)for(var c=0;c<g.length;++c){var y=Number(g[c]);s.wudianSceneList.push(y)}if(s.continueBtnDelayTime=Number(r.continueBtnDelayTime),s.bannerShowTime=Number(r.bannerShowTime),s.fakeBtn=null!=r.fakeBtn?Number(r.fakeBtn):s.fakeBtn,s.popAd=null!=r.popAd?Number(r.popAd):s.popAd,s.continueBanner=null!=r.continueBanner?Number(r.continueBanner):s.continueBanner,s.continueBannerShowTime=null!=r.continueBannerShowTime?Number(r.continueBannerShowTime):s.continueBannerShowTime,s.continueBannerHideTime=null!=r.continueBannerHideTime?Number(r.continueBannerHideTime):s.continueBannerHideTime,null!=r.oppocfg){var m=r.oppocfg;s.oppocfg.yuansheng=Number(m.yuansheng),s.oppocfg.yuanshengSwitch=Number(m.yuanshengSwitch),s.oppocfg.addToDesktop=Number(m.addToDesktop),s.oppocfg.oppoversions=String(m.oppoversions),s.oppocfg.btnShowTimer=Number(m.btnShowTimer),s.oppocfg.indexAdSwitch=Number(m.indexAdSwitch),s.oppocfg.endAdSwitch=Number(m.endAdSwitch),s.oppocfg.yuansheng2=null!=m.yuansheng2?Number(m.yuansheng2):s.oppocfg.yuansheng2,s.oppocfg.yuanshengSwitch2=null!=m.yuanshengSwitch2?Number(m.yuanshengSwitch2):s.oppocfg.yuanshengSwitch2}if(null!=r.qqcfg){var m=r.qqcfg;s.qqcfg.kuangdianBanner=Number(m.kuangdianBanner),s.qqcfg.kuangdianBox=Number(m.kuangdianBox),s.qqcfg.box=Number(m.box),s.qqcfg.weiyi=Number(m.weiyi),s.qqcfg.qqversions=String(m.qqversions)}if(null!=r.ttcfg){var m=r.ttcfg;s.ttcfg.moreGameSwitch=Number(m.moreGameSwitch),s.ttcfg.kuangdianBanner=Number(m.kuangdianBanner),s.ttcfg.luping=Number(m.luping),s.ttcfg.ttversions=String(m.ttversions)}if(null!=r.vivocfg){var m=r.vivocfg;s.vivocfg.yuanshengSwitch=Number(m.yuanshengSwitch),s.vivocfg.yuansheng=Number(m.yuansheng),s.vivocfg.yuanshengSwitch2=Number(m.yuanshengSwitch2),s.vivocfg.yuansheng2=Number(m.yuansheng2),s.vivocfg.chapingSwitch=Number(m.chapingSwitch),s.vivocfg.chaping=Number(m.chaping),s.vivocfg.addToDesktop=Number(m.addToDesktop),s.vivocfg.vivoversions=String(m.vivoversions),s.vivocfg.btnShowTimer=Number(m.btnShowTimer)}if(null!=r.wxcfg){var m=r.wxcfg;s.wxcfg.kuangdianBanner=Number(m.kuangdianBanner),s.wxcfg.kuangdianLevelSpcacing=Number(m.kuangdianLevelSpcacing),s.wxcfg.startKuangdianLevel=Number(m.startKuangdianLevel)}s.skinWudian=r.skinWudian,t._data.push(s)}return t}return t._data.push(new a),t},e.prototype.getAppSwitchData=function(){return this._data[0]},e}();n["default"]=h},{"../AppConfig":2}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../AppConfig"),a=function(){function e(){this.id=0,this.icon="",this.priceType=0,this.price=0}return e.prototype.clone=function(){var t=new e;return t.id=this.id,t.icon=this.icon,t.priceType=this.priceType,t.price=this.price,t},e}();n.StoreData=a;var o=function(){function e(){this._data=new Array}return e.getInstance=function(){return null==e._instance&&(e._instance=e.load()),e._instance},e.load=function(){var t=new e,n=Laya.loader.getRes(i["default"].Res_ppxhc_Server+"/json/storeconfig.json");if(n){for(var o=0;o<n.length;++o){var r=n[o],s=new a;s.id=Number(r.id),s.icon=String(r.icon),s.priceType=Number(r.priceType),s.price=Number(r.price),t._data.push(s)}return t}},e.prototype.getStoreDatas=function(){for(var e=new Array,t=0;t<this._data.length;++t)e.push(this._data[t].clone());return e},e}();n["default"]=o},{"../AppConfig":2}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i;!function(e){e[e.None=0]="None",e[e.App_CloseFirstLoadingView=500]="App_CloseFirstLoadingView",e[e.AD_OnShareAdFail=501]="AD_OnShareAdFail",e[e.Game_OnViewOpen=600]="Game_OnViewOpen",e[e.Game_OnViewClose=601]="Game_OnViewClose",e[e.Game_OnUserMoneyChange=701]="Game_OnUserMoneyChange",e[e.Game_OnUserCrystalChange=702]="Game_OnUserCrystalChange",e[e.Game_OnUserUnlockedStore=703]="Game_OnUserUnlockedStore",e[e.Game_OnLevelStart=1e3]="Game_OnLevelStart",e[e.Game_OnLevelComplate=1001]="Game_OnLevelComplate",e[e.AD_WudianBanner_LoadComplete=2217]="AD_WudianBanner_LoadComplete",e[e.AD_WudianBanner_Show=2218]="AD_WudianBanner_Show",e[e.AD_WudianBanner_Hide=2219]="AD_WudianBanner_Hide",e[e.AD_WudianBanner_PreLoad=2220]="AD_WudianBanner_PreLoad",e[e.App_OnUpdateIpBlockState=2221]="App_OnUpdateIpBlockState",e[e.Car_Moving=10001]="Car_Moving",e[e.Game_ReadyCompleted=10002]="Game_ReadyCompleted",e[e.Game_Settle=10003]="Game_Settle",e[e.Car_Skin=10004]="Car_Skin",e[e.Car_Dead=10005]="Car_Dead",e[e.Car_LevelUp=10006]="Car_LevelUp",e[e.Car_Death=10007]="Car_Death",e[e.Car_LoadUp=10008]="Car_LoadUp",e[e.Car_Unload=10009]="Car_Unload",e[e.Game_RobmoneyStart=10010]="Game_RobmoneyStart",e[e.Game_RobmoneyEnd=10011]="Game_RobmoneyEnd",e[e.Game_GameStarted=10012]="Game_GameStarted",e[e.Car_Change=10013]="Car_Change",e[e.Car_ChangeTipStart=10014]="Car_ChangeTipStart",e[e.Car_ChangeTipEnd=10015]="Car_ChangeTipEnd",e[e.RewardVideoSuccess=20010]="RewardVideoSuccess",e[e.RewardVideoFail=20011]="RewardVideoFail",e[e.InsertVideoEnd=20012]="InsertVideoEnd"}(i=n.Event_ppxhc_Def||(n.Event_ppxhc_Def={}))},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=Laya.EventDispatcher,a=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.dispatch_=function(e,n){t.eventDispatcher.event(e,n)},t.prototype.regEvemt_=function(e,n,i,a){t.eventDispatcher.on(e,n,i,null==a?null:[a])},t.prototype.regOnceEvent_=function(e,n,i,a){t.eventDispatcher.once(e,n,i,null==a?null:[a])},t.prototype.removeEvent_=function(e,n,i,a){t.eventDispatcher.off(e,n,i)},t.eventDispatcher=new i,t.instance=new t,t}(i);n["default"]=a},{}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Mgr/GameMgr"),a=e("./KRQ/Com/KRQ_LoopAd/KRQ_LoopAdBox"),o=e("./KRQ/Com/KRQ_LoopAd/KRQ_VLoopAd"),r=e("./KRQ/Com/KRQ_Banner"),s=e("./KRQ/ViewCom/KRQ_Export"),l=e("./KRQ/Com/KRQ_History/KRQ_HistoryBox"),c=e("./KRQ/Com/KRQ_History/KRQ_History"),h=e("./KRQ/Com/KRQ_RockSingleAd"),p=e("./KRQ/ViewCom/KRQ_Floating"),u=e("./KRQ/Com/KRQ_RollSingleAd"),d=e("./KRQ/ViewCom/KRQ_GameOver"),_=e("./KRQ/ViewCom/KRQ_SidePull"),f=e("./KRQ/Com/KRQ_LoopAd/KRQ_HLoopAd"),g=e("./KRQ/ViewCom/KRQ_Main"),y=e("./KRQ/Com/KRQ_SingleAd"),m=e("./KRQ/Com/KRQ_GamingBanner"),w=e("./View/ButtonAnim"),v=e("./Game/GameUI/GameContinue"),C=e("./Game/GameUI/GameHistory"),B=e("./Game/GameUI/UIStart"),x=e("./Game/GameUI/GameOver"),L=e("./Game/GameUI/GameSkin"),S=e("./Game/GameUI/GameView"),T=e("./View/Game/TestGame"),A=e("./Game/GameUI/TrialSkin"),k=e("./View/TwinkleSprite"),b=e("./View/ClickGetPrize/ClickGetPrize"),V=e("./View/LoadingView/LoadingView"),E=e("./View/TemplateViews/Export2/Exprot2ViewTemplate"),M=e("./View/Common/ViewAutoScaleByW"),I=e("./View/TemplateViews/Export3/Exprot3ViewTemplate"),R=e("./View/TemplateViews/Export/ExportViewTemplate"),D=e("./View/TemplateViews/GameFail/GameFailViewTemplate"),P=e("./View/TemplateViews/GameWin/GameWinViewTemplate"),O=e("./View/TemplateViews/InGame/InGameViewTemplate"),G=e("./View/TemplateViews/Main/MainViewTemplate"),N=e("./View/TemplateViews/MiniGame/MiniGameViewTemplate"),U=e("./View/TemplateViews/OPPONativeAd/OPPONativeAdViewTemplate"),Q=e("./View/QQTemplate/QQCrazyClick/QQCrazyClick"),K=e("./View/QQTemplate/QQCrazyClick/QQCrazyClick2"),W=e("./View/QQTemplate/GameFail/QQGameFailViewTemplate"),F=e("./View/QQTemplate/GameWin/QQGameWinViewTemplate"),H=e("./View/QQTemplate/InGame/QQInGameViewTemplate"),Z=e("./View/QQTemplate/Main/QQMainViewTemplate"),q=e("./View/TemplateViews/Reward/RewardViewTemplate"),z=e("./View/TTTemplate/TTCrazyClick/TTCrazyClick"),j=e("./View/TTTemplate/GameFail/TTGameFailViewTemplate"),X=e("./View/TTTemplate/GameWin/TTGameWinViewTemplate"),Y=e("./View/TTTemplate/Main/TTMainViewTemplate"),J=e("./View/TTTemplate/MoreReward/TTMoreReward"),$=e("./View/TTTemplate/Resurrection/TTResurrection"),ee=e("./View/TTTemplate/Reward/TTReward"),te=e("./View/TTTemplate/Reward/RewardBox"),ne=e("./View/TTTemplate/SignIn/TTSignIn"),ie=e("./View/TTTemplate/SkinTips/TTSkinTips"),ae=e("./View/TTTemplate/Store/TTStore"),oe=e("./View/TTTemplate/Store/StoreBox"),re=e("./View/TTTemplate/Store/PageList"),se=e("./View/VVTemplate/NativeAd/VVNativeAd1View"),le=e("./View/VVTemplate/NativeAd/VVNativeAd2View"),ce=e("./View/TemplateViews/WXCrazyClick/WXCrazyClick"),he=e("./View/TipsView/TipsView"),pe=e("./ShareAd/View/LoopAdBox"),ue=e("./ShareAd/View/HorizontalLoopAdView"),de=e("./ShareAd/View/BannerAdView"),_e=e("./View/Common/UniversalBottomZone"),fe=function(){function e(){}return e.init=function(){var e=Laya.ClassUtils.regClass;e("Mgr/GameMgr.ts",i["default"]),e("KRQ/Com/KRQ_LoopAd/KRQ_LoopAdBox.ts",a["default"]),e("KRQ/Com/KRQ_LoopAd/KRQ_VLoopAd.ts",o["default"]),e("KRQ/Com/KRQ_Banner.ts",r["default"]),e("KRQ/ViewCom/KRQ_Export.ts",s["default"]),e("KRQ/Com/KRQ_History/KRQ_HistoryBox.ts",l["default"]),e("KRQ/Com/KRQ_History/KRQ_History.ts",c["default"]),e("KRQ/Com/KRQ_RockSingleAd.ts",h["default"]),e("KRQ/ViewCom/KRQ_Floating.ts",p["default"]),e("KRQ/Com/KRQ_RollSingleAd.ts",u["default"]),e("KRQ/ViewCom/KRQ_GameOver.ts",d["default"]),e("KRQ/ViewCom/KRQ_SidePull.ts",_["default"]),e("KRQ/Com/KRQ_LoopAd/KRQ_HLoopAd.ts",f["default"]),e("KRQ/ViewCom/KRQ_Main.ts",g["default"]),e("KRQ/Com/KRQ_SingleAd.ts",y["default"]),e("KRQ/Com/KRQ_GamingBanner.ts",m["default"]),e("View/ButtonAnim.ts",w["default"]),e("Game/GameUI/GameContinue.ts",v["default"]),e("Game/GameUI/GameHistory.ts",C["default"]),e("Game/GameUI/UIStart.ts",B["default"]),e("Game/GameUI/GameOver.ts",x["default"]),e("Game/GameUI/GameSkin.ts",L["default"]),e("Game/GameUI/GameView.ts",S["default"]),e("View/Game/TestGame.ts",T["default"]),e("Game/GameUI/TrialSkin.ts",A["default"]),e("View/TwinkleSprite.ts",k["default"]),e("View/ClickGetPrize/ClickGetPrize.ts",b["default"]),e("View/LoadingView/LoadingView.ts",V["default"]),e("View/TemplateViews/Export2/Exprot2ViewTemplate.ts",E["default"]),e("View/Common/ViewAutoScaleByW.ts",M["default"]),e("View/TemplateViews/Export3/Exprot3ViewTemplate.ts",I["default"]),e("View/TemplateViews/Export/ExportViewTemplate.ts",R["default"]),e("View/TemplateViews/GameFail/GameFailViewTemplate.ts",D["default"]),e("View/TemplateViews/GameWin/GameWinViewTemplate.ts",P["default"]),e("View/TemplateViews/InGame/InGameViewTemplate.ts",O["default"]),e("View/TemplateViews/Main/MainViewTemplate.ts",G["default"]),e("View/TemplateViews/MiniGame/MiniGameViewTemplate.ts",N["default"]),e("View/TemplateViews/OPPONativeAd/OPPONativeAdViewTemplate.ts",U["default"]),e("View/QQTemplate/QQCrazyClick/QQCrazyClick.ts",Q["default"]),e("View/QQTemplate/QQCrazyClick/QQCrazyClick2.ts",K["default"]),e("View/QQTemplate/GameFail/QQGameFailViewTemplate.ts",W["default"]),e("View/QQTemplate/GameWin/QQGameWinViewTemplate.ts",F["default"]),e("View/QQTemplate/InGame/QQInGameViewTemplate.ts",H["default"]),e("View/QQTemplate/Main/QQMainViewTemplate.ts",Z["default"]),e("View/TemplateViews/Reward/RewardViewTemplate.ts",q["default"]),e("View/TTTemplate/TTCrazyClick/TTCrazyClick.ts",z["default"]),e("View/TTTemplate/GameFail/TTGameFailViewTemplate.ts",j["default"]),e("View/TTTemplate/GameWin/TTGameWinViewTemplate.ts",X["default"]),e("View/TTTemplate/Main/TTMainViewTemplate.ts",Y["default"]),e("View/TTTemplate/MoreReward/TTMoreReward.ts",J["default"]),e("View/TTTemplate/Resurrection/TTResurrection.ts",$["default"]),e("View/TTTemplate/Reward/TTReward.ts",ee["default"]),e("View/TTTemplate/Reward/RewardBox.ts",te["default"]),e("View/TTTemplate/SignIn/TTSignIn.ts",ne["default"]),e("View/TTTemplate/SkinTips/TTSkinTips.ts",ie["default"]),e("View/TTTemplate/Store/TTStore.ts",ae["default"]),e("View/TTTemplate/Store/StoreBox.ts",oe["default"]),e("View/TTTemplate/Store/PageList.ts",re["default"]),e("View/VVTemplate/NativeAd/VVNativeAd1View.ts",se["default"]),e("View/VVTemplate/NativeAd/VVNativeAd2View.ts",le["default"]),e("View/TemplateViews/WXCrazyClick/WXCrazyClick.ts",ce["default"]),e("View/TipsView/TipsView.ts",he["default"]),e("ShareAd/View/LoopAdBox.ts",pe["default"]),e("ShareAd/View/HorizontalLoopAdView.ts",ue["default"]),e("ShareAd/View/BannerAdView.ts",de["default"]),e("View/Common/UniversalBottomZone.ts",_e["default"])},e.width=750,e.height=1334,e.scaleMode="fixedwidth",e.screenMode="vertical",e.alignV="middle",e.alignH="center",e.startScene="GameMain.scene",e.sceneRoot="",e.debug=!1,e.stat=!1,e.physicsDebug=!1,e.exportSceneToJson=!0,e}();n["default"]=fe,fe.init()},{"./Game/GameUI/GameContinue":20,"./Game/GameUI/GameHistory":21,"./Game/GameUI/GameOver":22,"./Game/GameUI/GameSkin":23,"./Game/GameUI/GameView":24,"./Game/GameUI/TrialSkin":25,"./Game/GameUI/UIStart":26,"./KRQ/Com/KRQ_Banner":47,"./KRQ/Com/KRQ_GamingBanner":49,"./KRQ/Com/KRQ_History/KRQ_History":50,"./KRQ/Com/KRQ_History/KRQ_HistoryBox":51,"./KRQ/Com/KRQ_LoopAd/KRQ_HLoopAd":52,"./KRQ/Com/KRQ_LoopAd/KRQ_LoopAdBox":53,"./KRQ/Com/KRQ_LoopAd/KRQ_VLoopAd":54,"./KRQ/Com/KRQ_RockSingleAd":55,"./KRQ/Com/KRQ_RollSingleAd":56,"./KRQ/Com/KRQ_SingleAd":57,"./KRQ/ViewCom/KRQ_Export":58,"./KRQ/ViewCom/KRQ_Floating":59,"./KRQ/ViewCom/KRQ_GameOver":60,"./KRQ/ViewCom/KRQ_Main":61,"./KRQ/ViewCom/KRQ_SidePull":62,"./Mgr/GameMgr":66,"./ShareAd/View/BannerAdView":80,"./ShareAd/View/HorizontalLoopAdView":81,"./ShareAd/View/LoopAdBox":82,"./View/ButtonAnim":87,"./View/ClickGetPrize/ClickGetPrize":88,"./View/Common/UniversalBottomZone":89,"./View/Common/ViewAutoScaleByW":90,"./View/Game/TestGame":91,"./View/LoadingView/LoadingView":93,"./View/QQTemplate/GameFail/QQGameFailViewTemplate":94,"./View/QQTemplate/GameWin/QQGameWinViewTemplate":95,"./View/QQTemplate/InGame/QQInGameViewTemplate":96,"./View/QQTemplate/Main/QQMainViewTemplate":97,"./View/QQTemplate/QQCrazyClick/QQCrazyClick":98,"./View/QQTemplate/QQCrazyClick/QQCrazyClick2":99,"./View/TTTemplate/GameFail/TTGameFailViewTemplate":101,"./View/TTTemplate/GameWin/TTGameWinViewTemplate":102,"./View/TTTemplate/Main/TTMainViewTemplate":103,"./View/TTTemplate/MoreReward/TTMoreReward":104,"./View/TTTemplate/Resurrection/TTResurrection":105,"./View/TTTemplate/Reward/RewardBox":106,"./View/TTTemplate/Reward/TTReward":107,"./View/TTTemplate/SignIn/TTSignIn":108,"./View/TTTemplate/SkinTips/TTSkinTips":109,"./View/TTTemplate/Store/PageList":110,"./View/TTTemplate/Store/StoreBox":111,"./View/TTTemplate/Store/TTStore":112,"./View/TTTemplate/TTCrazyClick/TTCrazyClick":113,"./View/TemplateViews/Export/ExportViewTemplate":117,"./View/TemplateViews/Export2/Exprot2ViewTemplate":115,"./View/TemplateViews/Export3/Exprot3ViewTemplate":116,"./View/TemplateViews/GameFail/GameFailViewTemplate":118,"./View/TemplateViews/GameWin/GameWinViewTemplate":119,"./View/TemplateViews/InGame/InGameViewTemplate":120,"./View/TemplateViews/Main/MainViewTemplate":121,"./View/TemplateViews/MiniGame/MiniGameViewTemplate":122,"./View/TemplateViews/OPPONativeAd/OPPONativeAdViewTemplate":123,"./View/TemplateViews/Reward/RewardViewTemplate":124,"./View/TemplateViews/WXCrazyClick/WXCrazyClick":126,"./View/TipsView/TipsView":127,"./View/TwinkleSprite":128,"./View/VVTemplate/NativeAd/VVNativeAd1View":129,"./View/VVTemplate/NativeAd/VVNativeAd2View":130}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../StateMachine/FSMStateMachine"),a=e("../Game"),o=(Laya.Handler.create,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.followSpeed=10,t.offsetPosition=new Laya.Vector3,t.animator=null,t.stateMachine=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"transform",{get:function(){return this.owner.transform},enumerable:!0,configurable:!0}),t.prototype.onAwake=function(){this.camera=this.owner.getChildByName("Main Camera"),this.animator=this.camera.getComponent(Laya.Animator),this.animator.play("Default"),this.stateMachine=new i["default"],this.stateMachine.AddAction("Default",this,this.OnDefaultEnter),this.stateMachine.AddAction("Driving",this,this.OnDrivingEnter),this.stateMachine.AddAction("Win",this,this.OnWinEnter),this.stateMachine.AddAction("Cave",this,this.OnCaveEnter,this.OnCaveExit),this.stateMachine.Switch("Default")},t.prototype.Switch=function(e){this.stateMachine.Switch(e)},t.prototype.TweenOffset=function(e,t,n,i){Laya.Tween.clearTween(this.offsetPosition),Laya.Tween.to(this.offsetPosition,{x:e,y:t,z:n},1e3*i)},t.prototype.OnDefaultEnter=function(){this.animator.play("Default")},t.prototype.OnDrivingEnter=function(){var e=this,t=this.animator.getCurrentAnimatorPlayState(0);t._finish?this.animator.crossFade("Driving",.1):Laya.timer.once(1e3*t._lastElapsedTime,this,function(){e.animator.crossFade("Driving",1)})},t.prototype.OnWinEnter=function(){Laya.timer.clearAll(this),this.animator.crossFade("Win",.2)},t.prototype.OnCaveEnter=function(){this.animator.play("EnterCave")},t.prototype.OnCaveExit=function(){this.animator.play("ExitCave")},t.prototype.SetTarget=function(e){if(null!=e){var t=e.transform.position;e.transform.position.cloneTo(t),this.transform.position=t,this.target=e}},t.prototype.onLateUpdate=function(){if(null!=this.target&&a["default"].Control.InGameing){var e=(Laya.timer.delta/1e3,this.target.transform.position.clone());Laya.Vector3.add(e,this.offsetPosition,e);var t=this.transform.position.clone();Laya.Vector3.lerp(t,e,1,e),this.transform.position=e}},t.prototype.OnTransformUpdate=function(e){},t}(Laya.Script3D));n["default"]=o},{"../Game":17,"../StateMachine/FSMStateMachine":44}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){this._name=e,this.duration=t}return e.prototype.Start=function(e){this._startTime=Laya.timer.currTimer,this.OnEnable(e)},e.prototype.TryUpdateBuffer=function(e){return this.OnUpdate(e),Laya.timer.currTimer-this._startTime<=this.duration},e.prototype.Stop=function(e){this.OnDisable(e)},e}();n["default"]=i},{}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./BaseBuffer"),a=function(e){function t(t){return e.call(this,"SpeedUp",t)||this}return __extends(t,e),t.prototype.OnUpdate=function(e){if(e.m_groundForward.IsOr)if("SpeedUp"==e.carMachine.curState.key){var t=new Laya.Vector3;Laya.Vector3.scale(e.m_forward,2e3,t);new Laya.Vector3;e.rigidbody.applyForce(t),e.SetSpeedUpEffect(!0)}else e.SetSpeedUpEffect(!1)},t.prototype.OnEnable=function(e){},t.prototype.OnDisable=function(e){e.SetSpeedUpEffect(!1)},t}(i["default"]);n["default"]=a},{"./BaseBuffer":11}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Game"),a=e("./HillCar"),o=e("../../Utilit"),r=function(){function e(){this.carPrefabs={},this.carTrialPrefabs=[],this.currentCar=null}return Object.defineProperty(e,"Instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!0,configurable:!0}),e.prototype.Init=function(){for(var e=i["default"].Prefabs.Cars,t=e,n=0;n<t._children.length;n++){var a=t._children[n];this.carPrefabs[a.name]=a}e=i["default"].Prefabs.Prefab;for(var o=e.getChildByName("Trails"),n=0;n<o._children.length;n++){var a=o._children[n];this.carTrialPrefabs.push(a)}},e.prototype.CreateCar=function(e,t){var n=this.carPrefabs[e];if(null!=n){var o=Laya.Sprite3D.instantiate(n,i["default"].Scene,!1,t);o.transform.localRotationEulerY=0,this.currentCar=o.addComponent(a["default"])}},e.prototype.CreateShowCar=function(e,t,n,i){var a=this.carPrefabs[e];if(null!=a){var r=new Laya.Quaternion;o["default"].QuaternionEuler(i.x,i.x,i.x,r);var s=Laya.Sprite3D.instantiate(a,t);s.transform.localPosition=n,s.transform.localRotationEuler=i,s.getComponent(Laya.Rigidbody3D).isKinematic=!0}},e.prototype.CreateTrail=function(e,t){t=o["default"].Clamp(t,0,this.carTrialPrefabs.length);var n=Laya.TrailSprite3D.instantiate(this.carTrialPrefabs[t]);n.active=!0,n.trailFilter.time=2,n.trailFilter.alignment=Laya.TrailFilter.ALIGNMENT_TRANSFORM_Z,e.addChild(n),n.transform.localPosition=new Laya.Vector3},e.prototype.Clear=function(){this.currentCar.owner.removeSelf(),this.currentCar.owner.destroy(),this.currentCar=null},e}();n["default"]=r},{"../../Utilit":85,"../Game":17,"./HillCar":15}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Game"),a=e("../../Utilit"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.layerMask=5,t.axleInfos=[],t.rigidbody=null,t.SuspensionForce=2e3,t.SuspensionLength=1,t.Damper=0,t.AntiRollForce=2e3,t}return __extends(t,e),Object.defineProperty(t.prototype,"transform",{get:function(){return this.owner.transform},enumerable:!0,configurable:!0}),t.prototype.onAwake=function(){this.rigidbody=this.owner.getComponent(Laya.Rigidbody3D),this.rigidbody.collisionGroup=-2&this.layerMask,this.rigidbody.mass=70,this.rigidbody.linearDamping=.9,this.rigidbody.angularDamping=.999,this.rigidbody.overrideGravity=!0,this.rigidbody.gravity=new Laya.Vector3(0,-30,0)},t.prototype.AddFrontWheel=function(e,t){var n=new l;n.IsFront=!0,n.LeftWheel=e,n.RightWheel=t,this.axleInfos.push(n)},t.prototype.AddBackWheel=function(e,t){var n=new l;n.IsBack=!0,n.LeftWheel=e,n.RightWheel=t,this.axleInfos.push(n)},t.prototype.onUpdate=function(){this.rigidbody.wakeUp();for(var e=0;e<this.axleInfos.length;e++){var t=this.axleInfos[e];t.LastLeftWheelResult=this.HandleWheel(t.LeftWheel),t.LastRightWheelResult=this.HandleWheel(t.RightWheel)}for(var e=0;e<this.axleInfos.length;e++)this.HandleBalance(this.axleInfos[e]);this.OnCarTransform()},t.prototype.OnCarTransform=function(){},t.prototype.GetGroundBasedForward=function(){for(var e=Laya.Vector3._ZERO.clone(),t=Laya.Vector3._ZERO.clone(),n=0;n<this.axleInfos.length;n++){var i=this.axleInfos[n];if(null!=i.LastLeftWheelResult&&null!=i.LastRightWheelResult){var a=new Laya.Vector3;Laya.Vector3.add(i.LastLeftWheelResult.ImpactPoint,i.LastRightWheelResult.ImpactPoint,a),Laya.Vector3.scale(a,.5,a),i.IsFront&&(e=a),i.IsBack&&(t=a)}}var o=new r;return o.Front=e,o.Back=t,o},t.prototype.HandleWheel=function(e){var t=this.GetTransformUp(e),n=e.transform.position.clone(),o=new Laya.Vector3;Laya.Vector3.scale(t,-1,o);var r=new Laya.Ray(n,o),l=new Laya.HitResult;if(!i["default"].Scene.physicsSimulation.rayCast(r,l,this.SuspensionLength,1,1))return null;var c=Laya.Vector3.distance(r.origin,l.point),h=this.Round(1-c/this.SuspensionLength,2),p=new s;p.Hit=l,p.CompressionRatioPre=p.CompressionRatio,p.CompressionRatio=h,
p.ImpactPoint=l.point.clone();var u=new Laya.Vector3,d=new Laya.Vector3;Laya.Vector3.scale(t,this.SuspensionForce*h,d);var _=new Laya.Vector3;Laya.Vector3.scale(t,(p.CompressionRatio-p.CompressionRatioPre)*(Laya.timer.delta/1e3)*this.Damper,_),Laya.Vector3.add(d,_,u);var f=e.transform.localPosition.clone();Laya.Vector3.subtract(f,new Laya.Vector3(0,5,0),f),a["default"].TransformPoint(e.transform,f,f);var g=f;return Laya.Vector3.subtract(g,this.transform.position,g),this.rigidbody.applyForce(d,g),p},t.prototype.HandleBalance=function(e){var t=1,n=1,i=e.LastLeftWheelResult;i&&(t=i.CompressionRatio);var a=e.LastLeftWheelResult;a&&(n=i.CompressionRatio);var o=(t-n)*this.AntiRollForce;if(i){var r=new Laya.Vector3;Laya.Vector3.scale(this.GetTransformUp(e.LeftWheel),-o,r);var s=e.LeftWheel.transform.position.clone();Laya.Vector3.subtract(s,this.transform.position,s),this.rigidbody.applyForce(r,s)}if(a){var r=new Laya.Vector3;Laya.Vector3.scale(this.GetTransformUp(e.RightWheel),o,r);var s=e.RightWheel.transform.position.clone();Laya.Vector3.subtract(s,this.transform.position,s),this.rigidbody.applyForce(r,s)}},t.prototype.GetTransformUp=function(e){var t=new Laya.Vector3;return e.transform.getUp(t),t},t.prototype.Round=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},t}(Laya.Script3D);n["default"]=o;var r=function(){function e(){}return Object.defineProperty(e.prototype,"Heading",{get:function(){var e=new Laya.Vector3;return Laya.Vector3.subtract(this.Front,this.Back,e),Laya.Vector3.normalize(e,e),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsSet",{get:function(){var e=Laya.Vector3.equals(this.Front,Laya.Vector3._ZERO),t=Laya.Vector3.equals(this.Back,Laya.Vector3._ZERO);return!e&&!t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsOr",{get:function(){var e=Laya.Vector3.equals(this.Front,Laya.Vector3._ZERO),t=Laya.Vector3.equals(this.Back,Laya.Vector3._ZERO);return!e||!t},enumerable:!0,configurable:!0}),e}();n.FrontBackVectorPair=r;var s=function(){function e(){}return e}();n.WheelRaycastResult=s;var l=function(){function e(){}return e}();n.AxleInfo=l},{"../../Utilit":85,"../Game":17}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Carframe"),a=e("../StateMachine/FSMStateMachine"),o=e("../../Utilit"),r=e("../../Event/EventMgr"),s=e("../../Event/EventDef"),l=e("../Tools/PhysicTrigger3d"),c=e("./CarMgr"),h=e("../Game"),p=e("../../Mgr/SoundMgr"),u=e("../../Mgr/VibrateMgr"),d=(Laya.Handler.create,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.radius=.5,t.TurnStrength=5e3,t.ForwardAcceleration=5e3,t.ForwardDeceleration=2500,t.loadedCargos=[],t.carMachine=null,t.m_forward=new Laya.Vector3,t.m_groundForward=null,t.defRotateSpeed=50,t.rotateSpeed=t.defRotateSpeed,t.head=null,t.buffers={},t.frontWheels=[],t.backWheels=[],t.backTrails=[],t.speedUpdaPosition=null,t.danqiEffect=null,t.targetPosition=new Laya.Vector3,t.cargoTrigger=null,t.findTargetComplete=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.SuspensionLength=1,this.SuspensionForce=2e3,this.AntiRollForce=1e3,this.CargoTransferPoints=this.owner.getChildByName("CargoPosition"),this.frontWheels[0]=o["default"].FindChild(this.owner,"Wheels/FL"),this.frontWheels[1]=o["default"].FindChild(this.owner,"Wheels/FR"),this.backWheels[0]=o["default"].FindChild(this.owner,"Wheels/BL"),this.backWheels[1]=o["default"].FindChild(this.owner,"Wheels/BR"),this.backTrails[0]=this.backWheels[0].getChildByName("Trail"),this.backTrails[1]=this.backWheels[1].getChildByName("Trail"),this.head=this.owner.getChildByName("Head").transform;var t=this.owner.getChildByName("Raycasts");this.SuspensionLength=t.transform.localPositionY+this.radius;var n=t.getChildByName("FL"),i=t.getChildByName("FR"),r=t.getChildByName("BL"),s=t.getChildByName("BR");this.AddFrontWheel(n,i),this.AddBackWheel(r,s),this.speedUpdaPosition=this.owner.getChildByName("SpeedUpPosition"),this.danqiEffect=this.owner.getChildByName("Fx_danqi"),this.cargoTrigger=this.owner.getChildByName("CargoTrigger");var c=l["default"].GetTrigger(this.cargoTrigger);c.OnTriggerEnter(this,this.OnCargoTriggerEnter),c.OnTriggerExit(this,this.OnCargoTriggerExit),this.carMachine=new a["default"],this.carMachine.AddAction("Stand",this,null,null,this.OnStandUpdate),this.carMachine.AddAction("SpeedUp",this,null,this.OnSpeedUpExit,this.OnSpeedUpUpdate),this.carMachine.AddAction("SpeedDown",this,this.OnSpeedDownEnter,this.OnSpeedDownExit,this.OnSpeedDownUpdate),this.carMachine.AddAction("ShutDown",this,this.OnShutDownEnter,this.OnShutDownExit,this.OnShutDownUpdate),this.carMachine.AddAction("FindTarget",this,this.OnFindTargetEnter,this.OnFindTargetExit,this.OnFindTargetUpdate),this.carMachine.AddAction("Death",this,this.OnDeathEnter)},t.prototype.SetTarget=function(e){e.cloneTo(this.targetPosition)},t.prototype.SetShutDown=function(){this.carMachine.Switch("ShutDown")},t.prototype.SetSpeedUp=function(){this.carMachine.Switch("SpeedUp")},t.prototype.SetSpeedUpOver=function(){this.carMachine.Switch("SpeedDown")},t.prototype.SetUnload=function(e,t){this.carMachine.Switch("FindTarget",[e,t])},t.prototype.OnShutDownEnter=function(){this.rigidbody.linearFactor=new Laya.Vector3(0,1,0)},t.prototype.OnShutDownExit=function(){this.rigidbody.linearFactor=new Laya.Vector3(1,1,1)},t.prototype.OnShutDownUpdate=function(){var e=this.rigidbody.linearVelocity;e.setValue(0,e.y,0),this.rigidbody.linearVelocity=e},t.prototype.OnStandUpdate=function(){},t.prototype.OnSpeedUpUpdate=function(){if(this.m_groundForward.IsOr){var e=new Laya.Vector3;Laya.Vector3.scale(this.m_forward,this.ForwardAcceleration,e);var t=new Laya.Vector3;Laya.Vector3.subtract(this.speedUpdaPosition.transform.position,this.transform.position,t),this.rigidbody.applyForce(e,t)}},t.prototype.OnSpeedUpExit=function(){},t.prototype.OnSpeedDownEnter=function(){this.rotateSpeed=0;for(var e=0;e<this.backWheels.length;e++)this.backWheels[e].transform.localRotationEulerX=0},t.prototype.OnSpeedDownUpdate=function(){var e=(this.axleInfos[1],new Laya.Vector3);Laya.Vector3.normalize(this.m_forward,e);var t=new Laya.Vector3;Laya.Vector3.normalize(this.rigidbody.linearVelocity,t);var n=Laya.Vector3.scalarLength(this.rigidbody.linearVelocity),i=Laya.Vector3.dot(t,e);.2>i||4>i*n?this.carMachine.Switch("Stand"):(null==this.axleInfos[1].LastLeftWheelResult?this.ClearTrail(0):this.CreateTrail(0),null==this.axleInfos[1].LastRightWheelResult?this.ClearTrail(1):this.CreateTrail(1))},t.prototype.OnSpeedDownExit=function(){this.rotateSpeed=this.defRotateSpeed,this.ClearTrail(0),this.ClearTrail(1)},t.prototype.OnFindTargetEnter=function(e,t){e.cloneTo(this.targetPosition),this.findTargetComplete=t,this.rigidbody.linearVelocity=new Laya.Vector3},t.prototype.OnFindTargetExit=function(){this.rigidbody.linearVelocity=new Laya.Vector3},t.prototype.OnFindTargetUpdate=function(){var e=new Laya.Vector3;Laya.Vector3.subtract(this.targetPosition,this.transform.position,e),Laya.Vector3.normalize(e,e),Laya.Vector3.scale(e,7,e),this.rigidbody.linearVelocity=e;var t=Laya.Vector3.distanceSquared(this.transform.position,this.targetPosition);.1>=t&&(null!=this.findTargetComplete&&this.findTargetComplete.run(),this.SetShutDown())},t.prototype.OnDeathEnter=function(){u["default"].vibrate_ppxhc_Long(),p["default"].instance_.play_ppxhc_Sound("death"),r["default"].instance.dispatch_(s.Event_ppxhc_Def.Car_Death)},t.prototype.OnCargoTriggerEnter=function(e,t){var n=t.owner;if(!(n.name.search("Cargoe")<0)){var i=this.loadedCargos.indexOf(n);-1==i&&this.loadedCargos.push(n)}},t.prototype.OnCargoTriggerExit=function(e,t){var n=t.owner;if(!(n.name.search("Cargoe")<0)){var i=this.loadedCargos.indexOf(n);-1!=i&&this.loadedCargos.splice(i,1)}},t.prototype.OnCarTransform=function(){r["default"].instance.dispatch_(s.Event_ppxhc_Def.Car_Moving,[this,this.head.position]),this.UpdateBuffers(),this.UpdateCurrentGroundForward(),this.carMachine.Update(),this.OrientationTarget(this.targetPosition),this.CheckCarState(),this.CorrectionWheelRotation(this.frontWheels,!0),this.CorrectionWheelRotation(this.backWheels,!1),this.CorrectionWheelPosition(this.frontWheels,this.axleInfos[0]),this.CorrectionWheelPosition(this.backWheels,this.axleInfos[1])},t.prototype.UpdateCurrentGroundForward=function(){var e=this.GetGroundBasedForward();if(e.IsSet)e.Heading.cloneTo(this.m_forward);else{var t=new Laya.Vector3;this.transform.getForward(t),Laya.Vector3.normalize(t,t),Laya.Vector3.scale(t,-1,t),t.cloneTo(this.m_forward)}this.m_groundForward=e},t.prototype.AddTurnForce=function(e){var t=new Laya.Vector3;Laya.Vector3.subtract(this.head.position,this.transform.position,t),this.rigidbody.applyForce(e,t)},t.prototype.OrientationTarget=function(e,t){void 0===t&&(t=1);var n=new Laya.Vector3;Laya.Vector3.normalize(this.m_forward,n);var i=new Laya.Vector3;Laya.Vector3.normalize(this.rigidbody.linearVelocity,i);var a=Laya.Vector3.scalarLength(this.rigidbody.linearVelocity),r=Laya.Vector3.dot(i,n);if(a>2&&r>.1){var s=new Laya.Vector3;o["default"].InverseTransformPoint(this.transform,new Laya.Vector3(e.x,this.transform.position.y,e.z),s),s.y=0;var l=s.x/Laya.Vector3.scalarLength(s),c=new Laya.Vector3(1,0,0);o["default"].QuaternionVector3(this.transform.rotation,c,c),Laya.Vector3.scale(c,l*this.TurnStrength*t,c),this.AddTurnForce(c)}if(this.m_groundForward.IsSet&&r>.1){var h=new Laya.Quaternion;o["default"].FromToRotation(i,n,h),o["default"].QuaternionVector3(h,i,i),Laya.Vector3.scale(i,a,i),this.rigidbody.linearVelocity=i}},t.prototype.CorrectionWheelPosition=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=null,r=new Laya.Vector3;0==n&&(a=t.LastLeftWheelResult),1==n&&(a=t.LastRightWheelResult),null!=a?(a.ImpactPoint.cloneTo(r),o["default"].InverseTransformPoint(i.transform._parent,r,r),Laya.Vector3.add(r,new Laya.Vector3(0,this.radius,0),r)):i.transform.localPosition.cloneTo(r);var s=i.transform.localPosition;Laya.Vector3.lerp(s,r,.5,s),i.transform.localPosition=s}},t.prototype.CorrectionWheelRotation=function(e,t){var n=new Laya.Vector3,i=Laya.Vector3.scalarLength(this.rigidbody.linearVelocity);if(0!=i){Laya.Vector3.scale(this.rigidbody.linearVelocity,1/i,n);for(var a=Laya.Vector3.dot(n,this.m_forward),r=i*a,s=r*(Laya.timer.delta/1e3)*this.rotateSpeed,l=0;l<e.length;l++)e[l].transform.localRotationEulerX+=s;if(t){var c=45,h=new Laya.Vector3;o["default"].InverseTransformPoint(this.transform,new Laya.Vector3(this.targetPosition.x,this.transform.position.y,this.targetPosition.z),h),h.y=0,Laya.Vector3.normalize(h,h);var p=o["default"].Vector3Angle(new Laya.Vector3(0,0,1),h,1);p=Math.max(-c,Math.min(c,p));var u=e[0].transform.localRotationEulerY;u=o["default"].LerpNumber(u,p,.2);for(var l=0;l<e.length;l++)e[l].transform.localRotationEulerY=u}}},t.prototype.CheckCarState=function(){for(var e=0;e<this.axleInfos.length;e++){var t=this.axleInfos[e];(null!=t.LastLeftWheelResult&&"Plane"==t.LastLeftWheelResult.Hit.collider.owner.name||null!=t.LastRightWheelResult&&"Plane"==t.LastRightWheelResult.Hit.collider.owner.name)&&this.carMachine.Switch("Death")}},t.prototype.UpdateBuffers=function(){for(var e in this.buffers){var t=this.buffers[e];t.TryUpdateBuffer(this)||(this.buffers[e].Stop(this),delete this.buffers[e])}},t.prototype.onCollisionEnter=function(e){var t=e.other.owner.name.toLocaleLowerCase();if("plane"==t)this.carMachine.Switch("Death");else if(t.search("cargoe")>=0){var n=e.other.owner.getComponent(Laya.Rigidbody3D),i=new Laya.Vector3;Laya.Vector3.subtract(this.rigidbody.linearVelocity,n.linearVelocity,i);var a=Laya.Vector3.scalarLength(i);a>4&&u["default"].vibrate_ppxhc_Short()}},t.prototype.AddBuffer=function(e,t){(null==this.buffers[e._name]||t)&&(this.buffers[e._name]=e,e.Start(this))},t.prototype.SetSpeedUpEffect=function(e){var t=this.danqiEffect.active;t!=e&&(this.danqiEffect.active=e,e?(h["default"].CameraFollow.TweenOffset(0,0,-3,1),p["default"].instance_.play_ppxhc_Sound("speedUp")):(h["default"].CameraFollow.TweenOffset(0,0,0,2),p["default"].instance_.play_ppxhc_Sound("speedUpOver")))},t.prototype.CreateTrail=function(e){0==this.backTrails[e]._children.length&&c["default"].Instance.CreateTrail(this.backTrails[e],0)},t.prototype.ClearTrail=function(e){for(var t=function(t){var i=n.backTrails[e]._children[t];i.removeSelf(),h["default"].Scene.addChild(i),Laya.timer.once(2e3,n,function(){i.removeSelf(),i.destroy(!0)})},n=this,i=0;this.backTrails[e]._children.length;i++)t(i)},t}(i["default"]));n["default"]=d;var _=function(){function e(){this.wheels=[],this.wheelMesh=[]}return e}();n.WheelAxis=_},{"../../Event/EventDef":7,"../../Event/EventMgr":8,"../../Mgr/SoundMgr":67,"../../Mgr/VibrateMgr":68,"../../Utilit":85,"../Game":17,"../StateMachine/FSMStateMachine":44,"../Tools/PhysicTrigger3d":46,"./CarMgr":13,"./Carframe":14}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Game"),a=e("../../Event/EventMgr"),o=e("../../Event/EventDef"),r=e("../../Mgr/VibrateMgr"),s=e("../../Utilit"),l=e("../../Mgr/SoundMgr"),c=function(){function e(){this.cargoPrefabs={},this.loadedCargos=[],this.totalLoadCargos=0}return Object.defineProperty(e,"Instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!0,configurable:!0}),e.prototype.Init=function(){for(var e=i["default"].Prefabs.Prefab,t=e.getChildByName("Cargoes"),n=0;n<t._children.length;n++){var a=t._children[n];this.cargoPrefabs[a.name]=a}},e.prototype.TransferCargoes=function(e,t,n,i){void 0===i&&(i=null);for(var a="Cargoe"+s["default"].Clamp(t,1,5),o=0,r=e.CargoTransferPoints,l=0;l<r._children.length;l++){var c=r._children[l],h=c.transform.position.clone();h.y=e.transform.position.y+5,o+=.2,Laya.timer.once(1e3*o,this,this.CreateCargo,[a,h],!1)}0==n&&(this.totalLoadCargos=r._children.length),o+=.7,Laya.timer.once(1e3*o,this,function(){null!=i&&i.run()})},e.prototype.UnloadCargoes=function(e,t,n){var i=this;void 0===n&&(n=null);for(var l=this.totalLoadCargos,c=e.loadedCargos.length,h=Math.round(l/3),p=0,u=0,d=function(){u++;var n=e.loadedCargos.pop();p+=.2,Laya.timer.once(1e3*p,_,function(e,s){r["default"].vibrate_ppxhc_Short(),i.RetrieveCargo(n,t),a["default"].instance.dispatch_(o.Event_ppxhc_Def.Car_Unload,[e,s])},[u/c,s["default"].Clamp(Math.round(u/h),1,3)])},_=this;0!=e.loadedCargos.length;)d();p+=.5,Laya.timer.once(1e3*p,this,function(){null!=n&&n.run()})},e.prototype.CreateCargo=function(e,t){var n=this.cargoPrefabs[e];if(null!=n){var r=Laya.Sprite3D.instantiate(n,i["default"].Scene,!1,t);r.active=!0;var s=r.getComponent(Laya.Rigidbody3D);s.linearDamping=.1,s.friction=3,s.overrideGravity=!0,s.gravity=new Laya.Vector3(0,-15,0),s.linearVelocity=new Laya.Vector3,s.applyImpulse(new Laya.Vector3(0,-5,0)),this.loadedCargos.push(r),a["default"].instance.dispatch_(o.Event_ppxhc_Def.Car_LoadUp),l["default"].instance_.play_ppxhc_Sound("fallingobject")}},e.prototype.RetrieveCargo=function(e,t){var n=this,i=e.transform,a=e.getComponent(Laya.Rigidbody3D);a.isKinematic=!0;for(var o=0,r=function(e){var a=t[e];Laya.timer.once(1e3*o,s,function(){Laya.Tween.to(i,{localPositionX:a.x,localPositionY:a.y,localPositionZ:a.z},500,null,Laya.Handler.create(n,function(){l["default"].instance_.play_ppxhc_Sound("suction")}))}),o+=.1},s=this,c=0;c<t.length;c++)r(c)},e.prototype.Clear=function(){for(;0!=this.loadedCargos.length;){var e=this.loadedCargos.pop();e.active=!1,e.removeSelf(),e.destroy(!0)}},e._instance=null,e}();n["default"]=c},{"../../Event/EventDef":7,"../../Event/EventMgr":8,"../../Mgr/SoundMgr":67,"../../Mgr/VibrateMgr":68,"../../Utilit":85,"../Game":17}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Road/RoadMgr"),a=e("./Car/CarMgr"),o=e("../Utilit"),r=e("./Tools/CameraMoveScript"),s=e("./GameControl"),l=e("./Camera/CameraFollow"),c=e("./Cargoes/CargoMgr"),h=e("../User/User"),p=e("../Event/EventMgr"),u=e("../Event/EventDef"),d=e("../Mgr/SoundMgr"),_=e("../Mgr/GameMgr"),f=function(){function e(){}return e.LoadGame=function(e,t){var n=this,i=this.basePath+"Game.ls";Laya.Scene3D.load(i,Laya.Handler.create(this,function(e){n.Scene=e,n.Camera=o["default"].FindChild(e,"Camera/Main Camera"),Laya.stage.addChild(e),Laya.stage.setChildIndex(e,0)}));var a=["subRes/Game/LayaScene_Game/Conventional/Prefab.lh","subRes2/Game/LayaScene_Game/Conventional/Cars.lh"];this.LoadGamePrefab(a,this,function(){n.InitTools(),n.InitManager(),n.LoadGameScene(e,t)})},e.LoadGamePrefab=function(e,t,n){function i(){o++,e.length==o&&n.call(t)}for(var a=this,o=0,r=function(t){var n=e[t];Laya.Sprite3D.load(n,Laya.Handler.create(s,function(e){var t=Laya.URL.getFileName(n);a.Prefabs[t.split(".")[0]]=e,i()}))},s=this,l=0;l<e.length;l++)r(l)},e.InitTools=function(){this.Camera.addComponent(r["default"]),Laya.timer.frameLoop(1,this,this.OnUpdate)},e.InitManager=function(){Laya.Physics3DUtils.gravity=new Laya.Vector3(0,-15,0),a["default"].Instance.Init(),i["default"].Instance.Init(),c["default"].Instance.Init(),this.Control=this.Scene.addComponent(s["default"]),this.CameraFollow=this.Scene.getChildByName("Camera").addComponent(l["default"]),p["default"].instance.regEvemt_(u.Event_ppxhc_Def.Car_Dead,this,this.ResetGame),p["default"].instance.regEvemt_(u.Event_ppxhc_Def.Car_LevelUp,this,this.PlayNextGame),d["default"].instance_.play_ppxhc_BGM("background")},e.LoadGameScene=function(e,t){var n=this;void 0===e&&(e=null),void 0===t&&(t=null);var a=this,o=function(){a.Control.GameReady(),_["default"].getInstance().save_ppxhc_GameData()};i["default"].Instance.LoadRoadLh(this.Control.GetNextRoundName(h["default"].get_ppxhc_LeveNum()),this,function(){o.call(n),p["default"].instance.dispatch_(u.Event_ppxhc_Def.Game_OnLevelStart,h["default"].get_ppxhc_LeveNum()),null!=t&&t.call(e)}),Laya.Sprite3D.load(this.Control.GetNextRoundName(h["default"].get_ppxhc_LeveNum()+1),null)},e.PlayGame=function(){this.Control.GameStart()},e.ClearGame=function(){this.Control.GameClear(),a["default"].Instance.Clear(),i["default"].Instance.Clear(),c["default"].Instance.Clear(),Laya.timer.once(400,this,function(){Laya.Resource.destroyUnusedResources()})},e.ResetGame=function(){this.ClearGame(),this.LoadGameScene()},e.PlayNextGame=function(){this.ClearGame(),this.LoadGameScene()},e.OnUpdate=function(){},e.basePath="subRes/Game/LayaScene_Game/Conventional/",e.Scene=null,e.Camera=null,e.Prefabs={},e.Control=null,e.CameraFollow=null,e}();n["default"]=f},{"../Event/EventDef":7,"../Event/EventMgr":8,"../Mgr/GameMgr":66,"../Mgr/SoundMgr":67,"../User/User":84,"../Utilit":85,"./Camera/CameraFollow":10,"./Car/CarMgr":13,"./Cargoes/CargoMgr":16,"./GameControl":19,"./Road/RoadMgr":36,"./Tools/CameraMoveScript":45}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.AwardRound=4,e.ChangeCarRound=2,e.Skins=[0,1,2,3,4,5],e}();n["default"]=i},{}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Road/RoadMgr"),a=e("./Game"),o=e("./StateMachine/FSMStateMachine"),r=e("./Car/CarMgr"),s=e("./Cargoes/CargoMgr"),l=e("../Event/EventMgr"),c=e("../Event/EventDef"),h=e("../Mgr/ViewMgr"),p=e("../User/User"),u=e("../Mgr/SoundMgr"),d=e("../Utilit"),_=e("./GameConst"),f=e("../Mgr/GameMgr"),g=(Laya.Handler.create,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentCar=null,t.InGameing=!1,t.autoPlay=!1,t.currentAwardRound=0,t.currentChangeCarRound=0,t.CurrentChangeCarIndex=0,t._frameRate=60,t._frameLength=0,t._fAccumilatedTime=0,t._physicsNextFrame=0,t.stateMachine=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"frameRate",{set:function(e){this._frameRate=e,this._frameLength=1e3/e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsAwardRound",{get:function(){return this.currentAwardRound*_["default"].AwardRound<p["default"].get_ppxhc_LeveNum()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsChangeCarRound",{get:function(){return this.currentChangeCarRound*_["default"].ChangeCarRound<p["default"].get_ppxhc_LeveNum()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsReadyCompleted",{get:function(){return"CanPlay"==this.stateMachine.curState.key},enumerable:!0,configurable:!0}),t.prototype.onAwake=function(){this.frameRate=60,this._fAccumilatedTime=Laya.timer.currTimer,this._physicsNextFrame=Laya.timer.currTimer+this._frameRate,this.stateMachine=new o["default"],this.stateMachine.AddAction("CanPlay",this,this.OnCanPlayEnter),this.stateMachine.AddAction("Ready",this,this.OnReadyEnter,this.OnReadyExit),this.stateMachine.AddAction("Gaming",this,this.OnGamingEnter,this.OnGamingExit,this.OnGamingUpdate),this.stateMachine.AddAction("Robmoney",this,this.OnRobMoneyEnter,this.OnRobMoneyExit),this.stateMachine.AddAction("ChangeCar",this,this.OnChangeCarEnter,this.OnChangeCarEnd),this.stateMachine.AddAction("GameOver"),this.stateMachine.AddAction("Settle",this,this.OnSettleEnter),this.currentAwardRound=Math.ceil(p["default"].get_ppxhc_LeveNum()/_["default"].AwardRound),this.currentChangeCarRound=Math.ceil(p["default"].get_ppxhc_LeveNum()/_["default"].ChangeCarRound),l["default"].instance.regEvemt_(c.Event_ppxhc_Def.Car_Death,this,this.OnCarDeath),l["default"].instance.regEvemt_(c.Event_ppxhc_Def.Car_Change,this,this.OnCarChange)},t.prototype.GameReady=function(){this.stateMachine.Switch("Ready")},t.prototype.GameStart=function(){"CanPlay"==this.stateMachine.curState.key&&1!=this.InGameing&&(this.InGameing=!0,this.stateMachine.Switch("Gaming"))},t.prototype.GameOver=function(){this.stateMachine.Switch("GameOver")},t.prototype.GameSettle=function(e){this.stateMachine.Switch("Settle",e)},t.prototype.GameClear=function(){this.currentCar=null,this.InGameing=!1},t.prototype.StartRobmoney=function(){this.stateMachine.Switch("Robmoney")},t.prototype.EndRobmoney=function(e){var t=this;return 0==e?void this.stateMachine.Switch("Gaming"):(p["default"].add_ppxhc_Money(100),f["default"].getInstance().save_ppxhc_GameData(),this.currentCar.SetShutDown(),void s["default"].Instance.TransferCargoes(this.currentCar,5,!0,Laya.Handler.create(this,function(){t.stateMachine.Switch("Gaming")})))},t.prototype.StartChangeCar=function(){this.stateMachine.Switch("ChangeCar")},t.prototype.EndChangeCar=function(e){this.currentChangeCarRound++,1==e&&(p["default"].add_ppxhc_Skin(this.CurrentChangeCarIndex),p["default"].SetSelectiveSkin(this.CurrentChangeCarIndex,!1)),this.stateMachine.Switch("Settle",1)},t.prototype.GetNextRoundName=function(e){var t=25;e--,e>=t&&(e%=t),e++;var n="Round"+e,i=a["default"].basePath+n+".lh";return 1==this.IsAwardRound?i=a["default"].basePath+"RoundAward.lh":e>3&&(i="https://oss.renyouwangluo.cn/ppxhc/Conventional/"+n+".lh"),i},t.prototype.TryGenerateNotUnlockCars=function(){var e=d["default"].GetArrDifference(_["default"].Skins,p["default"].GetOwnedSkin());return this.CurrentChangeCarIndex=e[d["default"].getRandomInt(0,e.length-1)],e.length>0},t.prototype.OnReadyEnter=function(){var e=this,t=new Laya.Vector3;i["default"].Instance.GetCarPosition(t),r["default"].Instance.CreateCar("Car"+p["default"].GetSelectiveSkin(),t),a["default"].CameraFollow.SetTarget(r["default"].Instance.currentCar.owner),this.currentCar=r["default"].Instance.currentCar,this.currentCar.SetShutDown(),a["default"].CameraFollow.Switch("Default"),s["default"].Instance.TransferCargoes(this.currentCar,d["default"].getRandomInt(1,5),!1,Laya.Handler.create(this,function(){e.stateMachine.Switch("CanPlay")}))},t.prototype.OnReadyExit=function(){l["default"].instance.dispatch_(c.Event_ppxhc_Def.Game_ReadyCompleted)},t.prototype.OnCanPlayEnter=function(){0!=this.autoPlay&&(this.autoPlay=!1,this.GameStart())},t.prototype.OnGamingEnter=function(){u["default"].instance_.play_ppxhc_Sound("startoff"),l["default"].instance.dispatch_(c.Event_ppxhc_Def.Game_GameStarted),Laya.stage.on(Laya.Event.MOUSE_DOWN,this,this.onGameOperation,[1]),Laya.stage.on(Laya.Event.MOUSE_UP,this,this.onGameOperation,[2]),Laya.stage.on(Laya.Event.MOUSE_OUT,this,this.onGameOperation,[3])},t.prototype.OnGamingExit=function(){Laya.stage.off(Laya.Event.MOUSE_DOWN,this,this.onGameOperation),Laya.stage.off(Laya.Event.MOUSE_UP,this,this.onGameOperation),Laya.stage.off(Laya.Event.MOUSE_OUT,this,this.onGameOperation)},t.prototype.OnGamingUpdate=function(){},t.prototype.OnChangeCarEnter=function(){var e=d["default"].GetArrDifference(_["default"].Skins,p["default"].GetOwnedSkin());a["default"].Control.IsChangeCarRound&&e.length>0&&l["default"].instance.dispatch_(c.Event_ppxhc_Def.Car_ChangeTipStart)},t.prototype.OnChangeCarEnd=function(){l["default"].instance.dispatch_(c.Event_ppxhc_Def.Car_ChangeTipEnd)},t.prototype.OnSettleEnter=function(e){Laya.timer.once(1e3,this,function(){l["default"].instance.dispatch_(c.Event_ppxhc_Def.Game_Settle,e),h["default"].instance.closeView(h.View_ppxhc_Def.GameView),h["default"].instance.openView(h.View_ppxhc_Def.GameOver,{Result:e})}),1==e&&(p["default"].set_ppxhc_LeveNum(p["default"].get_ppxhc_LeveNum()+1),1!=this.IsAwardRound||this.currentAwardRound++)},t.prototype.OnCarDeath=function(){this.GameSettle(2)},t.prototype.onGameOperation=function(e){if(0!=this.InGameing)switch(e){case 1:return void this.MouseDown();case 2:return void this.MouseUp();case 3:return void this.MouseUp()}},t.prototype.OnRobMoneyEnter=function(){this.currentCar.SetSpeedUpOver()},t.prototype.OnRobMoneyExit=function(){l["default"].instance.dispatch_(c.Event_ppxhc_Def.Game_RobmoneyEnd)},t.prototype.OnCarChange=function(){r["default"].Instance.Clear(),s["default"].Instance.Clear(),this.stateMachine.Switch("Ready")},t.prototype.MouseDown=function(){this.currentCar.SetSpeedUp()},t.prototype.MouseUp=function(){this.currentCar.SetSpeedUpOver()},t.prototype.GameLogicLoop=function(){},t.prototype.onUpdate=function(){if(!(0==Laya.timer.delta||Laya.timer.delta>1e3)){for(this._fAccumilatedTime+=Laya.timer.delta;this._fAccumilatedTime>this._physicsNextFrame;)this._physicsNextFrame+=this._frameLength;this.onGameOperation(4),this.stateMachine.Update()}},t}(Laya.Script3D));n["default"]=g},{"../Event/EventDef":7,"../Event/EventMgr":8,"../Mgr/GameMgr":66,"../Mgr/SoundMgr":67,"../Mgr/ViewMgr":69,"../User/User":84,"../Utilit":85,"./Car/CarMgr":13,"./Cargoes/CargoMgr":16,"./Game":17,"./GameConst":18,"./Road/RoadMgr":36,"./StateMachine/FSMStateMachine":44}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../Mgr/ViewMgr"),a=e("../../Event/EventDef"),o=e("../../Event/EventMgr"),r=e("../../View/TemplateViews/Export2/Exprot2ViewTemplate"),s=e("../../Mgr/ViewMgr"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onContinueBtn=function(){var e=this;if(this._isCanClose){var t=this,n=function(){t.closeView(),console.log("-----------------下一关"),o["default"].instance.dispatch_(a.Event_ppxhc_Def.Car_LevelUp),e.closeView(),i["default"].instance.openView(i.View_ppxhc_Def.GameHome,{view:0})};s["default"].instance.tryShowPopAd(function(e){null!=e?e.onCloseEvent=function(){n()}:n()})}},t}(r["default"]);n["default"]=l},{"../../Event/EventDef":7,"../../Event/EventMgr":8,"../../Mgr/ViewMgr":69,"../../View/TemplateViews/Export2/Exprot2ViewTemplate":115}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../View/ViewBase"),a=e("../../Mgr/ViewMgr"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._backBtn=null,t}return __extends(t,e),t.prototype.onAwake=function(){this._backBtn=this.owner.getChildByName("KRQ_History").getChildByName("TopZone").getChildByName("BackBtn"),this._backBtn.on(Laya.Event.CLICK,this,this.onBackBtn)},t.prototype.onBackBtn=function(){a["default"].instance.closeView(a.View_ppxhc_Def.GameHistory)},t}(i["default"]);n["default"]=o},{"../../Mgr/ViewMgr":69,"../../View/ViewBase":132}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../Mgr/ViewMgr"),a=e("../../Event/EventMgr"),o=e("../../Event/EventDef"),r=e("../Game"),s=e("../../View/TemplateViews/GameWin/GameWinViewTemplate"),l=e("../../Config/AppSwitchConfig"),c=e("../../Mgr/WudianMgr"),h=e("../../NativeCallback"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Result=0,t.Tag=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.Tag=this.TopZone.getChildByName("Tag")},t.prototype.onBackBtn=function(){if(this._click_ppxhc_Tag||!c["default"].Wudian_ppxhc_Flag)this.closeView(),r["default"].ResetGame(),i["default"].instance.openView(i.View_ppxhc_Def.GameHome,{view:0});else{if(!this._clickTiming_ppxhc_Tag){this._clickTiming_ppxhc_Tag=!0;var e=l["default"].getInstance().getAppSwitchData().btnMoveTimer,t=l["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*t,this,this.BannerUp),Laya.timer.once(1e3*e,this,this.BtnUp)}}},t.prototype.onEnable=function(){e.prototype.onEnable.call(this),a["default"].instance.regEvemt_(o.Event_ppxhc_Def.InsertVideoEnd,this,this.onInsertVideoEnd)},t.prototype.onInsertVideoEnd=function(){a["default"].instance.dispatch_(o.Event_ppxhc_Def.Car_LevelUp),this.closeView(),i["default"].instance.openView(i.View_ppxhc_Def.GameHome,{view:0})},t.prototype.onNextBtn=function(){if(this._click_ppxhc_Tag||!c["default"].Wudian_ppxhc_Flag){var e=Math.random();console.log("随机数值 ==========="+e),(Laya.Browser.onAndroid||Laya.Browser.onIOS)&&e>.2?(h["default"].CallNativeFunc("showInsertVideo"),h["default"].NowVideoType="insertAd",Laya.SoundManager.muted=!0):(a["default"].instance.dispatch_(o.Event_ppxhc_Def.Car_LevelUp),this.closeView(),i["default"].instance.openView(i.View_ppxhc_Def.GameHome,{view:0}))}else{if(!this._clickTiming_ppxhc_Tag){this._clickTiming_ppxhc_Tag=!0;var t=l["default"].getInstance().getAppSwitchData().btnMoveTimer,n=l["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*n,this,this.BannerUp),Laya.timer.once(1e3*t,this,this.BtnUp)}}},t.prototype.onShow=function(){e.prototype.onShow.call(this),this.Result=this._data.Result,i["default"].instance.closeView(i.View_ppxhc_Def.GameHome),2==this.Result&&(this.Tag.loadImage("Template/shibai.png"),this._next_ppxhc_Btn.loadImage("Template/zaicitiaozhananniu.png"))},t.prototype.onClose=function(){e.prototype.onClose.call(this),null!=this._banner&&this._banner.hide()},t}(s["default"]);n["default"]=p},{"../../Config/AppSwitchConfig":5,"../../Event/EventDef":7,"../../Event/EventMgr":8,"../../Mgr/ViewMgr":69,"../../Mgr/WudianMgr":71,"../../NativeCallback":72,"../../View/TemplateViews/GameWin/GameWinViewTemplate":119,"../Game":17}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../View/ViewBase"),a=e("../GameConst"),o=e("../../User/User"),r=e("../../Utilit"),s=e("../../Mgr/ViewMgr"),l=e("../../NativeCallback"),c=e("../../Event/EventMgr"),h=e("../../Event/EventDef"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skinsList=null,t.carImage=null,t}return __extends(t,e),t.prototype.onAwake=function(){var e=this.owner.getChildByName("Clip");this.clip=e,this.closeBtn=e.getChildByName("CloseBtn"),this.useBtn=e.getChildByName("UseBtn"),this.inUseBtn=e.getChildByName("InUseBtn"),this.skinsList=e.getChildByName("List"),this.carImage=this.owner.getChildByName("Image"),this.closeBtn.on(Laya.Event.CLICK,this,this.OnClickClose),this.useBtn.on(Laya.Event.CLICK,this,this.OnClickUse),this.inUseBtn.on(Laya.Event.CLICK,this,this.OnClickInUse),this.skinsList.mouseHandler=Laya.Handler.create(this,this.OnListMouse,null,!1),this.skinsList.renderHandler=Laya.Handler.create(this,this.RefreshItem,null,!1)},t.prototype.onShow=function(){this.PlayAnimation(!0,100,null)},t.prototype.onEnable=function(){this.skinsList.selectedIndex=o["default"].GetSelectiveSkin(),this.skinsList.updateArray(a["default"].Skins),
this.RefreshBtn(),c["default"].instance.regEvemt_(h.Event_ppxhc_Def.RewardVideoFail,this,this.onRewardVidewoFail),c["default"].instance.regEvemt_(h.Event_ppxhc_Def.RewardVideoSuccess,this,this.onRewardVidewoSuccess)},t.prototype.onDisable=function(){c["default"].instance.removeEvent_(h.Event_ppxhc_Def.RewardVideoFail,this,this.onRewardVidewoFail),c["default"].instance.removeEvent_(h.Event_ppxhc_Def.RewardVideoSuccess,this,this.onRewardVidewoSuccess)},t.prototype.onDestroy=function(){},t.prototype.OnListMouse=function(e,t){e.type==Laya.Event.CLICK&&(this.skinsList.selectedIndex=t,this.RefreshBtn(),this.RefreshItem(e.target,t))},t.prototype.RefreshItem=function(e,t){var n=o["default"].Check_ppxhc_OwnedSkin(t),i=o["default"].GetSelectiveSkin()==t;r["default"].FindChild(e,"State/UnLock").visible=n,r["default"].FindChild(e,"State/Selective").visible=i,r["default"].FindChild(e,"Outline").loadImage("Cars/"+(n?t+1:"0"+(t+1))+".png"),this.skinsList.selectedIndex==t?r["default"].FindChild(e,"State/Selective").visible=!0:r["default"].FindChild(e,"State/Selective").visible=!1},t.prototype.RefreshBtn=function(){var e=o["default"].Check_ppxhc_OwnedSkin(this.skinsList.selectedIndex),t=o["default"].GetSelectiveSkin()==this.skinsList.selectedIndex;this.useBtn.visible=!t,this.inUseBtn.visible=t;var n="Cars/0"+(e?this.skinsList.selectedIndex+1:+(this.skinsList.selectedIndex+1))+".png";console.log(n,this.skinsList.selectedIndex.toString()),this.carImage.graphics.clear(),this.carImage.loadImage(n)},t.prototype.OnClickClose=function(){this.closeView(),s["default"].instance.openView(s.View_ppxhc_Def.GameHome,{view:0})},t.prototype.onRewardVidewoFail=function(){s["default"].instance.openView(s.View_ppxhc_Def.TipsView,"Video playback failed. can't get new car")},t.prototype.onRewardVidewoSuccess=function(){o["default"].add_ppxhc_Skin(this.skinsList.selectedIndex),o["default"].SetSelectiveSkin(1,!0),this.RefreshBtn(),this.skinsList.refresh()},t.prototype.OnClickUse=function(){var e=this;return Laya.Browser.onAndroid||Laya.Browser.onIOS?(l["default"].CallNativeFunc("showRewardVideo"),void(Laya.SoundManager.muted=!0)):(o["default"].add_ppxhc_Skin(e.skinsList.selectedIndex),o["default"].SetSelectiveSkin(1,!0),e.RefreshBtn(),e.skinsList.refresh(),void 0)},t.prototype.OnClickInUse=function(){},t.prototype.PlayAnimation=function(e,t,n){var i=Laya.stage.height;e?(i=Laya.stage.height-this.clip.height,this.clip.top=Laya.stage.height):(i=Laya.stage.height,this.clip.top=Laya.stage.height-this.clip.height),Laya.Tween.clearAll(this.clip),this.clip.left=this.clip.right=0,Laya.Tween.to(this.clip,{top:i},t,null,n)},t.prototype.closeView=function(){var t=this;this.PlayAnimation(!1,100,Laya.Handler.create(this,function(){Laya.Tween.clearAll(t.clip),e.prototype.closeView.call(t)}))},t}(i["default"]);n["default"]=p},{"../../Event/EventDef":7,"../../Event/EventMgr":8,"../../Mgr/ViewMgr":69,"../../NativeCallback":72,"../../User/User":84,"../../Utilit":85,"../../View/ViewBase":132,"../GameConst":18}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../View/TemplateViews/InGame/InGameViewTemplate"),a=e("../Game"),o=e("../../Event/EventMgr"),r=e("../../Event/EventDef"),s=e("../../User/User"),l=e("../../Utilit"),c=e("../../NativeCallback"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.levelNum=l["default"].FindChild(this.owner,"CenterZone/LevelInfo/LevelNum"),this.robmoneyBox=this.owner.getChildByName("Robmoney"),this.robmoneyBtn=this.robmoneyBox.getChildByName("btn_robmoney"),this.robmoneyBtn.on(Laya.Event.CLICK,this,this.ClickRobMoney,[!0]),this.noRobmoneyBtn=this.robmoneyBox.getChildByName("btn_refuse"),this.noRobmoneyBtn.on(Laya.Event.CLICK,this,this.ClickRobMoney,[!1]),this.changeCarBox=this.owner.getChildByName("ChangeCarBox"),this.changeCarRtBtn=this.changeCarBox.getChildByName("btn_changecarRt"),this.noChangeCarBtn=this.changeCarBox.getChildByName("btn_refuse"),this.changeCarRtBtn.on(Laya.Event.CLICK,this,this.OnClickChangeCar,[!0]),this.noChangeCarBtn.on(Laya.Event.CLICK,this,this.OnClickChangeCar,[!1])},t.prototype.onShow=function(){e.prototype.onShow.call(this),this.robmoneyBox.visible=!1,this.changeCarBox.visible=!1,this.levelNum.value=s["default"].get_ppxhc_LeveNum().toString()},t.prototype.onEnable=function(){e.prototype.addEvent.call(this),o["default"].instance.regEvemt_(r.Event_ppxhc_Def.Game_RobmoneyStart,this,this.OnGameRobmoney),o["default"].instance.regEvemt_(r.Event_ppxhc_Def.Game_RobmoneyEnd,this,this.OnRobmoneyEnd),o["default"].instance.regEvemt_(r.Event_ppxhc_Def.Car_ChangeTipStart,this,this.OnChangeCarStart),o["default"].instance.regEvemt_(r.Event_ppxhc_Def.Car_ChangeTipEnd,this,this.OnChangeCarEnd),o["default"].instance.regEvemt_(r.Event_ppxhc_Def.RewardVideoFail,this,this.onRewardVidewoFail),o["default"].instance.regEvemt_(r.Event_ppxhc_Def.RewardVideoSuccess,this,this.onRewardVidewoSuccess)},t.prototype.onDisable=function(){e.prototype.removeEvent.call(this),o["default"].instance.removeEvent_(r.Event_ppxhc_Def.Game_RobmoneyStart,this,this.OnGameRobmoney),o["default"].instance.removeEvent_(r.Event_ppxhc_Def.Game_RobmoneyEnd,this,this.OnRobmoneyEnd),o["default"].instance.removeEvent_(r.Event_ppxhc_Def.Car_ChangeTipStart,this,this.OnChangeCarStart),o["default"].instance.removeEvent_(r.Event_ppxhc_Def.Car_ChangeTipEnd,this,this.OnChangeCarEnd),o["default"].instance.removeEvent_(r.Event_ppxhc_Def.RewardVideoFail,this,this.onRewardVidewoFail),o["default"].instance.removeEvent_(r.Event_ppxhc_Def.RewardVideoSuccess,this,this.onRewardVidewoSuccess)},t.prototype.OnGameRobmoney=function(){this.robmoneyBox.visible=!0,this.robmoneyBtn.mouseEnabled=!0,this.noRobmoneyBtn.mouseEnabled=!0,a["default"].Control.StartRobmoney()},t.prototype.ClickRobMoney=function(e){if(0==e)return void a["default"].Control.EndRobmoney(!1);this.robmoneyBtn.mouseEnabled=!1;return Laya.Browser.onAndroid||Laya.Browser.onIOS?(c["default"].CallNativeFunc("showRewardVideo"),c["default"].NowVideoType="RobMoney",void(Laya.SoundManager.muted=!0)):(this.robmoneyBtn.mouseEnabled=!0,this.robmoneyBox.visible=!1,a["default"].Control.EndRobmoney(!0),void 0)},t.prototype.OnRobmoneyEnd=function(){this.robmoneyBox.visible=!1},t.prototype.OnChangeCarStart=function(){this.changeCarBox.visible=!0},t.prototype.OnChangeCarEnd=function(){this.changeCarBox.visible=!1,this.changeCarRtBtn.mouseEnabled=!0,this.noChangeCarBtn.mouseEnabled=!0},t.prototype.onRewardVidewoFail=function(){"ChangeCar"==c["default"].NowVideoType?(this.changeCarRtBtn.mouseEnabled=!0,this.changeCarBox.visible=!1,a["default"].Control.EndChangeCar(!1)):(this.robmoneyBtn.mouseEnabled=!0,this.robmoneyBox.visible=!1,a["default"].Control.EndRobmoney(!1))},t.prototype.onRewardVidewoSuccess=function(){"ChangeCar"==c["default"].NowVideoType?(this.changeCarRtBtn.mouseEnabled=!0,this.changeCarBox.visible=!1,a["default"].Control.EndChangeCar(!0)):(this.robmoneyBtn.mouseEnabled=!0,this.robmoneyBox.visible=!1,a["default"].Control.EndRobmoney(!0))},t.prototype.OnClickChangeCar=function(e){if(0==e)return void a["default"].Control.EndChangeCar(!1);this.changeCarRtBtn.mouseEnabled=!1;return Laya.Browser.onAndroid||Laya.Browser.onIOS?(c["default"].CallNativeFunc("showRewardVideo"),Laya.SoundManager.muted=!0,void(c["default"].NowVideoType="ChangeCar")):(this.changeCarRtBtn.mouseEnabled=!0,this.changeCarBox.visible=!1,a["default"].Control.EndChangeCar(!0),void 0)},t}(i["default"]);n["default"]=h},{"../../Event/EventDef":7,"../../Event/EventMgr":8,"../../NativeCallback":72,"../../User/User":84,"../../Utilit":85,"../../View/TemplateViews/InGame/InGameViewTemplate":120,"../Game":17}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../View/TemplateViews/GameWin/GameWinViewTemplate"),a=e("../../Mgr/WudianMgr"),o=e("../../Config/AppSwitchConfig"),r=e("../../Utilit"),s=e("../GameConst"),l=e("../../User/User"),c=e("../../Mgr/ViewMgr"),h=e("../Game"),p=e("../../Event/EventDef"),u=e("../../NativeCallback"),d=e("../../Event/EventMgr"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skipBtn=null,t.videoBtn=null,t.carImage=null,t.currentSkin=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.skipBtn=this.owner.getChildByName("SkipBtn"),this.videoBtn=this.owner.getChildByName("VideoBtn"),this.carImage=r["default"].FindChild(this.owner,"CarBox/Car"),this.skipBtn.on(Laya.Event.CLICK,this,this.OnClickSkip),this.videoBtn.on(Laya.Event.CLICK,this,this.OnClickVideo)},t.prototype.onShow=function(){e.prototype.onShow.call(this),a["default"].Wudian_ppxhc_Flag&&(this.skipBtn.bottom=50),this.currentSkin=s["default"].Skins[r["default"].getRandomInt(1,s["default"].Skins.length-1)],this.carImage.skin="Cars/"+(this.currentSkin-1)+".png"},t.prototype.onEnable=function(){e.prototype.onEnable.call(this),d["default"].instance.regEvemt_(p.Event_ppxhc_Def.RewardVideoFail,this,this.onRewardVidewoFail),d["default"].instance.regEvemt_(p.Event_ppxhc_Def.RewardVideoSuccess,this,this.onRewardVidewoSuccess)},t.prototype.onDisable=function(){e.prototype.onDisable.call(this),d["default"].instance.removeEvent_(p.Event_ppxhc_Def.RewardVideoFail,this,this.onRewardVidewoFail),d["default"].instance.removeEvent_(p.Event_ppxhc_Def.RewardVideoSuccess,this,this.onRewardVidewoSuccess)},t.prototype.OnClickSkip=function(){if(this._click_ppxhc_Tag||!a["default"].Wudian_ppxhc_Flag)this.closeView(),h["default"].PlayGame(),c["default"].instance.openView(c.View_ppxhc_Def.GameView);else{if(!this._clickTiming_ppxhc_Tag){this._clickTiming_ppxhc_Tag=!0;var e=o["default"].getInstance().getAppSwitchData().btnMoveTimer,t=o["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*t,this,this.BannerUp),Laya.timer.once(1e3*e,this,this.BtnUp)}}},t.prototype.onRewardVidewoFail=function(){this.videoBtn.mouseEnabled=!0,c["default"].instance.openView(c.View_ppxhc_Def.TipsView,"Video playback failed. can't get new skin")},t.prototype.onRewardVidewoSuccess=function(){l["default"].GetSelectiveSkin()!=this.currentSkin?(l["default"].add_ppxhc_Skin(this.currentSkin),l["default"].SetSelectiveSkin(this.currentSkin,!0),h["default"].Control.autoPlay=!0):h["default"].PlayGame(),this.closeView(),c["default"].instance.openView(c.View_ppxhc_Def.GameView),this.videoBtn.mouseEnabled=!0},t.prototype.OnClickVideo=function(){var e=this;return this.videoBtn.mouseEnabled=!1,Laya.Browser.onAndroid||Laya.Browser.onIOS?(u["default"].CallNativeFunc("showRewardVideo"),void(Laya.SoundManager.muted=!0)):(l["default"].GetSelectiveSkin()!=e.currentSkin?(l["default"].add_ppxhc_Skin(e.currentSkin),l["default"].SetSelectiveSkin(e.currentSkin,!0),h["default"].Control.autoPlay=!0):h["default"].PlayGame(),this.closeView(),c["default"].instance.openView(c.View_ppxhc_Def.GameView),void 0)},t.prototype.BtnUp=function(){e.prototype.BtnUp.call(this),this.skipBtn.bottom=null,this.skipBtn.y=920},t}(i["default"]);n["default"]=_},{"../../Config/AppSwitchConfig":5,"../../Event/EventDef":7,"../../Event/EventMgr":8,"../../Mgr/ViewMgr":69,"../../Mgr/WudianMgr":71,"../../NativeCallback":72,"../../User/User":84,"../../Utilit":85,"../../View/TemplateViews/GameWin/GameWinViewTemplate":119,"../Game":17,"../GameConst":18}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../Game/Game"),a=e("../../User/User"),o=e("../../Event/EventDef"),r=e("../../Event/EventMgr"),s=e("../../WXAPI"),l=e("../../Utilit"),c=e("../../KRQ/Com/KRQ_Banner"),h=e("../../Mgr/ViewMgr"),p=e("../../View/TemplateViews/Main/MainViewTemplate"),u=e("../../Config/AppSwitchConfig"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mousebg=null,t.playMask=null,t.banner=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.playMask=l["default"].FindChild(this.owner,"CenterZone/PlayMask"),this.playMask.on(Laya.Event.MOUSE_DOWN,this,this.OnPlayButton),this.moneyNum=this.owner.getChildByName("sp_money").getChildByName("moneynum"),this.levelNum=l["default"].FindChild(this.owner,"CenterZone/LevelInfo/LevelNum"),this.mousebg=this.owner.getChildByName("mousebg"),this.changeCarBtn=this.owner.getChildByName("btn_changecar"),this.changeCarBtn.on(Laya.Event.CLICK,this,this.ButtonChangeCar)},t.prototype.onShow=function(){this.playMask.mouseEnabled=!1,this.levelNum.value=a["default"].get_ppxhc_LeveNum().toString(),this.moneyNum.text=a["default"].get_ppxhc_Money().toString(),i["default"].Control.IsReadyCompleted&&this.OnReadyCompleted()},t.prototype.onEnable=function(){r["default"].instance.regEvemt_(o.Event_ppxhc_Def.Game_ReadyCompleted,this,this.OnReadyCompleted)},t.prototype.onDisable=function(){r["default"].instance.removeEvent_(o.Event_ppxhc_Def.Game_ReadyCompleted,this,this.OnReadyCompleted)},t.prototype.OnPlayButton=function(){this.closeView();var e=function(){u["default"].getInstance().getAppSwitchData().skinWudian?h["default"].instance.openView(h.View_ppxhc_Def.TrialSkin):(i["default"].PlayGame(),h["default"].instance.openView(h.View_ppxhc_Def.GameView))};s["default"].tryShowWXCrazyClick("疯狂点击",e,function(){},e)},t.prototype.ButtonChangeCar=function(){this.closeView(),h["default"].instance.openView(h.View_ppxhc_Def.GameSkin)},t.prototype.HandMove=function(){var e=this;Laya.Tween.to(this.mousebg.getChildByName("hand"),{scaleX:1.3,scaleY:1.3},500,Laya.Ease.cubicInOut,Laya.Handler.create(this,function(){Laya.Tween.to(e.mousebg.getChildByName("hand"),{scaleX:1,scaleY:1},500,Laya.Ease.cubicInOut,Laya.Handler.create(e,function(){e.HandMove()}))}))},t.prototype.OnReadyCompleted=function(){this.HandMove(),this.mousebg.visible=!0,this.mousebg.alpha=0,this.playMask.mouseEnabled=!0,Laya.Tween.to(this.mousebg,{alpha:1},300),this.changeCarBtn.visible=!0,Laya.Tween.to(this.changeCarBtn,{right:0},300,Laya.Ease.backInOut)},t.prototype.OnGameStarted=function(){this.mousebg.visible=!1,this.changeCarBtn.visible=!1;var e=this._krq_ppxhc_Main.Sprite.getChildByName("KRQ_Banner").getComponent(c["default"]);e.hide()},t}(p["default"]);n["default"]=d},{"../../Config/AppSwitchConfig":5,"../../Event/EventDef":7,"../../Event/EventMgr":8,"../../Game/Game":17,"../../KRQ/Com/KRQ_Banner":47,"../../Mgr/ViewMgr":69,"../../User/User":84,"../../Utilit":85,"../../View/TemplateViews/Main/MainViewTemplate":121,"../../WXAPI":133}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.savePathCatmullRom=function(e,t){void 0===t&&(t=0);var n=e.length,i=new Array;if(null==e||4>n)return i;for(var a=1;n-2>a;a++){var o=.01;if(t>0){var r=Laya.Vector3.distance(e[a],e[a+1]);o=t/r}for(var s=0;1>s;s+=o){var l=0>a-1?e[n-1]:e[a-1],c=e[a],h=e[a+1],p=e[a+2],u=this.interpolatedPosition(l,c,h,p,s);i.push(u)}}return i.push(e[n-2]),i},e.interpolatedPosition=function(e,t,n,i,a){var o=a*a*a,r=a*a,s=-.5*o+r-.5*a,l=1.5*o-2.5*r+1,c=-1.5*o+2*r+.5*a,h=.5*o-.5*r,p=new Laya.Vector3;return p.x=e.x*s+t.x*l+n.x*c+i.x*h,p.y=e.y*s+t.y*l+n.y*c+i.y*h,p.z=e.z*s+t.z*l+n.z*c+i.z*h,p},e}();n["default"]=i},{}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./PathGenerator"),a=function(){function e(){}return Object.defineProperty(e.prototype,"WayPoints",{get:function(){return this._wayPoints},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TotalLength",{get:function(){return this._tootalLength},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LastPoint",{get:function(){return this._wayPoints[this._wayPoints.length-1]},enumerable:!0,configurable:!0}),e.prototype.CalculatePath=function(e,t,n){for(var a=[],o=0;o<e.numChildren;o++){var r=e._children[o].transform.position;a.push(r)}var s=a.length;switch(t){case 0:break;case 1:if(s>=2){var l=a[0],c=a[s-1];a.unshift(l),a.push(c)}break;case 2:if(s>=2){var l=a[s-1],h=a[0],c=a[1];a.unshift(l),a.push(h),a.push(c)}}this._wayPoints=i["default"].savePathCatmullRom(a,n);for(var p=0,o=0;o<this._wayPoints.length-1;o++){var u=this._wayPoints[o],d=this._wayPoints[o+1];p+=Laya.Vector3.distance(u,d)}this._tootalLength=Math.floor(p)},e.prototype.GetNormalizeDirection=function(e,t){var n=new Laya.Vector3;return Laya.Vector3.subtract(t,e,n),Laya.Vector3.normalize(n,n),n},e.prototype.GetPointByDistance=function(e,t,n){for(var i=0,a=e.clone(),o={CurrentPos:null,PointIndex:null,Direction:null};;){if(t>=this._wayPoints.length-1)return o.CurrentPos=this._wayPoints[this._wayPoints.length-1],o.PointIndex=this._wayPoints.length-1,o.Direction=Laya.Vector3._ZERO,o;var r=this._wayPoints[t+1],s=Laya.Vector3.distance(a,r);if(i+=s,i>=n){var l=(i-n)/s;Laya.Vector3.lerp(r,a,l,a),o.CurrentPos=a,o.PointIndex=t;var c=this.GetNormalizeDirection(this._wayPoints[t],r),h=0==t?c:this.GetNormalizeDirection(this._wayPoints[t-1],this._wayPoints[t]),p=new Laya.Vector3,u=Laya.Vector3.distance(this._wayPoints[t],this._wayPoints[t+1]),d=Laya.Vector3.distance(this._wayPoints[t],a),_=d/u;return Laya.Vector3.lerp(h,c,_,p),o.Direction=p,o}t++,a=this._wayPoints[t].clone()}},e.prototype.GetClosetPoint=function(e){for(var t=new o,n=-1,i=-1,a=0;a<this._wayPoints.length;a++){var r=this._wayPoints[a],s=Laya.Vector3.distance(r,e);(-1==n||n>s)&&(n=s,i=a)}return t.CurrentPos=this._wayPoints[i],t.PointIndex=i,i>0?t.Direction=this.GetNormalizeDirection(this._wayPoints[i-1],this._wayPoints[i]):t.Direction=Laya.Vector3._ZERO,t},e.prototype.GetProgress=function(e){return e=0>e?0:e,e=e>this._wayPoints.length-1?this._wayPoints.length-1:e,e/(this._wayPoints.length-1)},e}();n["default"]=a;var o=function(){function e(){}return e}()},{"./PathGenerator":27}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./RoadBase"),a=e("../Tools/PhysicTrigger3d"),o=e("../Car/HillCar"),r=e("../../Mgr/SoundMgr"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.barrels=null,t.effects=null,t.triggerBox=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.barrels=this.owner.getChildByName("Barrels"),this.effects=this.owner.getChildByName("Effects"),this.triggerBox=this.owner.getChildByName("Trigger");var t=a["default"].GetTrigger(this.triggerBox);t.OnTriggerEnter(this,this.OnTriggerEnter);var n=this.triggerBox.getComponent(Laya.PhysicsComponent);n.collisionGroup=1e6},t.prototype.onEnable=function(){this.effects.active=!1},t.prototype.OnTriggerEnter=function(e,t){var n=t.owner.getComponent(o["default"]);null!=n&&this.PlayAnimation()},t.prototype.PlayAnimation=function(){var e=this;0!=this.barrels.active&&(this.effects.active=!1,this.effects.active=!0,this.barrels.active=!1,r["default"].instance_.play_ppxhc_Sound("oildrumsbang"),Laya.timer.once(800,this,function(){e.effects.active=!1}))},t}(i["default"]);n["default"]=s},{"../../Mgr/SoundMgr":67,"../Car/HillCar":15,"../Tools/PhysicTrigger3d":46,"./RoadBase":35}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./RoadBase"),a=e("../Tools/PhysicTrigger3d"),o=e("../Game"),r=e("../Car/HillCar"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.enterTrigger=this.owner.getChildByName("EnterTrigger"),this.exitTrigger=this.owner.getChildByName("ExitTrigger");var t=a["default"].GetTrigger(this.enterTrigger);t.OnTriggerEnter(this,this.OnCarEnter),t=a["default"].GetTrigger(this.exitTrigger),t.OnTriggerEnter(this,this.OnCarExit)},t.prototype.OnCarEnter=function(e,t){var n=t.owner.getComponent(r["default"]);null!=n&&o["default"].CameraFollow.Switch("Cave")},t.prototype.OnCarExit=function(e,t){var n=t.owner.getComponent(r["default"]);null!=n&&o["default"].CameraFollow.Switch("Driving")},t}(i["default"]);n["default"]=s},{"../Car/HillCar":15,"../Game":17,"../Tools/PhysicTrigger3d":46,"./RoadBase":35}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./RoadBase"),a=e("../Car/HillCar"),o=e("../../Utilit"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.time=0,t.animator=null,t.physicsComponent=null,t}return __extends(t,e),t.prototype.onAwake=function(){this.animator=this.owner.getComponent(Laya.Animator),this.animator.play("Def"),this.physicsComponent=this.owner.getComponent(Laya.PhysicsComponent),this.physicsComponent.collisionGroup=1e5},t.prototype.onTriggerEnter=function(e){var t=this,n=e.owner.getComponent(a["default"]);if(null!=n){this.physicsComponent.enabled=!1,this.physicsComponent.destroy();var i=this.transform.position;o["default"].InverseTransformPoint(n.transform,i,i),this.owner.removeSelf(),n.owner.addChild(this.owner),this.transform.localPosition=i.clone(),this.animator.play("dollar_02");var r=o["default"].getAnimationClip(this.animator,0,"dollar_02");Laya.timer.once(1e3*r.duration(),this,function(){t.owner.removeSelf(),t.owner.destroy()})}},t}(i["default"]);n["default"]=r},{"../../Utilit":85,"../Car/HillCar":15,"./RoadBase":35}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./RoadBase"),a=e("../Tools/PhysicTrigger3d"),o=e("../Car/HillCar"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.drawbridges=[],t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this);for(var t=this.owner.getChildByName("road_qiaoqiaoban"),n=0;n<t._children.length;n++)"road_drawbridge_0"==t._children[n].name&&this.drawbridges.push(t._children[n]);this.triggerBox=this.owner.getChildByName("Trigger");var i=a["default"].GetTrigger(this.triggerBox);i.OnTriggerEnter(this,this.OnTriggerEnter)},t.prototype.OnTriggerEnter=function(e,t){var n=t.owner.getComponent(o["default"]);null!=n&&this.PlayAnimation()},t.prototype.PlayAnimation=function(){for(var e=0;e<this.drawbridges.length;e++){var t=this.drawbridges[e];Laya.Tween.to(t.transform,{localRotationEulerX:0},1500)}},t}(i["default"]);n["default"]=r},{"../Car/HillCar":15,"../Tools/PhysicTrigger3d":46,"./RoadBase":35}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./RoadBase"),a=e("../Tools/PhysicTrigger3d"),o=e("../Game"),r=e("../Cargoes/CargoMgr"),s=e("../../Event/EventMgr"),l=e("../../Event/EventDef"),c=e("../../Mgr/SoundMgr"),h=e("../Car/CarMgr"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.finishBox=null,t.garage_tube_throat=null,t.xishouEffect=null,t.celebrateEffect=null,t.stars=[],t.carPosition=new Laya.Vector3(0,0,-26),t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this);for(var t=this.owner.getChildByName("Starts"),n=0;n<t._children.length;n++)this.stars.push(t._children[n]);this.celebrateEffect=this.owner.getChildByName("CelebrateEffect"),this.garage_tube_throat=this.owner.getChildByName("garage_tube_throat"),this.xishouEffect=this.garage_tube_throat.getChildByName("FX_xishou"),this.finishBox=this.owner.getChildByName("FinishTrigger");var i=this.finishBox.getComponent(Laya.PhysicsComponent);i.collisionGroup=1e6;var o=a["default"].GetTrigger(this.finishBox);o.OnTriggerEnter(this,this.OnFinishTriggerEnter)},t.prototype.onEnable=function(){s["default"].instance.regEvemt_(l.Event_ppxhc_Def.Car_Unload,this,this.OnCarUnload),s["default"].instance.regEvemt_(l.Event_ppxhc_Def.Car_ChangeTipEnd,this,this.OnChangeCarEnd),s["default"].instance.regEvemt_(l.Event_ppxhc_Def.Car_ChangeTipStart,this,this.OnChangeCarStart)},t.prototype.onDisable=function(){s["default"].instance.removeEvent_(l.Event_ppxhc_Def.Car_Unload,this,this.OnCarUnload),s["default"].instance.removeEvent_(l.Event_ppxhc_Def.Car_ChangeTipEnd,this,this.OnChangeCarEnd),s["default"].instance.removeEvent_(l.Event_ppxhc_Def.Car_ChangeTipStart,this,this.OnChangeCarStart)},t.prototype.OnFinishTriggerEnter=function(e,t){c["default"].instance_.play_ppxhc_Sound("arrivalterminal"),this.celebrateEffect.active=!0,o["default"].CameraFollow.Switch("Win"),o["default"].Control.GameOver(),o["default"].Control.currentCar.SetSpeedUpOver(),o["default"].Control.currentCar.SetUnload(this.exit.position.clone(),Laya.Handler.create(this,this.OnArriveUnloadPoint))},t.prototype.OnArriveUnloadPoint=function(){var e=[];e.push(this.garage_tube_throat.transform.position.clone()),this.xishouEffect.active=!0,r["default"].Instance.UnloadCargoes(o["default"].Control.currentCar,e,Laya.Handler.create(this,this.OnUnLoadCompleted))},t.prototype.OnUnLoadCompleted=function(){return o["default"].Control.IsChangeCarRound&&1==o["default"].Control.TryGenerateNotUnlockCars()?void o["default"].Control.StartChangeCar():void o["default"].Control.GameSettle(1)},t.prototype.OnChangeCarStart=function(){h["default"].Instance.CreateShowCar("Car"+o["default"].Control.CurrentChangeCarIndex,this.owner,this.carPosition,new Laya.Vector3(0,-90,0))},t.prototype.OnChangeCarEnd=function(){},t.prototype.OnCarUnload=function(e,t){var n=this;t=Math.min(3,t);var i=this.stars[t-1];if(1!=i.active){i.active=!0;var a=i.transform.localScale.clone();i.transform.localScale=new Laya.Vector3(0,0,0),Laya.Tween.to(i.transform,{localScaleX:a.x,localScaleY:a.y,localScaleZ:a.z},400,Laya.Ease.backInOut)}1==e&&Laya.timer.once(400,this,function(){n.xishouEffect.active=!1})},t}(i["default"]);n["default"]=p},{"../../Event/EventDef":7,"../../Event/EventMgr":8,"../../Mgr/SoundMgr":67,"../Car/CarMgr":13,"../Cargoes/CargoMgr":16,"../Game":17,"../Tools/PhysicTrigger3d":46,"./RoadBase":35}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./RoadBase"),a=e("../Tools/PhysicTrigger3d"),o=e("../../Event/EventMgr"),r=e("../../Event/EventDef"),s=e("../Car/HillCar"),l=e("../Game"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isActive=!1,t.triggerBox=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.triggerBox=this.owner.getChildByName("Trigger");var t=a["default"].GetTrigger(this.triggerBox);t.OnTriggerEnter(this,this.OnTriggerEnter);var n=this.triggerBox.getComponent(Laya.PhysicsComponent);n.collisionGroup=1e5},t.prototype.onEnable=function(){o["default"].instance.regEvemt_(r.Event_ppxhc_Def.Game_RobmoneyEnd,this,this.OnRobmoneyEnd)},t.prototype.OnTriggerEnter=function(e,t){var n=t.owner.getComponent(s["default"]);null!=n&&(this.isActive=!0,this.triggerBox.offAll(Laya.Event.TRIGGER_ENTER),o["default"].instance.dispatch_(r.Event_ppxhc_Def.Game_RobmoneyStart))},t.prototype.OnRobmoneyEnd=function(){this.isActive=!1},t.prototype.onUpdate=function(){if(0!=this.isActive){var e=Laya.Vector3.distance(this.triggerBox.transform.position,l["default"].Control.currentCar.transform.position);e>20&&(this.isActive=!1,l["default"].Control.EndRobmoney(!1),o["default"].instance.dispatch_(r.Event_ppxhc_Def.Game_RobmoneyEnd))}},t}(i["default"]);n["default"]=c},{"../../Event/EventDef":7,"../../Event/EventMgr":8,"../Car/HillCar":15,"../Game":17,"../Tools/PhysicTrigger3d":46,"./RoadBase":35}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"transform",{get:function(){return this.owner.transform},enumerable:!0,configurable:!0}),t.prototype.onAwake=function(){this.enter=this.owner.getChildByName("EnterPosition").transform,this.exit=this.owner.getChildByName("ExitPosition").transform},t.prototype.Init=function(){},t.prototype.onEnableWay=function(){},t.prototype.onDisableWay=function(){},t.prototype.UpdateCarBehaiovr=function(e){e.SetTarget(this.GetTargetPoint())},t.prototype.SetEnterPosition=function(e){var t=new Laya.Vector3;Laya.Vector3.subtract(this.transform.position,this.enter.position,t);var n=new Laya.Vector3;Laya.Vector3.add(e,t,n),this.transform.position=n.clone()},t.prototype.GetEnterPosition=function(){return this.enter.position},t.prototype.GetExitPosition=function(){return this.exit.position},t.prototype.TryMoveWay=function(e,t){var n=Laya.Vector3.distance(e,this.exit.position);return.2>n||e.z>=this.exit.position.z?!1:!0},t.prototype.GetTargetPoint=function(){return this.exit.position.clone()},t}(Laya.Script3D);n["default"]=i},{}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Game"),a=e("./RoadBase"),o=e("./SplineRoad"),r=e("../../Event/EventMgr"),s=e("../../Event/EventDef"),l=e("./EndRoad"),c=e("./StartRoad"),h=e("./SnowfieldRoad"),p=e("./SludgeRoad"),u=e("./CaveRoad"),d=e("./SpeedUpRoad"),_=e("../../Utilit"),f=e("./DrawbridgeRoad"),g=e("./ZhuanluRoad"),y=e("./TiaoqiaoRoad"),m=e("./BoomRoad"),w=e("./GoodRoad"),v=e("./DollerRoad"),C=function(){function e(){this.wayClassTypes={},this.colourMatching=[{planeColor:new Laya.Vector4(.3795415,.7941176,.3824006,1),roadColor:new Laya.Vector4(.5382891,.245026,.7573529,1)},{planeColor:new Laya.Vector4(.3633218,.5783081,.7058823,1),roadColor:new Laya.Vector4(.7867647,.2661116,.7508579,1)},{planeColor:new Laya.Vector4(.6524901,.3986267,.7426471,1),roadColor:new Laya.Vector4(.8970588,.4606297,.1253244,1)}],this.startWay=null,this.endWay=null,this.activeWays=[],this.wayContainer=null,this.currentSegmentIndex=0}return Object.defineProperty(e,"Instance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.Init=function(){var e=i["default"].Prefabs.Prefab;this.plane=e.getChildByName("Plane"),this.wayClassTypes.Start=c["default"],this.wayClassTypes["Left-RingRoad"]=o["default"],this.wayClassTypes["Left-RingRoad-Up"]=o["default"],this.wayClassTypes["Left-RingRoad-Down"]=o["default"],this.wayClassTypes.Snowfield=h["default"],this.wayClassTypes.Sludge=p["default"],this.wayClassTypes.Centrifuge_L=o["default"],this.wayClassTypes.Centrifuge_R=o["default"],this.wayClassTypes.Cave=u["default"],this.wayClassTypes.Road_boost_No=d["default"],this.wayClassTypes.Serpentine_begin_r_R=o["default"],this.wayClassTypes.Drawbridge=f["default"],this.wayClassTypes.Zhuanlu=g["default"],this.wayClassTypes.Tiaoqiao=y["default"],this.wayClassTypes.Boom_No=m["default"],this.wayClassTypes.Good=w["default"],this.wayClassTypes.dollar_No=v["default"],this.wayClassTypes.End=l["default"],r["default"].instance.regEvemt_(s.Event_ppxhc_Def.Car_Moving,this,this.OnCarMoving)},e.prototype.CreateEnvironment=function(e){this.CreateWayContainer();var t=Laya.Sprite3D.instantiate(this.plane,this.wayContainer);t.transform.localPositionY=-1.5;var n=this.colourMatching[e],a=n.planeColor.clone();t.meshRenderer.sharedMaterial.albedoColor=a,i["default"].Camera.clearColor=a.clone(),i["default"].Scene.fogColor=a.clone()},e.prototype.LoadRoadLh=function(e,t,n){var i=this,a=_["default"].Clamp(_["default"].getRandomInt(1,4),1,3)-1;Laya.Sprite3D.load(e,Laya.Handler.create(this,function(o){i.CreateWayByNode(o.clone(),a),i.CreateEnvironment(a),null!=n&&n.call(t),Laya.loader.clearRes(e)}))},e.prototype.GetCarPosition=function(e){this.startWay.GetEnterPosition().cloneTo(e)},e.prototype.OpenWays=function(){this.currentSegmentIndex=0,this.GetRunway(this.currentSegmentIndex).onEnable()},e.prototype.OnCarMoving=function(t,n){if(0!=i["default"].Control.InGameing){var a=e.Instance.GetRunway(this.currentSegmentIndex);return a.TryMoveWay(n,t)?void a.UpdateCarBehaiovr(t):(a.onDisableWay(),this.currentSegmentIndex++,void this.GetRunway(this.currentSegmentIndex).onEnable)}},e.prototype.GetRunway=function(e){return 0==e?this.startWay:e-1<=this.activeWays.length-1?this.activeWays[e-1]:this.endWay},e.prototype.CreateWayContainer=function(){var e="WayContainer";null==this.wayContainer&&(this.wayContainer=new Laya.Sprite3D(e),i["default"].Scene.addChild(this.wayContainer))},e.prototype.CreateWayByNode=function(e,t){this.CreateWayContainer(),this.wayContainer.addChild(e),!e.active&&(e.active=!0),e.transform.position=new Laya.Vector3;
for(var n=e.getChildByName("Roads"),i=0;i<n._children.length;i++){var o=n._children[i],r=o.name.split(" ")[0],s=this.wayClassTypes[r];null==s&&(s=a["default"]);var l=o.addComponent(s);l.Init(),"Start"==r?this.startWay=l:"End"==r?this.endWay=l:r.search("No")<0&&this.activeWays.push(l)}var c=_["default"].FindChild(this.startWay.owner,"monster_road_road_finish/monster_road_road_finish_0"),h=c,p=h.meshRenderer.sharedMaterial,u=this.colourMatching[t],d=u.roadColor.clone();p.albedoColor=d},e.prototype.Clear=function(){this.startWay=null,this.endWay=null,this.activeWays=[],this.currentSegmentIndex=0,this.wayContainer.removeSelf(),this.wayContainer.destroy(!0),this.wayContainer=null},e}();n["default"]=C},{"../../Event/EventDef":7,"../../Event/EventMgr":8,"../../Utilit":85,"../Game":17,"./BoomRoad":29,"./CaveRoad":30,"./DollerRoad":31,"./DrawbridgeRoad":32,"./EndRoad":33,"./GoodRoad":34,"./RoadBase":35,"./SludgeRoad":37,"./SnowfieldRoad":38,"./SpeedUpRoad":39,"./SplineRoad":40,"./StartRoad":41,"./TiaoqiaoRoad":42,"./ZhuanluRoad":43}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./SnowfieldRoad"),a=e("../../Utilit"),o=function(e){function t(){var t=e.call(this)||this;return t.resistance=1e3,t.maxSpeed=20,t.sliptorque=1e3,t}return __extends(t,e),t.prototype.UpdateCarBehaiovr=function(e){if(0!=e.m_groundForward.IsSet){e.SetTarget(this.GetTargetPoint());var t=Laya.Vector3.scalarLength(e.rigidbody.linearVelocity),n=e.rigidbody.linearVelocity.clone();Laya.Vector3.scale(n,1/t,n);var i=Laya.Vector3.dot(n,e.m_forward);t=i*t;var o=Math.sin(Laya.timer.currFrame/5),r=new Laya.Vector3(0,1,0);Laya.Vector3.scale(r,o*this.sliptorque*Math.min(1,t/this.maxSpeed),r),a["default"].QuaternionVector3(e.transform.rotation,r,r),e.rigidbody.applyTorque(r);var s=new Laya.Vector3;Laya.Vector3.scale(e.m_forward,-1*this.resistance,s),e.rigidbody.applyForce(s)}},t}(i["default"]);n["default"]=o},{"../../Utilit":85,"./SnowfieldRoad":38}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./RoadBase"),a=e("../../Utilit"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sliptorque=2e3,t.maxSpeed=20,t}return __extends(t,e),t.prototype.UpdateCarBehaiovr=function(t){if(0!=t.m_groundForward.IsSet){e.prototype.UpdateCarBehaiovr.call(this,t);var n=Laya.Vector3.scalarLength(t.rigidbody.linearVelocity),i=t.rigidbody.linearVelocity.clone();Laya.Vector3.scale(i,1/n,i);var o=Laya.Vector3.dot(i,t.m_forward);n=o*n;var r=new Laya.Vector3(1,0,0),s=Math.sin(Laya.timer.currFrame/5);a["default"].QuaternionVector3(this.transform.rotation,r,r),Laya.Vector3.scale(r,s*this.sliptorque*(o*n/this.maxSpeed),r),t.AddTurnForce(r)}},t}(i["default"]);n["default"]=o},{"../../Utilit":85,"./RoadBase":35}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./RoadBase"),a=e("../Tools/PhysicTrigger3d"),o=e("../Game"),r=e("../Car/CarBuffer/SpeedUpBuffer"),s=e("../Car/HillCar"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speedUpTrigger=null,t}return __extends(t,e),t.prototype.onAwake=function(){this.speedUpTrigger=this.owner.getChildByName("Trigger");var e=a["default"].GetTrigger(this.speedUpTrigger);e.OnTriggerStay(this,this.OnSpeedUpStay);var t=this.speedUpTrigger.getComponent(Laya.PhysicsComponent);t.collisionGroup=4},t.prototype.OnSpeedUpStay=function(e,t){var n=t.owner.getComponent(s["default"]);null!=n&&o["default"].Control.currentCar.AddBuffer(new r["default"](1),!0)},t}(i["default"]);n["default"]=l},{"../Car/CarBuffer/SpeedUpBuffer":12,"../Car/HillCar":15,"../Game":17,"../Tools/PhysicTrigger3d":46,"./RoadBase":35}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Path/TrackWay"),a=e("../../Utilit"),o=e("./RoadBase"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackWay=null,t.currentWaypointIndex=0,t.pickNextWaypointDist=3,t.endReachedDistance=5,t.currentTargetPoint=new Laya.Vector3,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.spline=this.owner.getChildByName("Spline")},t.prototype.Init=function(){e.prototype.Init.call(this),this.trackWay=new i["default"],this.trackWay.CalculatePath(this.spline,1,1)},t.prototype.TryMoveWay=function(e,t){var n=this.CalculateTarget(e,t,this.currentTargetPoint);return n},t.prototype.GetTargetPoint=function(){return this.currentTargetPoint},t.prototype.CalculateTarget=function(e,t,n){if(null==this.trackWay.WayPoints||0==this.trackWay.WayPoints.length)return!1;var i=this.trackWay.WayPoints;1==i.length&&i.splice(0,0,e.clone()),this.currentWaypointIndex>=i.length&&(this.currentWaypointIndex=i.length-1),this.currentWaypointIndex<=1&&(this.currentWaypointIndex=1);for(var o=e.clone();;){if(this.currentWaypointIndex>=i.length-1)break;var r=new Laya.Vector3;a["default"].InverseTransformPoint(t.transform,i[this.currentWaypointIndex],r),o.y=i[this.currentWaypointIndex].y;var s=Laya.Vector3.distance(i[this.currentWaypointIndex],o);if(s>this.pickNextWaypointDist&&r.z>0)break;this.currentWaypointIndex++}var l=Laya.Vector3.distance(e,i[this.currentWaypointIndex]);return this.currentWaypointIndex==i.length-1&&l<=this.endReachedDistance?(i[this.currentWaypointIndex].cloneTo(n),!1):(i[this.currentWaypointIndex].cloneTo(n),!0)},t}(o["default"]);n["default"]=r},{"../../Utilit":85,"../Path/TrackWay":28,"./RoadBase":35}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./RoadBase"),a=e("../Game"),o=e("../../Event/EventMgr"),r=e("../../Event/EventDef"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.switchCameraDistance=7,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.animationSprite=this.owner.getChildByName("factory_tube")},t.prototype.TryMoveWay=function(t,n){var i=Laya.Vector3.distance(t,this.enter.position);return i>this.switchCameraDistance&&a["default"].CameraFollow.Switch("Driving"),e.prototype.TryMoveWay.call(this,t,n)},t.prototype.onEnable=function(){e.prototype.onEnable.call(this),o["default"].instance.regEvemt_(r.Event_ppxhc_Def.Car_LoadUp,this,this.OnCarLoadUp)},t.prototype.onDisable=function(){e.prototype.onDisable.call(this),o["default"].instance.removeEvent_(r.Event_ppxhc_Def.Car_LoadUp,this,this.OnCarLoadUp)},t.prototype.OnCarLoadUp=function(){if(null!=this.animationSprite){var e=1.01,t=100,n=this.animationSprite.transform;Laya.Tween.to(n,{localScaleX:e,localScaleY:e,localScaleZ:e},t,Laya.Ease.backInOut,Laya.Handler.create(this,function(){Laya.Tween.to(n,{localScaleX:1,localScaleY:1,localScaleZ:1},t,Laya.Ease.backInOut)}),0,!0)}},t}(i["default"]);n["default"]=s},{"../../Event/EventDef":7,"../../Event/EventMgr":8,"../Game":17,"./RoadBase":35}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./RoadBase"),a=e("../Tools/PhysicTrigger3d"),o=e("../../Utilit"),r=e("../Car/HillCar"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.plane=null,t.triggerBox=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.plane=this.owner.getChildByName("PlaneTrigger"),this.triggerBox=this.owner.getChildByName("Trigger");var t=a["default"].GetTrigger(this.triggerBox);t.OnTriggerEnter(this,this.OnTriggerEnter)},t.prototype.OnTriggerEnter=function(e,t){var n=t.owner.getComponent(r["default"]);null!=n&&Laya.timer.once(200,this,this.PlayAnimation)},t.prototype.PlayAnimation=function(){for(var e=o["default"].FindChild(this.owner,"road_tiaoqiao/road"),t=0;t<e._children.length;t++){var n=e._children[t].transform;Laya.Tween.to(n,{localPositionY:-20},1e3,null,null,50*t)}Laya.Tween.to(this.plane.transform,{localScaleZ:0},1700)},t}(i["default"]);n["default"]=s},{"../../Utilit":85,"../Car/HillCar":15,"../Tools/PhysicTrigger3d":46,"./RoadBase":35}],43:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./RoadBase"),a=e("../../Utilit"),o=e("../Car/HillCar"),r=e("../Tools/PhysicTrigger3d"),s=e("../Game"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.triggerBox=null,t.luExitPosition=null,t.CarEnter=!1,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this.triggerBox=a["default"].FindChild(this.owner,"road_zhuanlu/road2"),this.luExitPosition=this.owner.getChildByName("LuExitPosition").transform;var t=r["default"].GetTrigger(this.triggerBox);t.OnTriggerEnter(this,this.OnTriggerEnter),t.OnTriggerStay(this,this.OnTriggerStay)},t.prototype.onStart=function(){this.PlayAnimation()},t.prototype.UpdateCarBehaiovr=function(t){if(0==this.CarEnter)e.prototype.UpdateCarBehaiovr.call(this,t);else{var n=t.m_forward.clone();a["default"].QuaternionVector3(this.triggerBox.transform.rotation,n,n),Laya.Vector3.scale(n,5,n),t.SetTarget(n)}},t.prototype.OnTriggerEnter=function(e,t){var n=t.owner.getComponent(o["default"]);null!=n&&(this.CarEnter=!0)},t.prototype.OnTriggerStay=function(e,t){var n=t.owner.getComponent(o["default"]);if(null!=n&&0!=this.CarEnter){var i=Laya.Vector3.distance(s["default"].Control.currentCar.head.position,this.luExitPosition.position);4>i&&(this.CarEnter=!1)}},t.prototype.PlayAnimation=function(){var e=this;Laya.Tween.to(this.triggerBox.transform,{localRotationEulerY:this.triggerBox.transform.localRotationEulerY+90},3e3,null,Laya.Handler.create(this,function(){Laya.timer.once(2e3,e,e.PlayAnimation)}))},t}(i["default"]);n["default"]=l},{"../../Utilit":85,"../Car/HillCar":15,"../Game":17,"../Tools/PhysicTrigger3d":46,"./RoadBase":35}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this.curState=new a("",null,null,null,null),this.stateHashTabel={}}return e.prototype.AddState=function(e){null!=e&&(this.stateHashTabel[e.key]=e)},e.prototype.AddAction=function(e,t,n,i,o){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),this.AddState(new a(e,t,n,i,o))},e.prototype.Switch=function(e,t){void 0===t&&(t=null);var n=this.curState,i=this.stateHashTabel[e];null!=i&&i.key!=n.key&&(this.curState=i,null!=n&&n.OnExit(),i.OnEnter(t))},e.prototype.MachineExit=function(){null!=this.curState&&(this.curState.OnExit(),this.curState=null)},e.prototype.Update=function(){null!=this.curState&&this.curState.OnUpdate()},e}();n["default"]=i;var a=function(){function e(e,t,n,i,a){this.key=e,this.caller=t,this.enter=n,this.exit=i,this.update=a}return e.prototype.OnEnter=function(e){null!=this.enter&&(null!=e&&e.unshift?this.enter.apply(this.caller,e):this.enter.call(this.caller,e))},e.prototype.OnExit=function(){null!=this.exit&&this.exit.call(this.caller)},e.prototype.OnUpdate=function(){null!=this.update&&this.update.call(this.caller)},e}();n.FsmState=a},{}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=e.call(this)||this;return t._tempVector3=new Laya.Vector3,t.yawPitchRoll=new Laya.Vector3,t.resultRotation=new Laya.Quaternion,t.tempRotationZ=new Laya.Quaternion,t.tempRotationX=new Laya.Quaternion,t.tempRotationY=new Laya.Quaternion,t.rotaionSpeed=6e-5,t}return __extends(t,e),t.prototype.onAwake=function(){Laya.stage.on(Laya.Event.RIGHT_MOUSE_DOWN,this,this.mouseDown),Laya.stage.on(Laya.Event.RIGHT_MOUSE_UP,this,this.mouseUp),this.camera=this.owner},t.prototype._onDestroy=function(){Laya.stage.off(Laya.Event.RIGHT_MOUSE_DOWN,this,this.mouseDown),Laya.stage.off(Laya.Event.RIGHT_MOUSE_UP,this,this.mouseUp)},t.prototype.onUpdate=function(){var e=Laya.timer.delta;if(!isNaN(this.lastMouseX)&&!isNaN(this.lastMouseY)&&this.isMouseDown){this.owner.scene;Laya.KeyBoardManager.hasKeyDown(87)&&this.moveForward(-.01*e),Laya.KeyBoardManager.hasKeyDown(83)&&this.moveForward(.01*e),Laya.KeyBoardManager.hasKeyDown(65)&&this.moveRight(-.01*e),Laya.KeyBoardManager.hasKeyDown(68)&&this.moveRight(.01*e),Laya.KeyBoardManager.hasKeyDown(81)&&this.moveVertical(.01*e),Laya.KeyBoardManager.hasKeyDown(69)&&this.moveVertical(-.01*e);var t=Laya.stage.mouseX-this.lastMouseX,n=Laya.stage.mouseY-this.lastMouseY,i=this.yawPitchRoll;i.x-=t*this.rotaionSpeed*e,i.y-=n*this.rotaionSpeed*e,this.updateRotation()}this.lastMouseX=Laya.stage.mouseX,this.lastMouseY=Laya.stage.mouseY},t.prototype.mouseDown=function(e){this.camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll),this.lastMouseX=Laya.stage.mouseX,this.lastMouseY=Laya.stage.mouseY,this.isMouseDown=!0},t.prototype.mouseUp=function(e){this.isMouseDown=!1},t.prototype.moveForward=function(e){this._tempVector3.x=0,this._tempVector3.y=0,this._tempVector3.z=e,this.camera.transform.translate(this._tempVector3)},t.prototype.moveRight=function(e){this._tempVector3.y=0,this._tempVector3.z=0,this._tempVector3.x=e,this.camera.transform.translate(this._tempVector3)},t.prototype.moveVertical=function(e){this._tempVector3.x=this._tempVector3.z=0,this._tempVector3.y=e,this.camera.transform.translate(this._tempVector3,!1)},t.prototype.updateRotation=function(){Math.abs(this.yawPitchRoll.y)<1.5&&(Laya.Quaternion.createFromYawPitchRoll(this.yawPitchRoll.x,this.yawPitchRoll.y,this.yawPitchRoll.z,this.tempRotationZ),this.tempRotationZ.cloneTo(this.camera.transform.localRotation),this.camera.transform.localRotation=this.camera.transform.localRotation)},t}(Laya.Script3D);n["default"]=i},{}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.GetTrigger=function(e){var n=e.getComponent(t);return null==n&&(n=e.addComponent(t)),n},t.prototype.OnTriggerEnter=function(e,n){n&&this.owner.on(t.triggerenter,e,n)},t.prototype.OnTriggerExit=function(e,n){n&&this.owner.on(t.triggerexit,e,n)},t.prototype.OnTriggerStay=function(e,n){n&&this.owner.on(t.triggerstay,e,n)},t.prototype.OnCollisionStay=function(e,n){n&&this.owner.on(t.collisionStay,e,n)},t.prototype.onEnable=function(){},t.prototype.onDisable=function(){this.owner.offAll(t.triggerenter),this.owner.offAll(t.triggerstay),this.owner.offAll(t.triggerexit)},t.prototype.onTriggerEnter=function(e){this.owner.event(t.triggerenter,[this.owner,e])},t.prototype.onTriggerExit=function(e){this.owner.event(t.triggerexit,[this.owner,e])},t.prototype.onTriggerStay=function(e){this.owner.event(t.triggerstay,[this.owner,e])},t.prototype.onCollisionStay=function(e){this.owner.event(t.collisionStay,[this.owner,e])},t.triggerenter="triggerenter3d",t.triggerstay="triggerstay3d",t.triggerexit="triggerexit3d",t.collisionStay="CollisionStay",t}(Laya.Script3D);n["default"]=i},{}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./KRQ_ComBase"),a=e("../../WXAPI"),o=e("../../Config/AppSwitchConfig"),r=e("../../ShareAd/ShareAd"),s=e("../../QQMiniGameAPI"),l=e("../../Mgr/WudianMgr"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._wxBanner_ppxhc_=null,t._onLoad_ppxhc_=null,t._onError_ppxhc_=null,t._onResize_ppxhc_=null,t._isCreating_ppxhc_=!1,t._isDestroyed_ppxhc_=!1,t._isHide_ppxhc_=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"Clip",{get:function(){return this.owner},enumerable:!0,configurable:!0}),t.prototype.onAwake=function(){this.AdPos_ppxhc_ID=r["default"].BannerAdLocationID_},t.prototype.onStart=function(){this.refresh()},t.prototype.onEnable=function(){this.Sprite.on(Laya.Event.CLICK,this,this.onClickAd)},t.prototype.onDisable=function(){this.Sprite.off(Laya.Event.CLICK,this,this.onClickAd)},t.prototype.onClickAd=function(){this.navigateToMiniProgram_ppxhc()},t.prototype.refresh=function(e){if(!this._isDestroyed_ppxhc_){var t=o["default"].getInstance().getAppSwitchData().banner;if(1==t){if(this.refreshWXBanner(),Laya.Browser.onQQMiniGame&&l["default"].GetIp_ppxhc_Blocked()){for(var n=s["default"].getLaunchOptionsSync().scene,i=!0,a=o["default"].getInstance().getAppSwitchData().wudianSceneList,r=0;r<a.length;++r){var c=a[r];n==c&&(i=!1)}if(i){var h=o["default"].getInstance().getAppSwitchData().bannerRecreateTime;Laya.timer.loop(1e3*h,this,this.refreshWXBanner)}}}else if(this.refreshBanner(),Laya.Browser.onQQMiniGame&&l["default"].GetIp_ppxhc_Blocked()){for(var n=s["default"].getLaunchOptionsSync().scene,i=!0,a=o["default"].getInstance().getAppSwitchData().wudianSceneList,r=0;r<a.length;++r){var c=a[r];n==c&&(i=!1)}if(i){var h=o["default"].getInstance().getAppSwitchData().bannerRecreateTime;Laya.timer.loop(1e3*h,this,this.refreshWXBanner)}}}},t.prototype.refreshBanner=function(){var t=this;null!=this.Sprite&&this.Sprite.visible&&(this._isCreating_ppxhc_||this._isDestroyed_ppxhc_||(this._isCreating_ppxhc_=!0,e.prototype.refresh_ppxhc.call(this,function(){if(null!=t._data){var e=t;t.Sprite.loadImage(t._data.logo,Laya.Handler.create(t,function(){null==e.Sprite||e.Sprite.destroyed||(e.Sprite.width=600,e.Sprite.height=205)}))}t._isCreating_ppxhc_=!1})))},t.prototype.refreshWXBanner=function(){if(!Laya.Browser.onMiniGame&&!Laya.Browser.onQQMiniGame||null==this.Sprite||this.Sprite.destroyed||!this.Sprite.visible)return Laya.timer.clearAll(this),void this.clearWXBaner();if(!(this._isCreating_ppxhc_||this._isDestroyed_ppxhc_||this._isHide_ppxhc_)){this.clearWXBaner();var e=this,t=null;Laya.Browser.onMiniGame?t=Laya.Browser.window.wx.getSystemInfoSync():Laya.Browser.onQQMiniGame&&(t=Laya.Browser.window.qq.getSystemInfoSync());var n=t.screenWidth,i=t.screenHeight,r=this.Sprite.localToGlobal(new Laya.Point(0,0)),l=300,c=e.Sprite.width/Laya.stage.width,h=n*c,p=(h-l)/2,u=r.x/Laya.stage.width*n+p,d=r.y/Laya.stage.height*i;if(Laya.Browser.onMiniGame){e._isCreating_ppxhc_=!0;var _=o["default"].getInstance().getAppSwitchData().recreateBannerIDList,f=_[Math.floor(Math.random()*_.length)];null==f&&(f=a["default"].bannerAdUnitId),this._wxBanner_ppxhc_=Laya.Browser.window.wx.createBannerAd({adUnitId:f,adIntervals:30,style:{left:u,top:d,width:l}}),null!=e._wxBanner_ppxhc_?(e._wxBanner_ppxhc_.onLoad(function(t){return console.log("KRQ  WXBanner广告 加载完成 : ",f),console.log(t),e._isCreating_ppxhc_=!1,e._isDestroyed_ppxhc_||null==e._wxBanner_ppxhc_||e._isHide_ppxhc_?void e.clearWXBaner():void e._wxBanner_ppxhc_.show()}),e._wxBanner_ppxhc_.onError(function(t){console.log("KRQ WXBanner广告 加载失败 : ",f),console.log(t),e._isCreating_ppxhc_=!1,e.clearWXBaner(),e._isDestroyed_ppxhc_||e._isHide_ppxhc_||e.refreshBanner()}),e._wxBanner_ppxhc_.onResize(function(e){})):e.refreshBanner()}else if(Laya.Browser.onQQMiniGame){e._isCreating_ppxhc_=!0;var _=o["default"].getInstance().getAppSwitchData().recreateBannerIDList,g=_[Math.floor(Math.random()*_.length)];null==g&&(g=s["default"].bannerAdUnitId),e._wxBanner_ppxhc_=Laya.Browser.window.qq.createBannerAd({adUnitId:g,adIntervals:30,style:{left:u,top:d,width:l}}),null!=e._wxBanner_ppxhc_?(e._onLoad_ppxhc_=function(t){return console.log("KRQ QQBanner广告 加载完成 : ",g),console.log(t),e._isCreating_ppxhc_=!1,e._isDestroyed_ppxhc_||null==e._wxBanner_ppxhc_||e._isHide_ppxhc_?void e.clearWXBaner():void e._wxBanner_ppxhc_.show()},e._wxBanner_ppxhc_.onLoad(e._onLoad_ppxhc_),e._onError_ppxhc_=function(t){console.log("KRQ QQBanner广告 加载失败 : ",g),console.log(t),e._isCreating_ppxhc_=!1,e.clearWXBaner(),e._isDestroyed_ppxhc_||null==e._wxBanner_ppxhc_||e._isHide_ppxhc_||e.refreshBanner()},e._wxBanner_ppxhc_.onError(e._onError_ppxhc_),e._onResize_ppxhc_=function(e){},e._wxBanner_ppxhc_.onResize(e._onResize_ppxhc_)):e.refreshBanner()}}},t.prototype.clearWXBaner=function(){this._wxBanner_ppxhc_&&(this._wxBanner_ppxhc_.hide(),this._wxBanner_ppxhc_.offLoad(this._onLoad_ppxhc_),this._wxBanner_ppxhc_.offError(this._onError_ppxhc_),this._wxBanner_ppxhc_.offResize(this._onResize_ppxhc_),this._wxBanner_ppxhc_.destroy()),this._wxBanner_ppxhc_=null},t.prototype.onViewShow=function(){this._isHide_ppxhc_=!1;var e=o["default"].getInstance().getAppSwitchData().banner;if(1==e){if(null==this._wxBanner_ppxhc_&&(this.refreshWXBanner(),Laya.Browser.onQQMiniGame&&l["default"].GetIp_ppxhc_Blocked())){for(var t=s["default"].getLaunchOptionsSync().scene,n=!0,i=o["default"].getInstance().getAppSwitchData().wudianSceneList,a=0;a<i.length;++a){var r=i[a];t==r&&(n=!1)}if(n){var c=o["default"].getInstance().getAppSwitchData().bannerRecreateTime;Laya.timer.loop(1e3*c,this,this.refreshWXBanner)}}}else if(this.refreshBanner(),Laya.Browser.onQQMiniGame&&l["default"].GetIp_ppxhc_Blocked()){for(var t=s["default"].getLaunchOptionsSync().scene,n=!0,i=o["default"].getInstance().getAppSwitchData().wudianSceneList,a=0;a<i.length;++a){var r=i[a];t==r&&(n=!1)}if(n){var c=o["default"].getInstance().getAppSwitchData().bannerRecreateTime;Laya.timer.loop(1e3*c,this,this.refreshWXBanner)}}},t.prototype.onViewHide=function(){this.clearWXBaner(),Laya.timer.clearAll(this),this._isHide_ppxhc_=!0},t.prototype.onDestroy=function(){this.clearWXBaner(),Laya.timer.clearAll(this),this._isDestroyed_ppxhc_=!0},t.prototype.show=function(){e.prototype.show.call(this),this.onViewShow()},t.prototype.hide=function(){e.prototype.hide.call(this),this.onViewHide()},t}(i["default"]);n["default"]=c},{"../../Config/AppSwitchConfig":5,"../../Mgr/WudianMgr":71,"../../QQMiniGameAPI":78,"../../ShareAd/ShareAd":79,"../../WXAPI":133,"./KRQ_ComBase":48}],48:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../WXAPI"),a=e("../../ShareAd/ShareAd"),o=e("../../ALD"),r=e("../../Event/EventMgr"),s=e("../../Event/EventDef"),l=e("../../OPPOAPI"),c=e("../../QQMiniGameAPI"),h=e("../../TTAPI"),p=e("../../AppConfig"),u=e("../../ShareAd/ShareAd"),d=e("../../VIVOAPI"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AdPos_ppxhc_ID=315,t._datas=[],t._data=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"Sprite",{get:function(){return this.owner},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.refresh_ppxhc=function(e){var t=this;a["default"].getADVs_(this.AdPos_ppxhc_ID,function(n){null!=n&&(t._datas=n,t._data=t._datas[Math.floor(Math.random()*n.length)],null!=e&&e())},!1)},t.prototype.navigateToMiniProgram_ppxhc=function(e){var t=null==e?this._data:e;t&&(console.log("跳转游戏： "+t.title),Laya.Browser.onMiniGame?i["default"].navigateToMiniProgram_(t.appid,t.url,function(e){console.log("跳转成功"),a["default"].reportUserClick_(t.appid),o["default"].aldSendReportAdClickSuccess(t)},function(e){console.log("跳转失败"),r["default"].instance.dispatch_(s.Event_ppxhc_Def.AD_OnShareAdFail),"navigateToMiniProgram:fail cancel"==e.errMsg&&(console.log("用户取消跳转"),o["default"].aldSendReportAdClickFail(t))},function(e){console.log("跳转完成")}):Laya.Browser.onQGMiniGame?l["default"].navigateToMiniProgram(t.appid,t.title,t.url,function(e){console.log("跳转成功"),a["default"].reportUserClick_(t.appid)},function(e){console.log("跳转失败"),r["default"].instance.dispatch_(s.Event_ppxhc_Def.AD_OnShareAdFail)},function(e){console.log("跳转完成")}):Laya.Browser.onQQMiniGame?c["default"].navigateToMiniProgram_ppxhc(t.appid,t.url,function(e){console.log("跳转成功"),a["default"].reportUserClick_(t.appid)},function(e){console.log("跳转失败"),r["default"].instance.dispatch_(s.Event_ppxhc_Def.AD_OnShareAdFail)},function(e){console.log("跳转完成")}):Laya.Browser.onVVMiniGame?d["default"].navigateToMiniProgram(t.appid,t.url,function(e){console.log("跳转成功"),u["default"].reportUserClick_(t.appid)},function(e){console.log("跳转失败"),r["default"].instance.dispatch_(s.Event_ppxhc_Def.AD_OnShareAdFail)},function(e){console.log("跳转完成")}):p["default"].onTTMiniGame_ppxhc_&&h["default"].showMoreGamesModal(function(){console.log("跳转成功"),u["default"].reportUserClick_(t.appid)},function(){console.log("跳转失败"),r["default"].instance.dispatch_(s.Event_ppxhc_Def.AD_OnShareAdFail)}))},t.prototype.show=function(){this.Sprite.visible=!0},t.prototype.hide=function(){this.Sprite.visible=!1},t.prototype.autoScroll_ppxhc_Text=function(e){if(e.overflow==Laya.Text.SCROLL){var t=!0,n=0;Laya.timer.frameLoop(1,e,function(){var i=Laya.timer.delta/1e3*10;n+=i,n>=e.textWidth/2&&(t=!t,n=0),t?e.scrollX+=i:e.scrollX-=i})}},t}(Laya.Script);n["default"]=_},{"../../ALD":1,"../../AppConfig":2,"../../Event/EventDef":7,"../../Event/EventMgr":8,"../../OPPOAPI":77,"../../QQMiniGameAPI":78,"../../ShareAd/ShareAd":79,"../../TTAPI":83,"../../VIVOAPI":86,"../../WXAPI":133}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./KRQ_Banner"),a=e("../../WXAPI"),o=e("../../QQMiniGameAPI"),r=e("../../Config/AppSwitchConfig"),s=e("../../Mgr/WudianMgr"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.refresh=function(t){var n=this,i=null;Laya.Browser.onMiniGame?i=a["default"].getLaunchOptionsSync().scene:Laya.Browser.onQQMiniGame&&(i=o["default"].getLaunchOptionsSync().scene);for(var l=!0,c=r["default"].getInstance().getAppSwitchData().wudianSceneList,h=0;h<c.length;++h){var p=c[h];i==p&&(l=!1)}var u=s["default"].GetIp_ppxhc_Blocked();if(!u||!l)return this.Sprite.visible=!1,void(null!=t&&t());var d=r["default"].getInstance().getAppSwitchData().banner;1==d?this.refreshWXBanner():e.prototype.refresh_ppxhc.call(this,function(){n.refreshBanner(),null!=t&&t()})},t}(i["default"]);n["default"]=l},{"../../Config/AppSwitchConfig":5,"../../Mgr/WudianMgr":71,"../../QQMiniGameAPI":78,"../../WXAPI":133,"./KRQ_Banner":47}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./KRQ_HistoryBox"),a=e("../KRQ_ComBase"),o=e("../../../ShareAd/ShareAd"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.OnBackBtn_ppxhc_Click=null,t._top_ppxhc_Zone=null,t._back_ppxhc_Btn=null,t._start_ppxhc_List=new Array,t}return __extends(t,e),t.prototype.onAwake=function(){this.AdPos_ppxhc_ID=o["default"].HistoryLocationID_,this._top_ppxhc_Zone=this.Sprite.getChildByName("TopZone"),this._back_ppxhc_Btn=this._top_ppxhc_Zone.getChildByName("BackBtn"),this._list=this.Sprite.getChildByName("List"),this._list.renderHandler=Laya.Handler.create(this,this.onListRender,null,!1),this._list.vScrollBarSkin=""},t.prototype.onStart=function(){this.refresh_ppxhc()},t.prototype.onEnable=function(){this._back_ppxhc_Btn.on(Laya.Event.CLICK,this,this.onBackBtn)},t.prototype.onDisable=function(){this._back_ppxhc_Btn.off(Laya.Event.CLICK,this,this.onBackBtn)},t.prototype.refresh_ppxhc=function(e){var t=this;o["default"].getADVs_(this.AdPos_ppxhc_ID,function(e){if(null!=e){t._datas=e,t._start_ppxhc_List.splice(0);for(var n=0;n<t._datas.length;++n)t._start_ppxhc_List.push(!1);for(var i=Math.floor(.33*t._start_ppxhc_List.length);i>0;){var a=Math.floor(Math.random()*t._start_ppxhc_List.length);0==t._start_ppxhc_List[a]&&(t._start_ppxhc_List[a]=!0,--i)}t._list.array=t._datas}},!1)},t.prototype.onListRender=function(e,t){var n=this._list.array[t],a=this._start_ppxhc_List[t],o=e.getComponent(i["default"]);o.setData(n,a)},t.prototype.onBackBtn=function(){this.hide(),null!=this.OnBackBtn_ppxhc_Click&&this.OnBackBtn_ppxhc_Click()},t.prototype.show=function(){e.prototype.show.call(this),this.refresh_ppxhc()},t}(a["default"]);n["default"]=r},{"../../../ShareAd/ShareAd":79,"../KRQ_ComBase":48,"./KRQ_HistoryBox":51}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../Com/KRQ_ComBase"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ppxhc_icon=null,t._ppxhc_text=null,t._ppxhc_mark=null,t}return __extends(t,e),t.prototype.onAwake=function(){this._ppxhc_icon=this.Sprite.getChildByName("Icon"),this._ppxhc_text=this.Sprite.getChildByName("Text"),this._ppxhc_text.overflow=Laya.Text.SCROLL,this._ppxhc_text.text="",this._ppxhc_mark=this.Sprite.getChildByName("Mark"),this._ppxhc_mark.visible=!1},t.prototype.onStart=function(){this.autoScroll_ppxhc_Text(this._ppxhc_text)},t.prototype.onEnable=function(){this.Sprite.on(Laya.Event.CLICK,this,this.onClickAd)},t.prototype.onDisable=function(){this.Sprite.off(Laya.Event.CLICK,this,this.onClickAd)},t.prototype.onClickAd=function(){this.navigateToMiniProgram_ppxhc()},t.prototype.setData=function(e,t){if(this._data=e,null!=this._data){var n=this;this._ppxhc_icon.loadImage(this._data.logo,Laya.Handler.create(this,function(){n._ppxhc_icon.destroyed||(n._ppxhc_icon.width=100,n._ppxhc_icon.height=100)}));var i=String(this._data.title);this._ppxhc_text.text=i,this._ppxhc_mark.visible=t}},t}(i["default"]);n["default"]=a},{"../../Com/KRQ_ComBase":48}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../KRQ_ComBase"),a=e("./KRQ_LoopAdBox"),o=e("../../../ShareAd/ShareAd"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isEnable=!0,t.useMovePause=!0,t.useLocalRandom=!0,t.useRandom=!0,t.sortDatas=null,t._scroll_ppxhc_Forward=!0,t._cell_ppxhc_Size=new Laya.Point,t}return __extends(t,e),Object.defineProperty(t.prototype,"Clip",{get:function(){return this.owner},enumerable:!0,configurable:!0}),t.prototype.onAwake=function(){this.AdPos_ppxhc_ID=o["default"].LoopAdLocationID_,this._ppxhc_list=this.owner.getChildByName("List"),this._ppxhc_list.renderHandler=Laya.Handler.create(this,this.onList_ppxhc_Render,null,!1),this._ppxhc_list.hScrollBarSkin=""},t.prototype.onStart=function(){var e=this;this._ppxhc_list.width=e.Clip.width,this._ppxhc_list.height=e.Clip.height,e.refresh_ppxhc(function(){if(null!=e._ppxhc_list.cells&&e._ppxhc_list.cells.length>0){var t=e._ppxhc_list.cells[0];e._cell_ppxhc_Size.x=t.width,e._cell_ppxhc_Size.y=t.height,e.useMovePause&&setTimeout(function(){e._ppxhc_list.scrollBar&&(e._ppxhc_list.scrollBar.value=0,e.move())},2e3)}})},t.prototype.refresh_ppxhc=function(e){if(!this.isEnable)return void(null!=e&&e());var t=this;console.log("-------------------- this.AdPosID:",this.AdPos_ppxhc_ID),o["default"].getADVs_(this.AdPos_ppxhc_ID,function(n){null!=n&&n.length>0?(console.log("-------------------- datas:",n),t._datas=n,t._ppxhc_list.array=t._datas,null==t.Sprite||t.Sprite.destroyed||(t.Sprite.visible=!0),null!=e&&e()):null==t.Sprite||t.Sprite.destroyed||(t.Sprite.visible=!1)},this.useRandom,this.useLocalRandom,this.sortDatas)},t.prototype.onList_ppxhc_Render=function(e,t){var n=this._ppxhc_list.array[t],i=e.getComponent(a["default"]);i.set_ppxhc_Data(n)},t.prototype.move=function(){var e=this._cell_ppxhc_Size.x+this._ppxhc_list.spaceX,t=0;if(this._scroll_ppxhc_Forward?t=this._ppxhc_list.scrollBar.value%e:(e*=-1,t=(this._ppxhc_list.scrollBar.max-this._ppxhc_list.scrollBar.value)%e*-1),this._ppxhc_list.scrollBar){this._ppxhc_list.scrollBar.stopScroll();var n=e;0!=t&&(n=2*e-t);var i=this;Laya.Tween.to(i._ppxhc_list.scrollBar,{value:i._ppxhc_list.scrollBar.value+n},1e3,null,Laya.Handler.create(i,function(){})),Laya.timer.once(1010,i,function(){i._ppxhc_list.scrollBar.value>=i._ppxhc_list.scrollBar.max?i._scroll_ppxhc_Forward=!1:i._ppxhc_list.scrollBar.value<=0&&(i._scroll_ppxhc_Forward=!0),Laya.timer.once(3e3,i,function(){i._ppxhc_list.scrollBar&&i.move()})})}},t.prototype.onUpdate=function(){this.useMovePause||(this._scroll_ppxhc_Forward?(this._ppxhc_list.scrollBar.value+=100*Laya.timer.delta/1e3,this._ppxhc_list.scrollBar.value>=this._ppxhc_list.scrollBar.max&&(this._scroll_ppxhc_Forward=!1)):(this._ppxhc_list.scrollBar.value-=100*Laya.timer.delta/1e3,this._ppxhc_list.scrollBar.value<=0&&(this._scroll_ppxhc_Forward=!0)))},t}(i["default"]);n["default"]=r},{"../../../ShareAd/ShareAd":79,"../KRQ_ComBase":48,"./KRQ_LoopAdBox":53}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../KRQ_ComBase"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._origin_ppxhc_W=170,t._origin_ppxhc_H=170,t}return __extends(t,e),t.prototype.onAwake=function(){this._display_ppxhc_Sp=this.owner.getChildByName("Display"),this._origin_ppxhc_W=this._display_ppxhc_Sp.width,
this._origin_ppxhc_H=this._display_ppxhc_Sp.height,this._dis_ppxhc_Text=this.owner.getChildByName("TitelText"),this._dis_ppxhc_Text.overflow=Laya.Text.SCROLL,this._dis_ppxhc_Text.text=""},t.prototype.onStart=function(){this.autoScroll_ppxhc_Text(this._dis_ppxhc_Text)},t.prototype.onEnable=function(){this.Sprite.on(Laya.Event.CLICK,this,this.onClick_ppxhc_Ad)},t.prototype.onDisable=function(){this.Sprite.off(Laya.Event.CLICK,this,this.onClick_ppxhc_Ad)},t.prototype.onClick_ppxhc_Ad=function(){this.navigateToMiniProgram_ppxhc()},t.prototype.set_ppxhc_Data=function(e){if(this._data=e,null!=this._data){var t=this;this._display_ppxhc_Sp.loadImage(this._data.logo,Laya.Handler.create(this,function(){t._display_ppxhc_Sp.destroyed||(t._display_ppxhc_Sp.width=t._origin_ppxhc_W,t._display_ppxhc_Sp.height=t._origin_ppxhc_H)}));var n=String(this._data.title);this._dis_ppxhc_Text.text=n}},t}(i["default"]);n["default"]=a},{"../KRQ_ComBase":48}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./KRQ_HLoopAd"),a=e("../../../ShareAd/ShareAd"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onAwake=function(){this.AdPos_ppxhc_ID=a["default"].LoopAdLocationID_,this._ppxhc_list=this.owner.getChildByName("List"),this._ppxhc_list.renderHandler=Laya.Handler.create(this,this.onList_ppxhc_Render,null,!1),this._ppxhc_list.vScrollBarSkin=""},t.prototype.move=function(){var e=this._cell_ppxhc_Size.y+this._ppxhc_list.spaceY,t=0;if(this._scroll_ppxhc_Forward?t=this._ppxhc_list.scrollBar.value%e:(e*=-1,t=(this._ppxhc_list.scrollBar.max-this._ppxhc_list.scrollBar.value)%e*-1),this._ppxhc_list.scrollBar){this._ppxhc_list.scrollBar.stopScroll();var n=e;0!=t&&(n=2*e-t);var i=this;Laya.Tween.to(i._ppxhc_list.scrollBar,{value:i._ppxhc_list.scrollBar.value+n},1e3,null,Laya.Handler.create(i,function(){})),Laya.timer.once(1010,i,function(){i._ppxhc_list.scrollBar.value>=i._ppxhc_list.scrollBar.max?i._scroll_ppxhc_Forward=!1:i._ppxhc_list.scrollBar.value<=0&&(i._scroll_ppxhc_Forward=!0),Laya.timer.once(3e3,i,function(){i._ppxhc_list.scrollBar&&i.move()})})}},t}(i["default"]);n["default"]=o},{"../../../ShareAd/ShareAd":79,"./KRQ_HLoopAd":52}],55:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./KRQ_SingleAd"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.play_ppxhc_Ani=function(e){var t=this;t.Sprite.rotation=0,Laya.Tween.to(t.Sprite,{rotation:20},250,Laya.Ease.linearNone,Laya.Handler.create(t,function(){Laya.Tween.to(t.Sprite,{rotation:0},250,Laya.Ease.linearNone,Laya.Handler.create(t,function(){t.Sprite.rotation=0,null!=e&&e()}))}))},t}(i["default"]);n["default"]=a},{"./KRQ_SingleAd":57}],56:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./KRQ_SingleAd"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._origin_ppxhc_X=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._origin_ppxhc_X=this.Sprite.x,this.Sprite.x-=Laya.stage.width},t.prototype.play_ppxhc_Ani=function(e){var t=this,n=this._origin_ppxhc_X,i=n-Laya.stage.width;this.Sprite.x=i,Laya.Tween.to(this.Sprite,{rotation:360},500,Laya.Ease.linearNone,Laya.Handler.create(this,function(){t.Sprite.rotation=0})),Laya.Tween.to(this.Sprite,{x:n},500,Laya.Ease.linearNone,Laya.Handler.create(this,function(){t.Sprite.x=n,null!=e&&e()}))},t}(i["default"]);n["default"]=a},{"./KRQ_SingleAd":57}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./KRQ_ComBase"),a=e("../../ShareAd/ShareAd"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._originW=300,t._originH=300,t}return __extends(t,e),t.prototype.onAwake=function(){this.AdPos_ppxhc_ID=a["default"].LoopAdLocationID_,this._display=this.Sprite.getChildByName("Display"),this._text=this.Sprite.getChildByName("Text"),this._text.overflow=Laya.Text.SCROLL,this._text.text=""},t.prototype.onEnable=function(){this.Sprite.on(Laya.Event.CLICK,this,this.onClickAd)},t.prototype.onDisable=function(){this.Sprite.off(Laya.Event.CLICK,this,this.onClickAd)},t.prototype.onStart=function(){this.autoScroll_ppxhc_Text(this._text),this.refresh_ppxhc()},t.prototype.refresh_ppxhc=function(e){var n=this;a["default"].getADVs_(this.AdPos_ppxhc_ID,function(i){if(null!=i){if(n._datas=i,n.Sprite&&!n.Sprite.destroyed){for(var a=0;a<n._datas.length;++a){for(var o=!1,r=n._datas[a],s=0;s<t._repeatCheckList.length;++s){var l=t._repeatCheckList[s];if(l==r.appid){o=!0;break}}if(!o){n.clearRepeat(),n._data=r;break}}if(null==n._data&&(n._data=n._datas[Math.floor(Math.random()*i.length)]),null!=n._data){n._display.loadImage(n._data.logo,Laya.Handler.create(n,function(){null==n.Sprite||n.Sprite.destroy||(n.Sprite.visible=!0,e&&e())}));var c=n._data.title;n._text.text=c;for(var h=!1,s=0;s<t._repeatCheckList.length;++s){var l=t._repeatCheckList[s];if(l==n._data.appid){h=!0;break}}h||t._repeatCheckList.push(n._data.appid)}else null==n.Sprite||n.Sprite.destroy||(n.Sprite.visible=!1),e&&e()}}else n.Sprite.visible=!1,e&&e()})},t.prototype.hide=function(){this.Sprite.visible=!1,this.clearRepeat()},t.prototype.clearRepeat=function(){if(null!=this._data)for(var e=0;e<t._repeatCheckList.length;++e){var n=t._repeatCheckList[e];if(n==this._data.appid){t._repeatCheckList.splice(e,1);break}}},t.prototype.onClickAd=function(){this.navigateToMiniProgram_ppxhc(),this.refresh_ppxhc()},t.prototype.onDestroy=function(){this.clearRepeat()},t._repeatCheckList=new Array,t}(i["default"]);n["default"]=o},{"../../ShareAd/ShareAd":79,"./KRQ_ComBase":48}],58:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./KRQ_ViewComBase"),a=e("../../Utilit"),o=e("../Com/KRQ_History/KRQ_History"),r=e("../Com/KRQ_Banner"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onContinueBtnClick=null,t._topZone=null,t._backBtn=null,t._centerZone=null,t._continueBtn=null,t._krqHistory=null,t._krqBanner=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"BackBtn",{get:function(){return null==this._backBtn&&(this._backBtn=this.Sprite.getChildByName("TopZone").getChildByName("BackBtn")),this._backBtn},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ContinueBtn",{get:function(){return null==this._continueBtn&&(this._continueBtn=this.Sprite.getChildByName("CenterZone").getChildByName("ContinueBtn")),this._continueBtn},enumerable:!0,configurable:!0}),t.prototype.onAwake=function(){this._topZone=this.Sprite.getChildByName("TopZone"),a["default"].isIphoneX_()&&(this._topZone.top=this._topZone.top+75),this._backBtn=this._topZone.getChildByName("BackBtn"),this._centerZone=this.Sprite.getChildByName("CenterZone"),a["default"].isIphoneX_()&&(this._centerZone.top=this._centerZone.top+75),this._continueBtn=this._centerZone.getChildByName("ContinueBtn"),this._krqHistory=this.owner.getChildByName("KRQ_History").getComponent(o["default"]),this._krqBanner=this.owner.getChildByName("KRQ_Banner").getComponent(r["default"]);var e=this;this._krqHistory.OnBackBtn_ppxhc_Click=function(){e._krqBanner.show()}},t.prototype.onEnable=function(){this._backBtn.on(Laya.Event.CLICK,this,this.onBackBtn),this._continueBtn.on(Laya.Event.CLICK,this,this.onContinueBtn)},t.prototype.onDisable=function(){this._backBtn.off(Laya.Event.CLICK,this,this.onBackBtn),this._continueBtn.off(Laya.Event.CLICK,this,this.onContinueBtn)},t.prototype.onBackBtn=function(){this._krqHistory.show(),this._krqBanner.hide()},t.prototype.onContinueBtn=function(){null!=this.onContinueBtnClick&&this.onContinueBtnClick()},t}(i["default"]);n["default"]=s},{"../../Utilit":85,"../Com/KRQ_Banner":47,"../Com/KRQ_History/KRQ_History":50,"./KRQ_ViewComBase":63}],59:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./KRQ_ViewComBase"),a=e("../Com/KRQ_RockSingleAd"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerZone=null,t._rockSingleAds=new Array,t._aniSpaceing=3e3,t}return __extends(t,e),t.prototype.onAwake=function(){this._centerZone=this.Sprite.getChildByName("CenterZone");for(var e=0;e<this._centerZone.numChildren;++e){var t=this._centerZone.getChildAt(e);if(t.visible){var n=t.getComponent(a["default"]);this._rockSingleAds.push(n)}}},t.prototype.onStart=function(){var e=this;e.playAni(),Laya.timer.loop(this._rockSingleAds.length*(this._aniSpaceing+500),this,function(){e.playAni(function(){e.refreshAd()})})},t.prototype.refreshAd=function(){for(var e=0;e<this._rockSingleAds.length;++e){var t=this._rockSingleAds[e];null==t.Data&&(t.Sprite.visible=!1),t.refresh_ppxhc()}},t.prototype.playAni=function(e){for(var t=this._rockSingleAds.length,n=function(n){var a=n,o=i._rockSingleAds[a];Laya.timer.once(i._aniSpaceing*n,o,function(){a==t-1?o.play_ppxhc_Ani(e):o.play_ppxhc_Ani()})},i=this,a=0;a<this._rockSingleAds.length;++a)n(a)},t}(i["default"]);n["default"]=o},{"../Com/KRQ_RockSingleAd":55,"./KRQ_ViewComBase":63}],60:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./KRQ_ViewComBase"),a=e("../Com/KRQ_RollSingleAd"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerZone=null,t._rollSingleAds=new Array,t}return __extends(t,e),t.prototype.onAwake=function(){this._centerZone=this.Sprite.getChildByName("CenterZone");for(var e=0;e<this._centerZone.numChildren;++e){var t=this._centerZone.getChildAt(e).getComponent(a["default"]);this._rollSingleAds.push(t)}},t.prototype.onStart=function(){for(var e=function(e){var n=t._rollSingleAds[e];Laya.timer.once(150*(t._rollSingleAds.length-e),t,function(){n.play_ppxhc_Ani()})},t=this,n=0;n<this._rollSingleAds.length;++n)e(n)},t}(i["default"]);n["default"]=o},{"../Com/KRQ_RollSingleAd":56,"./KRQ_ViewComBase":63}],61:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,a=e("../Com/KRQ_Banner"),o=e("./KRQ_ViewComBase"),r=e("../Com/KRQ_History/KRQ_History"),s=e("../Com/KRQ_LoopAd/KRQ_HLoopAd"),l=e("../../Utilit"),c=e("../../Mgr/ViewMgr"),h=e("../../Utilit");!function(e){e[e.Normal=0]="Normal",e[e.NoLoopAd=1]="NoLoopAd",e[e.NoBannerAd=2]="NoBannerAd"}(i=n.KRQ_MainState||(n.KRQ_MainState={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._topZone=null,t._historyBtn=null,t._krqLoopAd=null,t._bottomZone=null,t._krqBanner=null,t._krqHistory=null,t}return __extends(t,e),t.prototype.onAwake=function(){this._topZone=this.Sprite.getChildByName("TopZone"),this._historyBtn=this._topZone.getChildByName("HistoryBtn"),this._historyBtn.visible=!1,h["default"].isIphoneX_()&&(this._topZone.top=this._topZone.top+75),this._krqLoopAd=this.Sprite.getChildByName("KRQ_HLoopAd").getComponent(s["default"]),this._krqBanner=this.Sprite.getChildByName("KRQ_Banner").getComponent(a["default"]),this._krqHistory=this.Sprite.getChildByName("KRQ_History").getComponent(r["default"]);var e=this,t=Laya.stage.width/Laya.stage.height;this._krqHistory.OnBackBtn_ppxhc_Click=function(){.5>t&&e._krqBanner.show()},this._krqLoopAd.Sprite.visible=!1,.5>t?(this._krqLoopAd.Clip.top=100,l["default"].isIphoneX_()&&(this._krqLoopAd.Clip.top=this._krqLoopAd.Clip.top+75),this._krqBanner.Sprite.visible=!0):(this._krqLoopAd.Clip.top=Laya.stage.height-280,this._krqBanner.Sprite.visible=!1)},t.prototype.switchState=function(e){if(e==i.Normal){var t=Laya.stage.width/Laya.stage.height;.5>t?(this._krqLoopAd.Clip.top=100,l["default"].isIphoneX_()&&(this._krqLoopAd.Clip.top=this._krqLoopAd.Clip.top+75),this._krqBanner.Sprite.visible=!0):(this._krqLoopAd.Clip.top=Laya.stage.height-280,this._krqBanner.Sprite.visible=!1)}else e==i.NoLoopAd?(this._krqLoopAd.isEnable=!1,this._krqLoopAd.Sprite.visible=!1,this._krqBanner.Sprite.visible=!0):e==i.NoBannerAd&&(this._krqLoopAd.Clip.top=Laya.stage.height-280,this._krqBanner.AdPos_ppxhc_ID=-1,this._krqBanner.Sprite.visible=!1)},t.prototype.onEnable=function(){this._historyBtn.on(Laya.Event.CLICK,this,this.onHistoryBtn)},t.prototype.onDisable=function(){this._historyBtn.off(Laya.Event.CLICK,this,this.onHistoryBtn)},t.prototype.onHistoryBtn=function(){c["default"].instance.openView(c.View_ppxhc_Def.GameHistory)},t}(o["default"]);n["default"]=p},{"../../Mgr/ViewMgr":69,"../../Utilit":85,"../Com/KRQ_Banner":47,"../Com/KRQ_History/KRQ_History":50,"../Com/KRQ_LoopAd/KRQ_HLoopAd":52,"./KRQ_ViewComBase":63}],62:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./KRQ_ViewComBase"),a=e("../Com/KRQ_LoopAd/KRQ_VLoopAd"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._krqVLoopAd=null,t._pullBtn=null,t}return __extends(t,e),t.prototype.onAwake=function(){this._krqVLoopAd=this.Sprite.getChildByName("KRQ_VLoopAd").getComponent(a["default"]),this._pullBtn=this._krqVLoopAd.Sprite.getChildByName("PullBtn"),this._krqVLoopAd.Sprite.x=-this._krqVLoopAd.Sprite.width},t.prototype.onEnable=function(){this._pullBtn.on(Laya.Event.CLICK,this,this.onPullBtn)},t.prototype.onDisable=function(){this._pullBtn.off(Laya.Event.CLICK,this,this.onPullBtn)},t.prototype.onPullBtn=function(){this._krqVLoopAd.Sprite.x<0?this.pull():this.push()},t.prototype.pull=function(){Laya.Tween.to(this._krqVLoopAd.Sprite,{x:0},200,Laya.Ease.linearNone,null,0,!0)},t.prototype.push=function(){Laya.Tween.to(this._krqVLoopAd.Sprite,{x:-this._krqVLoopAd.Sprite.width},200,Laya.Ease.linearNone,null,0,!0)},t.prototype.onShareAdFail=function(){this.pull()},t}(i["default"]);n["default"]=o},{"../Com/KRQ_LoopAd/KRQ_VLoopAd":54,"./KRQ_ViewComBase":63}],63:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onShow=null,t.onHide=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"Sprite",{get:function(){return this.owner},enumerable:!0,configurable:!0}),t.prototype.show=function(){this.Sprite.visible=!0,null!=this.onShow&&this.onShow()},t.prototype.hide=function(){this.Sprite.visible=!1,null!=this.onHide&&this.onHide()},t}(Laya.Script);n["default"]=i},{}],64:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Net/HttpUnit"),a=e("../AppConfig"),o=e("../WXAPI"),r=e("../User/User"),s=e("../OPPOAPI"),l=function(){function e(){}return e.request_ppxhc_=function(t){t.url.indexOf("https://")>-1||t.url.indexOf("http://")>-1?t.url=t.url:t.url=e.main_ppxhc_Url+t.url;var n=function(n){console.log(n,"MaiLiang http Success"),n=JSON.parse(n),"200"==n.Status?(null!=n.Result.OpenId&&""!=n.Result.OpenId?(e.MaiLiangOpenId=n.Result.OpenId,e.time=t.data.posttime,console.log("获得买量系统OpenId "+e.MaiLiangOpenId)):console.log("上报买量系统停留时间成功"),t.onSuccess&&t.onSuccess(n)):t.onFail&&t.onFail(n),t.onSuccess=null,t=null},i=function(e){console.log(e,"MaiLiang http fail"),t.onFail&&t.onFail(e),t.onFail=null,t=null},a=new Laya.HttpRequest;if(a.once(Laya.Event.COMPLETE,this,n),a.once(Laya.Event.ERROR,this,i),"get"==t.meth){for(var o="",r=0,s=Object.keys(t.data);r<s.length;r++){var l=s[r],c=t.data[l];o+=l+"="+c+"&"}t.url=t.url+"?"+o,a.send(t.url,null,t.meth)}else{for(var o="",h=0,p=Object.keys(t.data);h<p.length;h++){var l=p[h],c=t.data[l];o+=l+"="+c+"&"}a.send(t.url,o,t.meth,null,["Content-Type","application/x-www-form-urlencoded"])}},e.GetMaiLiangOpen_ppxhc_Id=function(t,n){if(Laya.Browser.onMiniGame){var l=o["default"].getLaunchOptionsSync();if(null!=l){var c=l.query.key;if(null!=c&&""!=c&&""!=r["default"].openId){e.key=c;var h=new i.request_ppxhc_Data;h.url=e.uclick,h.onSuccess=t,h.onFail=n,h.data.appid=a["default"].App_ppxhc_ID,h.data.openid="";var p=(new Date).getTime()/1e3;h.data.posttime=p,h.data.auth=0,h.data.key=c,h.data.wxopenid=r["default"].openId,h.meth="POST",console.log("发送买量数据接口"),e.request_ppxhc_(h)}}else console.log("上报买量数据失败"),n(null)}else if(Laya.Browser.onQGMiniGame){var l=s["default"].getLaunchOptionsSync();i["default"].reportImport(l.referrerInfo["package"],l.referrerInfo.extraData.appid,function(e){1==e.code?console.log("OPPO 上报买量数据成功"):console.log("OPPO 上报买量数据失败",e.msg)},function(e){console.log("OPPO 上报买量数据失败");for(var t in e)console.log(t,e[t])})}else console.log("不在微信模式下调用，默认上报买量数据失败"),n(null)},e.ReportStay_ppxhc_Time=function(t,n){if(Laya.Browser.onMiniGame){if(""!=e.MaiLiangOpenId){var o=new i.request_ppxhc_Data;o.url=e.stay,o.onSuccess=t,o.onFail=n,o.data.appid=a["default"].App_ppxhc_ID,o.data.openid=e.MaiLiangOpenId;var r=(new Date).getTime()/1e3;o.data.posttime=r;var s=0!=e.time?r-e.time:0;o.data.time=s,o.meth="POST",console.log("发送停留时间至买量接口"),e.request_ppxhc_(o)}}else console.log("不在微信模式下调用，默认发送停留时间至买量接口失败"),n(null)},e.main_ppxhc_Url="https://swtj.mrkzx.cn",e.uclick="/v1.1/api/Activity/uclick.html",e.stay="/v1.1/api/Activity/stay.html",e.key="",e.MaiLiangOpenId="",e.time=0,e}();n["default"]=l},{"../AppConfig":2,"../Net/HttpUnit":74,"../OPPOAPI":77,"../User/User":84,"../WXAPI":133}],65:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./GameConfig"),a=e("./User/User"),o=e("./ui/layaMaxUI"),r=e("./View/LoadingView/LoadingView"),s=e("./Net/HttpUnit"),l=e("./WXAPI"),c=e("./AppConfig"),h=e("./Event/EventMgr"),p=e("./Event/EventDef"),u=e("./OPPOAPI"),d=e("./QQMiniGameAPI"),_=e("./TTAPI"),f=e("./ALD"),g=e("./VIVOAPI"),y=e("./NativeCallback"),m=function(){function e(){this._loadingUI=null,this._loadingView=null,this._preLoadRes=new Array,this._subResPackages=new Array,window.Laya3D?Laya3D.init(i["default"].width,i["default"].height):Laya.init(i["default"].width,i["default"].height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=i["default"].scaleMode,Laya.stage.screenMode=i["default"].screenMode,Laya.URL.exportSceneToJson=i["default"].exportSceneToJson,(i["default"].debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),i["default"].physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),i["default"].stat&&Laya.Stat.show(),Laya.alertGlobalError=!0,1==c["default"].onTTMiniGame_ppxhc_&&(Laya.Browser.onMiniGame=!1),Laya.Browser.onMiniGame||Laya.Browser.onQGMiniGame||Laya.Browser.onQQMiniGame||c["default"].onTTMiniGame_ppxhc_||(c["default"].Res_ppxhc_Server=c["default"].Local_ppxhc_TestReServer),Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}return e.prototype.onVersionLoaded=function(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))},e.prototype.onConfigLoaded=function(){Laya.loader.maxLoader=50,this.initLoadingView();var e=[{url:c["default"].Res_ppxhc_Server+"/json/appswitch.json",type:Laya.Loader.JSON}],t=this;Laya.loader.load(e,Laya.Handler.create(this,function(){t.loadRes()})),h["default"].instance.regOnceEvent_(p.Event_ppxhc_Def.App_CloseFirstLoadingView,this,this.closeloadingUI)},e.prototype.initLoadingView=function(){this._loadingUI=new o.ui.View.LoadingUI,Laya.stage.addChild(this._loadingUI),this._loadingUI.width=Laya.stage.width,this._loadingUI.height=Laya.stage.height,this._loadingView=this._loadingUI.getComponent(r["default"]),this._loadingView.setProcess(0)},e.prototype.postResToOpenDataContext=function(e){Laya.Browser.onMiniGame?(console.log("开始透传资源数据到开放域"),Laya.loader.load(["openRes/Rank.atlas"],Laya.Handler.create(null,function(){Laya.MiniAdpter.sendAtlasToOpenDataContext("openRes/Rank.atlas"),console.log("透传资源数据到开放域  完毕！！！"),e&&e()}))):e&&e()},e.prototype.preLoad=function(){this._preLoadRes.push({url:c["default"].Res_ppxhc_Server+"/json/storeconfig.json",type:Laya.Loader.JSON}),this._subResPackages.push({name:"subRes"},{name:"subRes2"})},e.prototype.loadRes=function(){function e(){i.length>0?Laya.loader.load(i,Laya.Handler.create(this,function(){o.onLoadResComplate()}),Laya.Handler.create(this,function(e){o._loadingView.setProcess(e/2+.5)})):o.onLoadResComplate()}function t(e,t,n){var i={};return i.name=e.name,i.success=function(){t(),e.success&&e.success()},i.fail=function(){n(),e.fail&&e.fail()},Laya.Browser.onMiniGame?Laya.Browser.window.wx.loadSubpackage(i):Laya.Browser.onQGMiniGame?Laya.Browser.window.qg.loadSubpackage(i):Laya.Browser.onQQMiniGame?Laya.Browser.window.qq.loadSubpackage(i):void 0}function n(){if(0==a.length)return void e();var i=a.shift(),l=t(i,function(){console.log("分包加载成功：",i.name),r++,n()},function(){console.log("分包加载失败重新加载：",i.name),a.unshift(i),n()});l.onProgressUpdate(function(e){var t=Number(e.progress)/100+r;o._loadingView.setProcess(t/s/2)})}this.preLoad();var i=this._preLoadRes,a=[].concat(this._subResPackages),o=this;if(!Laya.Browser.onMiniGame&&!Laya.Browser.onQGMiniGame&&!Laya.Browser.onQQMiniGame)return void e();var r=0,s=a.length;n()},e.prototype.onLoadResComplate=function(){var e=this;if(this._loadingView.setProcess(1),Laya.Browser.onMiniGame)l["default"].wxLogin_(function(e){var t=this;a["default"].code=e,s["default"].login(function(e){1==e.code?(console.log("登陆成功！！！"),a["default"].token=e.data.token,a["default"].openId=e.data.openid,f["default"].aldSendOpenId(a["default"].openId),s["default"].getGameData(function(e){console.log("获取用户数据成功！！！"),1==e.code?a["default"].initiUser(e.data):a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(t,function(){}))},function(e){console.log("获取用户数据失败！！！"),a["default"].token="",a["default"].openId="",a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(t,function(){}))})):(console.log("登陆失败！！！"+e),a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(t,function(){})))},function(e){console.log("登陆失败！！！"+e),a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(t,function(){}))})},null);else if(Laya.Browser.onQGMiniGame)u["default"].initAdService(function(){},function(){},function(){}),u["default"].Login(function(e){var t=this;a["default"].code=e,s["default"].login(function(e){1==e.code?(console.log("登陆成功！！！"),a["default"].token=e.data.token,a["default"].openId=e.data.openid,s["default"].getGameData(function(e){if(console.log("获取用户数据成功！！！"),1==e.code){a["default"].initiUser(e.data),console.log("获取用户数据--------------------Start");for(var n in e.data)console.log(n,e.data[n]);console.log("获取用户数据--------------------End")}else a["default"].initiUser(null);i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(t,function(){}))},function(e){console.log("获取用户数据失败！！！"),a["default"].token="",a["default"].openId="",a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(t,function(){}))})):(console.log("登陆失败！！！",e),a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(t,function(){})))},function(e){console.log("登陆失败！！！",e),a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(t,function(){}))})},null);else if(Laya.Browser.onQQMiniGame)d["default"].Login(function(e){var t=this;a["default"].code=e,s["default"].login(function(e){1==e.code?(console.log("登陆成功！！！"),a["default"].token=e.data.token,a["default"].openId=e.data.openid,f["default"].aldSendOpenId(a["default"].openId),s["default"].getGameData(function(e){console.log("获取用户数据成功！！！"),1==e.code?a["default"].initiUser(e.data):a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(t,function(){}))},function(e){console.log("获取用户数据失败！！！"),a["default"].token="",a["default"].openId="",a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(t,function(){}))})):(console.log("登陆失败！！！"+e),a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(t,function(){})))},function(e){console.log("登陆失败！！！"+e),a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(t,function(){}))})},null);else if(c["default"].onTTMiniGame_ppxhc_)_["default"].ttLogin(function(e){var t=this;a["default"].code=e,s["default"].login(function(e){1==e.code?(console.log("登陆成功！！！"),a["default"].token=e.data.token,a["default"].openId=e.data.openid,s["default"].getGameData(function(e){console.log("获取用户数据成功！！！"),1==e.code?a["default"].initiUser(e.data):a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(t,function(){}))},function(e){console.log("获取用户数据失败！！！"),a["default"].token="",a["default"].openId="",a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(t,function(){}))})):(console.log("登陆失败！！！"+e),a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(t,function(){})))},function(e){console.log("登陆失败！！！"+e),a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(t,function(){}))})},function(){a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(e,function(){}))});else if(Laya.Browser.onVVMiniGame){var t=function(){g["default"].Login(function(e,t){n(e)},function(){r()})},n=function(t){a["default"].code=t,s["default"].login(function(t){1==t.code?(console.log("登陆成功！！！"),a["default"].token=t.data.token,a["default"].openId=t.data.openid,s["default"].getGameData(function(t){if(console.log("获取用户数据成功！！！"),1==t.code){a["default"].initiUser(t.data),console.log("获取用户数据--------------------Start");for(var n in t.data)console.log(n,t.data[n]);console.log("获取用户数据--------------------End")}else a["default"].initiUser(null);i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(e,function(){}))},function(t){console.log("获取用户数据失败！！！"),a["default"].token="",a["default"].openId="",a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(e,function(){}))})):(console.log("登陆失败！！！",t),a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(e,function(){})))},function(t){console.log("登陆失败！！！",t),a["default"].initiUser(null),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(e,function(){}))})},o=0,r=function(){return o>=1?(console.log("vivo 登陆失败！！！重试次数已达上限"),a["default"].initiUser(null),void(i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(e,function(){})))):void g["default"].showDialog("提示","登录失败，点击确定按钮重试",[{text:"确定",color:"#33dd44"}],function(){t(),++o},function(){},function(){})};t()}else a["default"].testInitUser(),i["default"].startScene&&Laya.Scene.open(i["default"].startScene,!1,Laya.Handler.create(this,function(){}))},e.prototype.closeloadingUI=function(){this._loadingUI&&!this._loadingUI.destroyed&&this._loadingUI.destroy()},e}();new m,Laya.Browser.window&&(Laya.Browser.window.NativeCallback=y["default"])},{"./ALD":1,"./AppConfig":2,"./Event/EventDef":7,"./Event/EventMgr":8,"./GameConfig":9,"./NativeCallback":72,"./Net/HttpUnit":74,"./OPPOAPI":77,"./QQMiniGameAPI":78,"./TTAPI":83,"./User/User":84,"./VIVOAPI":86,"./View/LoadingView/LoadingView":93,"./WXAPI":133,"./ui/layaMaxUI":134}],66:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./ViewMgr"),a=e("../User/User"),o=e("../Net/HttpUnit"),r=e("../MaiLiangAPI/MaiLiang"),s=e("../Event/EventMgr"),l=e("../Event/EventDef"),c=e("../WXAPI"),h=e("./WudianMgr"),p=e("../ALD"),u=e("../QQMiniGameAPI"),d=e("./WXADMgr"),_=e("../CachedQQBannerAd"),f=e("../Game/Game"),g=function(e){function t(){var n=e.call(this)||this;return t._instance_=n,n}return __extends(t,e),t.getInstance=function(){return t._instance_},t.prototype.onAwake=function(){r["default"].GetMaiLiangOpen_ppxhc_Id(function(e){console.log("GameUI 买量数据上报成功"),Laya.Browser.window.wx.onShow(function(){r["default"].GetMaiLiangOpen_ppxhc_Id(null,null)}),Laya.Browser.window.wx.onHide(function(){r["default"].ReportStay_ppxhc_Time(null,null)})},function(e){console.log("GameUI 买量数据上报失败")}),c["default"].SetShareMenu("","",function(){},function(){},function(){}),h["default"].UpdateIpBlock_ppxhc_State(),this.report_ppxhc_LaunchOptions(),Laya.Browser.onMiniGame?d["default"].init():Laya.Browser.onQQMiniGame?(_["default"].preloadBanner(),u["default"].LoadAppBoxAd(function(){},function(){})):Laya.Browser.onQGMiniGame&&null!=Laya.Browser.window.qg.reportMonitor&&"function"==typeof Laya.Browser.window.qg.reportMonitor&&Laya.Browser.window.qg.reportMonitor("game_scene",0)},t.prototype.onStart=function(){this.pre_ppxhc_CreateGame()},t.prototype.pre_ppxhc_CreateGame=function(){var e="https://oss.renyouwangluo.cn/ppxhc/Conventional";Laya.URL.customFormat=function(t){return-1==t.indexOf(".lh")&&t.indexOf(e)>-1?t=t.replace(e,"subRes/Game/LayaScene_Game/Conventional"):t},f["default"].LoadGame(this,function(){s["default"].instance.dispatch_(l.Event_ppxhc_Def.App_CloseFirstLoadingView),i["default"].instance.openView(i.View_ppxhc_Def.GameHome,{view:0})})},t.prototype.save_ppxhc_GameData=function(){localStorage.setItem("Game_Data",a["default"].getSaveData())},t.prototype.report_ppxhc_LaunchOptions=function(){o["default"].Getuserip(function(e){if(1==e.code){console.log("获取玩家ip,地区成功 ：",e.data.dqip,e.data.ipxq);var t=null;Laya.Browser.onMiniGame?t=c["default"].getLaunchOptionsSync():Laya.Browser.onQQMiniGame&&(t=u["default"].getLaunchOptionsSync()),null!=t&&p["default"].aldSendReportLaunchOptions(t.scene,e.data.dqip,e.data.ipxq)}},function(e){console.log("获取玩家ip,地区失败");var t=null;Laya.Browser.onMiniGame?t=c["default"].getLaunchOptionsSync():Laya.Browser.onQQMiniGame&&(t=u["default"].getLaunchOptionsSync()),null!=t&&p["default"].aldSendReportLaunchOptions(t.scene,"","")})},t._instance_=null,t}(Laya.Script);n["default"]=g},{"../ALD":1,"../CachedQQBannerAd":3,"../Event/EventDef":7,"../Event/EventMgr":8,"../Game/Game":17,"../MaiLiangAPI/MaiLiang":64,"../Net/HttpUnit":74,"../QQMiniGameAPI":78,"../User/User":84,"../WXAPI":133,"./ViewMgr":69,"./WXADMgr":70,"./WudianMgr":71}],67:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this._enabled=!0}return Object.defineProperty(e.prototype,"Enabled",{get:function(){return this._enabled},set:function(e){e||this.stop_ppxhc_BGM(),this._enabled=e},enumerable:!0,configurable:!0}),e.prototype.getSoundUrl=function(t){var n=e.sound_ppxhc_ResPath+t+".ogg";return n},e.prototype.play_ppxhc_Sound=function(t){if(this._enabled){var n=this.getSoundUrl(t);if(Laya.Browser.onMiniGame){var i=laya.utils.Pool.getItem(t);null==i&&(i=wx.createInnerAudioContext(),i.src=e.sound_ppxhc_ResPath+t+".ogg",i.onEnded(function(){laya.utils.Pool.recover(t,i),i.offEnded()})),i.play()}else Laya.SoundManager.playSound(n,1)}},e.prototype.play_ppxhc_BGM=function(e){if(this._enabled){var t=this.getSoundUrl(e);Laya.Browser.onMiniGame?(this.bgm||(this.bgm=wx.createInnerAudioContext()),this.bgm.pause(),this.bgm.src=t,this.bgm.loop=!0,this.bgm.play()):Laya.SoundManager.playMusic(t,0)}},e.prototype.stop_ppxhc_BGM=function(){Laya.Browser.onMiniGame?this.bgm&&this.bgm.pause():Laya.SoundManager.stopMusic()},e.sound_ppxhc_ResPath="subRes2/sounds/",e.instance_=new e,e}();n["default"]=i},{}],68:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../NativeCallback"),a=function(){function e(){}return e.vibrate_ppxhc_Short=function(){e.isEnable_&&(Laya.Browser.onMiniGame?Laya.Browser.window.wx.vibrateShort():Laya.Browser.onQGMiniGame?Laya.Browser.window.qg.vibrateShort():Laya.Browser.onQQMiniGame?Laya.Browser.window.qq.vibrateShort():i["default"].CallNativeFunc("vibrateShort"));
},e.vibrate_ppxhc_Long=function(){e.isEnable_&&(Laya.Browser.onMiniGame?Laya.Browser.window.wx.vibrateLong():Laya.Browser.onQGMiniGame?Laya.Browser.window.qg.vibrateLong():Laya.Browser.onQQMiniGame?Laya.Browser.window.qq.vibrateLong():i["default"].CallNativeFunc("vibrateLong"))},e.vibrate_ppxhc=function(t){if(e.isEnable_)if(Laya.Browser.onMiniGame){var n=t/15,i=0,a={count:n,index:i};Laya.timer.loop(16,a,function(){e.vibrate_ppxhc_Short(),i++,i>n&&Laya.timer.clearAll(a)})}else if(Laya.Browser.onQGMiniGame){var o=t/20,r=0,s={count:o,index:r};Laya.timer.loop(21,s,function(){e.vibrate_ppxhc_Short(),r++,r>o&&Laya.timer.clearAll(s)})}else if(Laya.Browser.onQQMiniGame){var l=t/20,c=0,h={count:l,index:c};Laya.timer.loop(21,h,function(){e.vibrate_ppxhc_Short(),c++,c>l&&Laya.timer.clearAll(h)})}},e.isEnable_=!0,e}();n["default"]=a},{"../NativeCallback":72}],69:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,a=e("../Config/AppSwitchConfig"),o=e("./WudianMgr");!function(e){e.None="",e.TipsView="View/TipsView.json",e.ClickGetPrize="View/ClickGetPrize.json",e.MainView="View/Template/MainViewTemplate.json",e.MiniGameView="View/Template/MiniGameViewTemplate.json",e.RewardView="View/Template/RewardViewTemplate.json",e.InGameView="View/Template/InGameViewTemplate.json",e.GameWinView="View/Template/GameWinViewTemplate.json",e.GameFailView="View/Template/GameFailViewTemplate.json",e.ExportView="View/Template/ExportViewTemplate.json",e.Export2View="View/Template/Export2ViewTemplate.json",e.Export3View="View/Template/Export3ViewTemplate.json",e.WXCrazyClick="View/Template/WXCrazyClick.json",e.OPPONativeView="View/Template/OPPONativeViewTemplate.json",e.QQCrazyClickView="View/Template/QQ/QQCrazyClick.json",e.QQCrazyClickView2="View/Template/QQ/QQCrazyClick2.json",e.TTStoreView="View/Template/TT/TTStore.json",e.TTSignInView="View/Template/TT/TTSignIn.json",e.TTRewardView="View/Template/TT/TTReward.json",e.VVNativeView1="View/Template/VV/VVNativeView1Template.json",e.VVNativeView2="View/Template/VV/VVNativeView2Template.json",e.TestGame="subRes/Views/TestGame.json",e.GameHome="subRes/Views/GameHome.json",e.GameView="subRes/Views/GameView.json",e.GameOver="subRes/Views/GameOver.json",e.GameContinue="subRes/Views/GameContinue.json",e.GameHistory="subRes/Views/GameHistory.json",e.GameSkin="subRes/Views/GameSkin.json",e.TrialSkin="subRes/Views/TrialSkin.json"}(i=n.View_ppxhc_Def||(n.View_ppxhc_Def={}));var r=function(){function e(){this._views={},this._loadingList=new Array}return e.prototype.openView=function(e,t,n){if(this._views[e]){var i=this._views[e],a=i._components,o=null;if(a)for(var r=0;r<a.length;r++){var s=a[r];if(s._viewBase){o=s,o.openView(t);break}}return void(n&&n(o))}for(var l=0;l<this._loadingList.length;++l){var c=this._loadingList[l];if(c==e)return void console.log("界面 : "+String(c)+" 正在加载中，请不要重复加载")}var h=String(e),p=this;this._loadingList.push(e),Laya.Scene.load(h,Laya.Handler.create(this,function(i){Laya.stage.addChild(i);var a=i;p._views[e]=a;var o=i._components,r=null;if(o)for(var s=0;s<o.length;s++){var l=o[s];if(l._viewBase){r=l,l._viewDef=e,r.openView(t);break}}for(var c=0;c<p._loadingList.length;++c){var h=p._loadingList[c];if(h==e){p._loadingList.splice(c,1);break}}n&&n(r)}))},e.prototype.closeView=function(e){var t=this._views[e];if(t){var n=t,i=n._components;if(i)for(var a=0;a<i.length;a++){var o=i[a];if(o._viewBase){o.onClose();break}}t.removeSelf(),t.destroy(),this._views[e]=null}},e.prototype.ShowView=function(e){var t=this._views[e];if(t){var n=t._components;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(a._viewBase){a.show();break}}}},e.prototype.hideView=function(e){var t=this._views[e];if(t){var n=t._components;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(a._viewBase){a.hide();break}}}},e.prototype.getView=function(e){return this._views[e]},e.prototype.showTips=function(e){this.openView(i.TipsView,e)},e.prototype.tryShowPopAd=function(t){1==a["default"].getInstance().getAppSwitchData().popAd&&o["default"].Wudian_ppxhc_Flag?e.instance.openView(i.Export3View,null,function(e){null!=t&&t(e)}):null!=t&&t(null)},e.instance=new e,e}();n["default"]=r},{"../Config/AppSwitchConfig":5,"./WudianMgr":71}],70:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Config/AppSwitchConfig"),a=function(){function e(e){this._id=null,this._banner=null,this._createTime=0,this._destroyed=!1,this._error=null,this._loading=!1,this._retryCount=0,this._bannerTotalShowTime=0,this._lastShowTime=0,this._id=e}return Object.defineProperty(e.prototype,"Id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Create_ppxhc_Time",{get:function(){return this._createTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReady",{get:function(){return null!=this._banner},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isError",{get:function(){return null!=this._error},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Error",{get:function(){return this._error},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Loading",{get:function(){return this._loading},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RetryCount",{get:function(){return this._retryCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BannerTotalShowTime",{get:function(){return this._bannerTotalShowTime},enumerable:!0,configurable:!0}),e.prototype.show=function(){if(this.isReady){this._banner.hide();var e=Laya.Browser.window.wx.getSystemInfoSync(),t=e.screenWidth,n=e.screenHeight,i=(new Laya.Point(0,0),300),a=t/2-i/2,o=n-130;this._banner.style.left=a,this._banner.style.top=o,this._lastShowTime=Laya.timer.currTimer,this._banner.show()}},e.prototype.hide=function(){this.isReady&&(this._banner.hide(),this._bannerTotalShowTime+=Laya.timer.currTimer-this._lastShowTime)},e.prototype.destroy=function(){return this._destroyed?void console.log("BannerAd 已经被销毁"):this._loading?void console.log("BannerAd 正在加载中，无法进行销毁"):(null!=this._banner&&this._banner.destroy(),this._banner=null,void(this._destroyed=!0))},e.prototype.retry=function(t){if(this._destroyed)return void console.log("BannerAd 已被销毁，无法重试");if(this.isReady)return void console.log("BannerAd 已创建成功，无需重试");if(this._loading)return void console.log("BannerAd 正在创建中");if(this._retryCount>=e.MAX_RETRY_COUNT)return void console.log("此 BannerAd 重试次数已达最大");var n=this;this._create(function(e){null!=t&&t(e),++n._retryCount})},e.prototype._create=function(e){if(!Laya.Browser.onMiniGame)return void(null!=e&&e(!1));var t=null;if(Laya.Browser.onMiniGame?t=Laya.Browser.window.wx.createBannerAd({adUnitId:this._id,adIntervals:30,style:{left:0,top:0,width:300}}):Laya.Browser.onQQMiniGame&&(t=Laya.Browser.window.qq.createBannerAd({adUnitId:this._id,adIntervals:30,style:{left:0,top:0,width:300}})),null!=t){var n=this;this._loading=!0,t.onLoad(function(i){console.log("BannderAd 加载完成",n._id,i),n._banner=t,n._createTime=Laya.timer.currTimer,n._loading=!1,null!=e&&e(!0)}),t.onError(function(i){console.log("BannderAd 加载失败",n._id,i),n._error=i,n._loading=!1,t.destroy(),null!=e&&e(!1)})}},e.MAX_RETRY_COUNT=3,e}();n.WXBannder_ppxhc_Ad=a;var o=function(){function e(e){this._id=null,this._gridAd=null,this._createTime=0,this._destroyed=!1,this._error=null,this._loading=!1,this._id=e}return Object.defineProperty(e.prototype,"CreateTime",{get:function(){return this._createTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReady",{get:function(){return null!=this._gridAd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isError",{get:function(){return null!=this._error},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Error",{get:function(){return this._error},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Loading",{get:function(){return this._loading},enumerable:!0,configurable:!0}),e.prototype.show=function(){this.isReady&&this._gridAd.show()},e.prototype.hide=function(){this.isReady&&this._gridAd.hide()},e.prototype.destroy=function(){return this._destroyed?void console.log("GridAD 已经被销毁"):this._loading?void console.log("GridAD 正在加载中，无法进行销毁"):(null!=this._gridAd&&this._gridAd.destroy(),this._gridAd=null,void(this._destroyed=!0))},e.prototype.retry=function(e){if(this._destroyed)return void console.log("GridAD 已被销毁，无法重试");if(this.isReady)return void console.log("GridAD 已创建成功，无需重试");if(this._loading)return void console.log("GridAD 正在创建中");this._create(function(t){null!=e&&e(t)})},e.prototype._create=function(e){if(!Laya.Browser.onMiniGame)return void(null!=e&&e(!1));var t=Laya.Browser.window.wx.createGridAd({adUnitId:this._id,adIntervals:30,style:{left:0,top:0,width:300,height:150}});if(null!=t){var n=this;this._loading=!0,t.onLoad(function(i){console.log("GridAD 加载完成",n._id,i),n._gridAd=t,n._createTime=Laya.timer.currTimer,n._loading=!1,null!=e&&e(!0)}),t.onError(function(i){console.log("GridAD 加载失败",n._id,i),n._error=i,n._loading=!1,t.destroy(),null!=e&&e(!1)})}},e}();n.WXGridAd=o;var r=function(){function e(){}return e.init=function(){if(!e._inited){for(var t=i["default"].getInstance().getAppSwitchData().wxWuDianBanners,n=0;n<t.length;++n)e._bannerIds.push(t[n]);for(var n=0;n<e._bannerIds.length;++n){e._bannerIds[n];e._bannerIds[n]=t[Math.floor(Math.random()*t.length)]}e._createBannerAd();var a=1e3*i["default"].getInstance().getAppSwitchData().bannerCreateFailNum;Laya.timer.loop(a,e,function(){e._checkBannerAd(),e._createBannerAd()}),e._inited=!0}},e.getBanner=function(t){for(var n=[],i=[],a=0;a<e._banners.length;++a){var o=e._banners[a];o.Destroyed||(o.isReady?n.push(o):i.push(o))}e._curBannerGetIndex>=n.length&&(e._curBannerGetIndex=0);var r=n[e._curBannerGetIndex];++e._curBannerGetIndex,null!=r?t(r):(r=e._createBannerAd(),null==r&&(r=e._banners[Math.floor(Math.random()*e._banners.length)]),null==r?t(null):r.retry(function(e){t(e?r:null)}))},e._createBannerAd=function(){if(e._curBannerCreateIndex>=e._bannerIds.length)return null;var t=new a(e._bannerIds[e._curBannerCreateIndex]);return e._banners.push(t),t.retry(),++e._curBannerCreateIndex,t},e._checkBannerAd=function(){for(var t=[],n=[],o=0;o<e._banners.length;++o){var r=e._banners[o];r.Destroyed||(r.isReady?t.push(r):n.push(r))}for(var o=0;o<e._banners.length;++o){var r=e._banners[o],s=i["default"].getInstance().getAppSwitchData().bannerShowTime;r.isReady?t.length>=2&&r.BannerTotalShowTime>=1e3*s&&(console.log("BannerAd 展示时间超过限制，销毁 : ",r.Id),r.destroy()):r.RetryCount>=a.MAX_RETRY_COUNT?(console.log("BannerAd 超过重试次数，销毁 : ",r.Id),r.destroy()):r.retry()}},e.getBoxAd=function(e){if(this._wxGridAd.isReady)e(this._wxGridAd);else{var t=this._wxGridAd;t.retry(function(n){e(n?t:null)})}},e._createGirdAd=function(){if(null==this._wxGridAd){var e=new o("");e.retry(),this._wxGridAd=e}},e._inited=!1,e._bannerIds=new Array,e._banners=new Array,e._curBannerCreateIndex=0,e._curBannerGetIndex=0,e._wxGridAd=null,e}();n["default"]=r},{"../Config/AppSwitchConfig":5}],71:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Net/HttpUnit"),a=e("../Config/AppSwitchConfig"),o=e("../WXAPI"),r=e("../QQMiniGameAPI"),s=e("../Event/EventMgr"),l=e("../Event/EventDef"),c=function(){function e(){}return e.IpBlock_ppxhc_Flag=function(){return e._ipBlock_ppxhc_Flag},e.UpdateIpBlock_ppxhc_State=function(){i["default"].GetIpBlock(function(t){console.log("调用IpBlock接口成功,结果为:",t),e._ipBlock_ppxhc_Flag=t.code,s["default"].instance.dispatch_(l.Event_ppxhc_Def.App_OnUpdateIpBlockState,{ipBlockFlag:e._ipBlock_ppxhc_Flag})},null)},e.GetIp_ppxhc_Blocked=function(){return 0==e._ipBlock_ppxhc_Flag},e.GetEntry_ppxhc_Scene=function(){return 1006==o["default"].getLaunchOptionsSync().scene},e.IsSwitch_ppxhc_Open=function(){var e=1==a["default"].getInstance().getAppSwitchData().wudian,t=a["default"].getInstance().getAppSwitchData().wudianTimeAvaliable;return console.log("误点Flag状态: ","总开关:",e,"打开时间",t),e&&t},Object.defineProperty(e,"Wudian_ppxhc_Flag",{get:function(){var t=1==a["default"].getInstance().getAppSwitchData().wudian,n=null;Laya.Browser.onMiniGame?n=o["default"].getLaunchOptionsSync().scene:Laya.Browser.onQQMiniGame&&(n=r["default"].getLaunchOptionsSync().scene);for(var i=!0,s=a["default"].getInstance().getAppSwitchData().wudianSceneList,l=0;l<s.length;++l){var c=s[l];n==c&&(i=!1)}var h=a["default"].getInstance().getAppSwitchData().wudianTimeAvaliable,p=0==e._ipBlock_ppxhc_Flag;return console.log("误点Flag状态: ","总开关:",t,"场景进入",i,"IP未被屏蔽",p,"打开时间",h),t&&i&&p},enumerable:!0,configurable:!0}),Object.defineProperty(e,"NoTimeWudian_ppxhc_Flag",{get:function(){var t=1==a["default"].getInstance().getAppSwitchData().wudian,n=null;Laya.Browser.onMiniGame?n=o["default"].getLaunchOptionsSync().scene:Laya.Browser.onQQMiniGame&&(n=r["default"].getLaunchOptionsSync().scene);for(var i=!0,s=a["default"].getInstance().getAppSwitchData().wudianSceneList,l=0;l<s.length;++l){var c=s[l];n==c&&(i=!1)}var h=0==e._ipBlock_ppxhc_Flag;return console.log("误点Flag状态: ","总开关:",t,"场景进入",i,"IP未被屏蔽"),t&&i&&h},enumerable:!0,configurable:!0}),e._ipBlock_ppxhc_Flag=-1,e}();n["default"]=c},{"../Config/AppSwitchConfig":5,"../Event/EventDef":7,"../Event/EventMgr":8,"../Net/HttpUnit":74,"../QQMiniGameAPI":78,"../WXAPI":133}],72:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Event/EventMgr"),a=e("./Event/EventDef"),o=function(){function e(){}return e.onVideoFail=function(){i["default"].instance.dispatch_(a.Event_ppxhc_Def.RewardVideoFail),Laya.SoundManager.muted=!1},e.onVideoSuccess=function(e){i["default"].instance.dispatch_(a.Event_ppxhc_Def.RewardVideoSuccess,e),Laya.SoundManager.muted=!1},e.onInsertVideoEnd=function(){console.debug("onInsertVideoEnd    --------- ------------ "),i["default"].instance.dispatch_(a.Event_ppxhc_Def.InsertVideoEnd),Laya.SoundManager.muted=!1},e.onPause=function(){console.debug("进入后台 静音"),Laya.SoundManager.muted=!0},e.onResume=function(){console.debug("恢复---------"),Laya.SoundManager.muted=!1},e.CallNativeFunc=function(e){if(Laya.Browser.onAndroid){var t=window.PlatformClass.createClass("demo.JSBridge");t.call(e)}else Laya.Browser.onIOS},e.ShowLog=function(e){if(console.log("输出native日志---"+e),Laya.Browser.onAndroid){var t=window.PlatformClass.createClass("demo.JSBridge");t.call("showLog",e)}else Laya.Browser.onIOS},e.NowVideoType="",e.conchIOS="Conch-ios",e.conchAndroid="Conch-android",e.os="",e}();n["default"]=o},{"./Event/EventDef":7,"./Event/EventMgr":8}],73:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./aes.js"),a=function(){function e(){}return e.encrypt_=function(t){var n=i.enc.Utf8.parse(e.KEY),a=i.enc.Utf8.parse(e.IV),o=i.AES.encrypt(t,n,{iv:a,mode:i.mode.CBC,padding:i.pad.Pkcs7});return o.toString()},e.decrypt_=function(t){var n=i.enc.Utf8.parse(e.KEY),a=i.enc.Utf8.parse(e.IV),o=i.AES.decrypt(t,n,{iv:a,padding:i.pad.Pkcs7});return o.toString(i.enc.Utf8)},e.KEY="b#63fFJ6AvkK3YT*",e.IV="J$f4DU%sNL73M&Go",e}();n["default"]=a},{"./aes.js":76}],74:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./NetConfig"),a=e("../User/User"),o=e("./AesTools"),r=e("../AppConfig"),s=function(){function e(){this.meth="post",this.url="",this.onSuccess=null,this.onFail=null,this.data={}}return e}();n.request_ppxhc_Data=s;var l=function(){function e(){}return e.request=function(t){t.url.indexOf("https://")>-1||t.url.indexOf("http://")>-1?t.url=t.url:t.url=i["default"].serverUrl+t.url;var n=function(e){console.log(e,"http Success"),t.onSuccess&&t.onSuccess(e),t.onSuccess=null,t=null},s=function(e){console.log(e,"http fail"),t.onFail&&t.onFail(e),t.onFail=null,t=null},l=new Laya.HttpRequest;l.once(Laya.Event.COMPLETE,e,n),l.once(Laya.Event.ERROR,e,s);JSON.stringify(t.data);Laya.Browser.onMiniGame||r["default"].onTTMiniGame_ppxhc_?t.data.code=a["default"].code:Laya.Browser.onQGMiniGame?t.data.oppotoken=a["default"].code:Laya.Browser.onQQMiniGame?t.data.code=a["default"].code:t.data.code=a["default"].code;var c="time="+String(Date.now()),h=["Content-Type","application/json","state",i["default"].state,"gameid",i["default"].gameid,"sign",o["default"].encrypt_(c)];a["default"].token&&(h.push("token"),h.push(a["default"].token)),l.send(t.url,JSON.stringify(t.data),t.meth,"json",h)},e.login=function(t,n){var a=new s;a.url=i["default"].Login,a.onSuccess=t,a.onFail=n,e.request(a)},e.saveGameData=function(t,n,a){var o=new s;o.url=i["default"].SaveGameData,o.data.gameData=t,o.onSuccess=n,o.onFail=a,e.request(o)},e.getGameData=function(t,n){var a=new s;a.url=i["default"].GetUser,a.onSuccess=t,a.onFail=n,e.request(a)},e.GetIpBlock=function(t,n){if(-1!=i["default"].gameid){var a=new s;a.url=i["default"].IpBlock,a.onSuccess=t,a.onFail=n,e.request(a)}},e.reportExport=function(t,n,a,o){var r=new s;r.url=i["default"].reportExport,r.data.wbappid=t,r.data.game_name=n,r.onSuccess=a,r.onFail=o,e.request(r)},e.reportImport=function(t,n,a,o){var r=new s;r.url=i["default"].reportImport,r.data.wbappid=t,r.data.channel=n,r.onSuccess=a,r.onFail=o,e.request(r)},e.Getuserip=function(t,n){var a=new s;a.url=i["default"].getuserip,a.onSuccess=t,a.onFail=n,e.request(a)},e.SignIn=function(t,n){var a=new s;a.url=i["default"].signin,a.onSuccess=t,a.onFail=n,a.data.type=1,e.request(a)},e.GetSignIn=function(t,n){var a=new s;a.url=i["default"].signin,a.onSuccess=t,a.onFail=n,a.data.type=0,e.request(a)},e}();n["default"]=l},{"../AppConfig":2,"../User/User":84,"./AesTools":73,"./NetConfig":75}],75:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.state=0,e.gameid=96,e.serverUrl="",e.Login="",e.SaveGameData="",e.GetUser="",e.IpBlock="",e.reportExport="",e.reportImport="",e.getuserip="",e.signin="",e}();n["default"]=i},{}],76:[function(e,t,n){var i=i||function(e,t){var n={},i=n.lib={},a=function(){},o=i.Base={extend:function(e){a.prototype=this;var t=new a;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},r=i.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var a=0;e>a;a++)t[i+a>>>2]|=(n[a>>>2]>>>24-8*(a%4)&255)<<24-8*((i+a)%4);else if(65535<n.length)for(a=0;e>a;a+=4)t[i+a>>>2]=n[a>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;t>i;i+=4)n.push(4294967296*e.random()|0);return new r.init(n,t)}}),s=n.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;e>i;i++){var a=t[i>>>2]>>>24-8*(i%4)&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;t>i;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-4*(i%8);return new r.init(n,t/2)}},c=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;e>i;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-8*(i%4)&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;t>i;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-8*(i%4);return new r.init(n,t)}},h=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},p=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,a=n.sigBytes,o=this.blockSize,s=a/(4*o),s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0);if(t=s*o,a=e.min(4*t,a),t){for(var l=0;t>l;l+=o)this._doProcessBlock(i,l);l=i.splice(0,t),n.sigBytes-=a}return new r.init(l,a)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=p.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new u.HMAC.init(e,n).finalize(t)}}});var u=n.algo={};return n}(Math);!function(){var e=i,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp(),e=[];for(var a=0;n>a;a+=3)for(var o=(t[a>>>2]>>>24-8*(a%4)&255)<<16|(t[a+1>>>2]>>>24-8*((a+1)%4)&255)<<8|t[a+2>>>2]>>>24-8*((a+2)%4)&255,r=0;4>r&&n>a+.75*r;r++)e.push(i.charAt(o>>>6*(3-r)&63));if(t=i.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,i=this._map,a=i.charAt(64);a&&(a=e.indexOf(a),-1!=a&&(n=a));for(var a=[],o=0,r=0;n>r;r++)if(r%4){var s=i.indexOf(e.charAt(r-1))<<2*(r%4),l=i.indexOf(e.charAt(r))>>>6-2*(r%4);a[o>>>2]|=(s|l)<<24-8*(o%4),o++}return t.create(a,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,i,a,o,r){return e=e+(t&n|~t&i)+a+r,(e<<o|e>>>32-o)+t}function n(e,t,n,i,a,o,r){return e=e+(t&i|n&~i)+a+r,(e<<o|e>>>32-o)+t}function a(e,t,n,i,a,o,r){return e=e+(t^n^i)+a+r,(e<<o|e>>>32-o)+t}function o(e,t,n,i,a,o,r){return e=e+(n^(t|~i))+a+r,(e<<o|e>>>32-o)+t}for(var r=i,s=r.lib,l=s.WordArray,c=s.Hasher,s=r.algo,h=[],p=0;64>p;p++)h[p]=4294967296*e.abs(e.sin(p+1))|0;s=s.MD5=c.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,i){for(var r=0;16>r;r++){var s=i+r,l=e[s];e[s]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var r=this._hash.words,s=e[i+0],l=e[i+1],c=e[i+2],p=e[i+3],u=e[i+4],d=e[i+5],_=e[i+6],f=e[i+7],g=e[i+8],y=e[i+9],m=e[i+10],w=e[i+11],v=e[i+12],C=e[i+13],B=e[i+14],x=e[i+15],L=r[0],S=r[1],T=r[2],A=r[3],L=t(L,S,T,A,s,7,h[0]),A=t(A,L,S,T,l,12,h[1]),T=t(T,A,L,S,c,17,h[2]),S=t(S,T,A,L,p,22,h[3]),L=t(L,S,T,A,u,7,h[4]),A=t(A,L,S,T,d,12,h[5]),T=t(T,A,L,S,_,17,h[6]),S=t(S,T,A,L,f,22,h[7]),L=t(L,S,T,A,g,7,h[8]),A=t(A,L,S,T,y,12,h[9]),T=t(T,A,L,S,m,17,h[10]),S=t(S,T,A,L,w,22,h[11]),L=t(L,S,T,A,v,7,h[12]),A=t(A,L,S,T,C,12,h[13]),T=t(T,A,L,S,B,17,h[14]),S=t(S,T,A,L,x,22,h[15]),L=n(L,S,T,A,l,5,h[16]),A=n(A,L,S,T,_,9,h[17]),T=n(T,A,L,S,w,14,h[18]),S=n(S,T,A,L,s,20,h[19]),L=n(L,S,T,A,d,5,h[20]),A=n(A,L,S,T,m,9,h[21]),T=n(T,A,L,S,x,14,h[22]),S=n(S,T,A,L,u,20,h[23]),L=n(L,S,T,A,y,5,h[24]),A=n(A,L,S,T,B,9,h[25]),T=n(T,A,L,S,p,14,h[26]),S=n(S,T,A,L,g,20,h[27]),L=n(L,S,T,A,C,5,h[28]),A=n(A,L,S,T,c,9,h[29]),T=n(T,A,L,S,f,14,h[30]),S=n(S,T,A,L,v,20,h[31]),L=a(L,S,T,A,d,4,h[32]),A=a(A,L,S,T,g,11,h[33]),T=a(T,A,L,S,w,16,h[34]),S=a(S,T,A,L,B,23,h[35]),L=a(L,S,T,A,l,4,h[36]),A=a(A,L,S,T,u,11,h[37]),T=a(T,A,L,S,f,16,h[38]),S=a(S,T,A,L,m,23,h[39]),L=a(L,S,T,A,C,4,h[40]),A=a(A,L,S,T,s,11,h[41]),T=a(T,A,L,S,p,16,h[42]),S=a(S,T,A,L,_,23,h[43]),L=a(L,S,T,A,y,4,h[44]),A=a(A,L,S,T,v,11,h[45]),T=a(T,A,L,S,x,16,h[46]),S=a(S,T,A,L,c,23,h[47]),L=o(L,S,T,A,s,6,h[48]),A=o(A,L,S,T,f,10,h[49]),T=o(T,A,L,S,B,15,h[50]),S=o(S,T,A,L,d,21,h[51]),L=o(L,S,T,A,v,6,h[52]),A=o(A,L,S,T,p,10,h[53]),T=o(T,A,L,S,m,15,h[54]),S=o(S,T,A,L,l,21,h[55]),L=o(L,S,T,A,g,6,h[56]),A=o(A,L,S,T,x,10,h[57]),T=o(T,A,L,S,_,15,h[58]),S=o(S,T,A,L,C,21,h[59]),L=o(L,S,T,A,u,6,h[60]),A=o(A,L,S,T,w,10,h[61]),T=o(T,A,L,S,c,15,h[62]),S=o(S,T,A,L,y,21,h[63]);r[0]=r[0]+L|0,r[1]=r[1]+S|0,r[2]=r[2]+T|0,r[3]=r[3]+A|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,a=8*t.sigBytes;n[a>>>5]|=128<<24-a%32;var o=e.floor(i/4294967296);for(n[(a+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[(a+64>>>9<<4)+14]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process(),t=this._hash,n=t.words,i=0;4>i;i++)a=n[i],n[i]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8);return t},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e}}),r.MD5=c._createHelper(s),r.HmacMD5=c._createHmacHelper(s)}(Math),function(){var e=i,t=e.lib,n=t.Base,a=t.WordArray,t=e.algo,o=t.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=n.hasher.create(),o=a.create(),r=o.words,s=n.keySize,n=n.iterations;r.length<s;){l&&i.update(l);var l=i.update(e).finalize(t);i.reset();for(var c=1;n>c;c++)l=i.finalize(l),i.reset();o.concat(l)}return o.sigBytes=4*s,o}});e.EvpKDF=function(e,t,n){return o.create(n).compute(e,t)}}(),i.lib.Cipher||function(e){var t=i,n=t.lib,a=n.Base,o=n.WordArray,r=n.BufferedBlockAlgorithm,s=t.enc.Base64,l=t.algo.EvpKDF,c=n.Cipher=r.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,i){return("string"==typeof n?f:_).encrypt(e,t,n,i)},decrypt:function(t,n,i){return("string"==typeof n?f:_).decrypt(e,t,n,i)}}}});n.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var h=t.mode={},p=function(t,n,i){var a=this._iv;a?this._iv=e:a=this._prevBlock;for(var o=0;i>o;o++)t[n+o]^=a[o]},u=(n.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();u.Encryptor=u.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;p.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),u.Decryptor=u.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,a=e.slice(t,t+i);n.decryptBlock(e,t),p.call(this,e,t,i),this._prevBlock=a}}),h=h.CBC=u,u=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,n=n-e.sigBytes%n,i=n<<24|n<<16|n<<8|n,a=[],r=0;n>r;r+=4)a.push(i);n=o.create(a,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},n.BlockCipher=c.extend({cfg:c.cfg.extend({mode:h,padding:u}),reset:function(){c.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var d=n.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),h=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return e=e.salt,(e?o.create([1398893684,1701076831]).concat(e).concat(t):t).toString(s)},parse:function(e){e=s.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var n=o.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return d.create({ciphertext:e,salt:n})}},_=n.SerializableCipher=a.extend({cfg:a.extend({format:h}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var a=e.createEncryptor(n,i);return t=a.finalize(t),a=a.cfg,d.create({ciphertext:t,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,n,i){return i||(i=o.random(8)),e=l.create({keySize:t+n}).compute(e,i),n=o.create(e.words.slice(t),4*n),e.sigBytes=4*t,d.create({key:e,iv:n,salt:i})}},f=n.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:t}),encrypt:function(e,t,n,i){return i=this.cfg.extend(i),n=i.kdf.execute(n,e.keySize,e.ivSize),i.iv=n.iv,e=_.encrypt.call(this,e,t,n.key,i),e.mixIn(n),e},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),n=i.kdf.execute(n,e.keySize,e.ivSize,t.salt),i.iv=n.iv,_.decrypt.call(this,e,t,n.key,i)}})}(),function(){for(var e=i,t=e.lib.BlockCipher,n=e.algo,a=[],o=[],r=[],s=[],l=[],c=[],h=[],p=[],u=[],d=[],_=[],f=0;256>f;f++)_[f]=128>f?f<<1:f<<1^283;for(var g=0,y=0,f=0;256>f;f++){var m=y^y<<1^y<<2^y<<3^y<<4,m=m>>>8^255&m^99;a[g]=m,o[m]=g;var w=_[g],v=_[w],C=_[v],B=257*_[m]^16843008*m;r[g]=B<<24|B>>>8,s[g]=B<<16|B>>>16,l[g]=B<<8|B>>>24,c[g]=B,B=16843009*C^65537*v^257*w^16843008*g,h[m]=B<<24|B>>>8,p[m]=B<<16|B>>>16,u[m]=B<<8|B>>>24,d[m]=B,g?(g=w^_[_[_[C^w]]],y^=_[_[y]]):g=y=1}var x=[0,1,2,4,8,16,32,64,128,27,54],n=n.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes/4,e=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],o=0;e>o;o++)if(n>o)i[o]=t[o];else{var r=i[o-1];o%n?n>6&&4==o%n&&(r=a[r>>>24]<<24|a[r>>>16&255]<<16|a[r>>>8&255]<<8|a[255&r]):(r=r<<8|r>>>24,r=a[r>>>24]<<24|a[r>>>16&255]<<16|a[r>>>8&255]<<8|a[255&r],r^=x[o/n|0]<<24),i[o]=i[o-n]^r}for(t=this._invKeySchedule=[],n=0;e>n;n++)o=e-n,r=n%4?i[o]:i[o-4],t[n]=4>n||4>=o?r:h[a[r>>>24]]^p[a[r>>>16&255]]^u[a[r>>>8&255]]^d[a[255&r]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,r,s,l,c,a)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,h,p,u,d,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,a,o,r,s){for(var l=this._nRounds,c=e[t]^n[0],h=e[t+1]^n[1],p=e[t+2]^n[2],u=e[t+3]^n[3],d=4,_=1;l>_;_++)var f=i[c>>>24]^a[h>>>16&255]^o[p>>>8&255]^r[255&u]^n[d++],g=i[h>>>24]^a[p>>>16&255]^o[u>>>8&255]^r[255&c]^n[d++],y=i[p>>>24]^a[u>>>16&255]^o[c>>>8&255]^r[255&h]^n[d++],u=i[u>>>24]^a[c>>>16&255]^o[h>>>8&255]^r[255&p]^n[d++],c=f,h=g,p=y;f=(s[c>>>24]<<24|s[h>>>16&255]<<16|s[p>>>8&255]<<8|s[255&u])^n[d++],g=(s[h>>>24]<<24|s[p>>>16&255]<<16|s[u>>>8&255]<<8|s[255&c])^n[d++],y=(s[p>>>24]<<24|s[u>>>16&255]<<16|s[c>>>8&255]<<8|s[255&h])^n[d++],u=(s[u>>>24]<<24|s[c>>>16&255]<<16|s[h>>>8&255]<<8|s[255&p])^n[d++],e[t]=f,e[t+1]=g,e[t+2]=y,e[t+3]=u},keySize:8});e.AES=t._createHelper(n)}(),t.exports=i},{}],77:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./AppConfig"),a=e("./Net/HttpUnit"),o=e("./Config/AppSwitchConfig"),r=e("./Mgr/ViewMgr"),s=function(){function e(){}return Object.defineProperty(e,"BannerInstance",{get:function(){return e._banner},enumerable:!0,configurable:!0}),e.Login=function(e,t){Laya.Browser.onQGMiniGame&&Laya.Browser.window.qg.login({success:function(t){var n=t.data.token;e(n),console.log("OPPO 登陆成功,获取到 token : "+n);for(var i in t)console.log(i,t[i])},fail:function(e){console.log("OPPO 登陆失败",e);for(var t in e)console.log(t,e[t])}})},e.initAdService=function(e,t,n){Laya.Browser.window.qg.initAdService({appId:i["default"].App_ppxhc_ID,
isDebug:!1,success:function(t){console.log("oppo initAdService success"),e&&e(t)},fail:function(e){console.log("oppo initAdService fail: ",e.code,e.msg),t&&t(e)},complete:function(e){console.log("oppo initAdService complete"),n&&n(e)}})},e.showRewardedVideoAd=function(t,n){if(Laya.Browser.onQGMiniGame){var i=Laya.Browser.window.qg.createRewardedVideoAd({posId:e.adUnitId});i.onLoad(function(){console.log("oppo 视频广告加载完成"),i.show()}),i.onVideoStart(function(){console.log("oppo 视频广告开始播放")}),i.onClose(function(e){e.isEnded?(console.log("oppo 视频广告观看 完成"),t(!0)):(console.log("oppo 视频广告观看 未完成"),t(!1)),i.destroy()}),i.onError(function(e){console.log("oppo 视频广告获取失败",e),i.destroy(),n()}),i.load()}else t(!0)},e.navigateToMiniProgram=function(e,t,n,o,r,s){if(Laya.Browser.onQGMiniGame){console.log("OPPO 跳转游戏： "+e),a["default"].reportExport(e,t,function(e){1==e.code?console.log("OPPO 导出上报成功"):console.log("OPPO 导出上报失败",e.msg)},function(e){console.log("OPPO 导出上报失败");for(var t in e)console.log(t,e[t])});for(var l=Date.now();Date.now()-l<=500;);Laya.Browser.window.qg.navigateToMiniGame({pkgName:e,path:n,extraData:{from:i["default"].App_ppxhc_ID},envVersion:"release",success:function(e){o&&o(e)},fail:function(e){r&&r(e)}})}},e.showInterstitialAd=function(t,n){if(Laya.Browser.onQGMiniGame){var i=qg.createInsertAd({posId:e.InsAdUnitId});i.load(),i.onLoad(function(){console.log("插屏广告加载完成"),i.show()}),i.onShow(function(){console.log("插屏广告显示成功")}),i.onError(function(e){console.log("插屏广告拉取失败",e),i.destroy(),n&&n()})}else t()},e.showBannaer=function(){if(e._banner)return void e._banner.show();var t=qg.createBannerAd({posId:e.bannerAdUnitId});t.show(),e._banner=t},e.hideBanner=function(){e._banner&&e._banner.hide()},e.destroyBanner=function(){e._banner&&e._banner.destroy(),e._banner=null},e.getLaunchOptionsSync=function(){var e={query:"",referrerInfo:{"package":"",extraData:{appid:""}}};if(Laya.Browser.onQGMiniGame){var t=Laya.Browser.window.qg.getLaunchOptionsSync();return null!=t&&""!=t?e=t:console.log("没有启动设置！！！"),e}return e},e.share=function(e,t,n){e(!1)},e.createDesktopIcon=function(e,t){Laya.Browser.onQGMiniGame?Laya.Browser.window.qg.hasShortcutInstalled({success:function(n){0==n?Laya.Browser.window.qg.installShortcut({success:function(){e&&e()},fail:function(e){t&&t(),console.log("创建桌面图标失败！！！！",e);for(var n in e)console.log(n,e)},complete:function(){}}):(console.log("桌面图标已存在！！！！"),t&&t())},fail:function(e){t&&t(),console.log("判断桌面图标是否存在失败！！！",e);for(var n in e)console.log(n,e)},complete:function(){}}):t&&t()},e.autoPopCreateDestopIcon=function(t,n){if(!Laya.Browser.onQGMiniGame)return void(null!=n&&n());var i=Math.floor(100*Math.random());i<=o["default"].getInstance().getAppSwitchData().oppocfg.addToDesktop?e.createDesktopIcon(t,n):null!=n&&n()},e.showNativeAd=function(e,t){return Laya.Browser.onQGMiniGame?void(1==o["default"].getInstance().getAppSwitchData().oppocfg.yuanshengSwitch?r["default"].instance.openView(r.View_ppxhc_Def.OPPONativeView,null,function(t){null!=e&&e(t)}):null!=t&&t()):void(null!=t&&t())},e.adUnitId="",e.bannerAdUnitId="",e.InsAdUnitId="",e.OpenScreenAdUnitId="",e.NativeAdId="",e._banner=null,e}();n["default"]=s},{"./AppConfig":2,"./Config/AppSwitchConfig":5,"./Mgr/ViewMgr":69,"./Net/HttpUnit":74}],78:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Mgr/ViewMgr"),a=e("./Config/AppSwitchConfig"),o=e("./Mgr/WudianMgr"),r=e("./AppConfig"),s=function(){function e(){}return e.Login=function(e,t){Laya.Browser.onQQMiniGame&&Laya.Browser.window.qq.login({success:function(t){if(t.code){var n=t.code;e(n),console.log("登陆成功,获取到code : "+n)}}})},e.onRewardedVideoAdLoad_ppxhc=function(){console.log("激励视频 广告加载完成")},e.onRewardedVideoAdError_ppxhc=function(t){console.log("激励视频 广告加载失败"+t),e._onRewardedVideoAdFailed&&e._onRewardedVideoAdFailed()},e.onRewardedVideoAdClose_ppxhc=function(t){t&&t.isEnded||null==t?(console.log("激励视频 已完整观看"),e._onRewardedVideoAdClose&&e._onRewardedVideoAdClose(!0)):(console.log("激励视频 未完整观看"),e._onRewardedVideoAdClose&&e._onRewardedVideoAdClose(!1))},e.regRewardedVideoAdEvent_ppxhc=function(t){t.onLoad(e.onRewardedVideoAdLoad_ppxhc),t.onError(e.onRewardedVideoAdError_ppxhc),t.onClose(e.onRewardedVideoAdClose_ppxhc),e._isRegRewardedVideoAdEvent=!0},e.showRewardedVideoAd_ppxhc=function(t,n){if(Laya.Browser.onQQMiniGame){e._onRewardedVideoAdClose=t,e._onRewardedVideoAdFailed=n;var i=Laya.Browser.window.qq.createRewardedVideoAd({adUnitId:e.adUnitId});e._isRegRewardedVideoAdEvent||e.regRewardedVideoAdEvent_ppxhc(i),i.load().then(function(){var e=i.show();e.then(function(){return console.log("激励视频 广告显示成功")}),e["catch"](function(e){i.load().then(function(){return i.show()})["catch"](function(e){console.log("激励视频 广告显示失败"),n&&n()})})})["catch"](function(e){console.log("激励视频 广告加载失败"),n&&n()})}else t(!0)},e.navigateToMiniProgram_ppxhc=function(e,t,n,i,a){Laya.Browser.onQQMiniGame&&(console.log("跳转游戏： "+e),Laya.Browser.window.qq.navigateToMiniProgram({appId:e,path:t,extraData:{foo:"bar"},envVersion:"release",success:function(e){n&&n(e)},fail:function(e){i&&i(e)},complete:function(e){a&&a(e)}}))},e.share=function(t,n,i){var a=this;Laya.Browser.onQQMiniGame&&(e._onShow=function(){Laya.Browser.window.qq.offShow(e._onShow),e._onShow=null;Date.now()-a._lastShareTime;t&&t(Date.now()-a._lastShareTime>2e3?!0:!1)},Laya.Browser.window.qq.onShow(e._onShow),e._lastShareTime=Date.now(),Laya.Browser.window.qq.shareAppMessage({title:n,imageUrl:i}))},e.showInterstitialAd_ppxhc=function(t,n){if(Laya.Browser.onQQMiniGame){var i=Laya.Browser.window.qq.createInterstitialAd({adUnitId:e.InsAdUnitId}),a=function(){console.log("插屏广告 加载完成"),i.show()["catch"](function(e){console.log("插屏广告 显示失败 ："+e),i.offLoad(a),i.offError(o),i.offClose(r),i.destroy(),n&&n()})};i.onLoad(a);var o=function(e){console.log("插屏广告 加载失败"+e),i.offLoad(a),i.offError(o),i.offClose(r),i.destroy(),n&&n()};i.onError(o);var r=function(){console.log("插屏广告 关闭"),i.offLoad(a),i.offError(o),i.offClose(r),i.destroy(),t&&t()};i.onClose(r)}else t()},e.LoadAppBoxAd=function(t,n){Laya.Browser.onQQMiniGame?(e.mAppboxAd=Laya.Browser.window.qq.createAppBox({adUnitId:e.AppBoxId}),e.mAppboxAd.load().then(function(){console.log("盒子广告 加载完成")}),e.mAppboxAd.onError(function(e){console.log("盒子广告 加载失败"+e),n&&n()}),this.onBoxAdClose=function(){console.log("盒子广告 关闭"),t&&t()},this.mAppboxAd.onClose(this.onBoxAdClose)):t()},e.showAppBoxAd=function(t,n){this.mAppboxAd?(console.log("显示盒子广告"),this.mAppboxAd.offClose(this.onBoxAdClose),this.onBoxAdClose=function(){console.log("盒子广告 关闭"),n&&n()},this.mAppboxAd.onClose(this.onBoxAdClose),this.mAppboxAd.show()["catch"](function(e){console.log("盒子广告 显示失败 ："+e),t&&t()})):e.LoadAppBoxAd(n,t)},e.getLaunchOptionsSync=function(){if(Laya.Browser.onQQMiniGame){var e=Laya.Browser.window.qq.getLaunchOptionsSync();console.log("场景值 "+e.scene);var t=JSON.stringify(e.query);console.log("Query参数 "+t);var n=e.query.key;return console.log("Query参数：key "+n),console.log("ShareTicket "+e.shareTicket),console.log("ReferrerInfo.appId "+e.referrerInfo.appId),console.log("ReferrerInfo.extraData "+e.referrerInfo.extraData),e}var i={scene:1001,query:"",shareTicket:"",appId:"",extraData:""};return i},e.SetShareMenu=function(e,t,n,i,a){Laya.Browser.onQQMiniGame&&(console.log("小游戏设置转发按钮"),Laya.Browser.window.qq.showShareMenu({withShareTicket:!1,success:n,fail:i,complete:a}),Laya.Browser.window.qq.onShareAppMessage(function(){return{title:e,imageUrl:t}}))},e.showQQCreazyClick=function(t,n,s){for(var l=e.getLaunchOptionsSync().scene,c=!0,h=a["default"].getInstance().getAppSwitchData().wudianSceneList,p=0;p<h.length;++p){var u=h[p];l==u&&(c=!1)}var d=o["default"].GetIp_ppxhc_Blocked(),_=a["default"].getInstance().getAppSwitchData().wudian,f=a["default"].getInstance().getAppSwitchData().qqcfg.kuangdianBanner;r["default"].ppxhc_Versions==a["default"].getInstance().getAppSwitchData().qqcfg.qqversions&&d&&c&&1==_&&1==f?i["default"].instance.openView(i.View_ppxhc_Def.QQCrazyClickView,t,function(){null!=n&&n()}):null!=s&&s()},e.showQQCreazyClick2=function(t,n,s){for(var l=e.getLaunchOptionsSync().scene,c=!0,h=a["default"].getInstance().getAppSwitchData().wudianSceneList,p=0;p<h.length;++p){var u=h[p];l==u&&(c=!1)}var d=o["default"].GetIp_ppxhc_Blocked(),_=a["default"].getInstance().getAppSwitchData().wudian,f=a["default"].getInstance().getAppSwitchData().qqcfg.kuangdianBox;r["default"].ppxhc_Versions==a["default"].getInstance().getAppSwitchData().qqcfg.qqversions&&d&&c&&1==_&&1==f?i["default"].instance.openView(i.View_ppxhc_Def.QQCrazyClickView2,t,function(){null!=n&&n()}):null!=s&&s()},e.adUnitId="",e.bannerAdUnitId="",e.InsAdUnitId="",e.AppBoxId="",e._isRegRewardedVideoAdEvent=!1,e._onRewardedVideoAdFailed=null,e._onRewardedVideoAdClose=null,e._onShow=null,e._lastShareTime=0,e.mAppboxAd=null,e.onBoxAdClose=null,e}();n["default"]=s},{"./AppConfig":2,"./Config/AppSwitchConfig":5,"./Mgr/ViewMgr":69,"./Mgr/WudianMgr":71}],79:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.refreshAd_=function(e){},e.getADVs_=function(e,t,n,i,a){},e.reportUserClick_=function(e){},e.getRandomADPosID_=function(){return e.AdLocationids[Math.floor(Math.random()*e.AdLocationids.length)]},e.request_=function(e){},e.getAdPosData_=function(e,t){},e.reqUserClick_=function(e,t,n){},e.getADVData_=function(e,t,n){},e.RandomJump_=function(e){void 0===e&&(e=1)},e.isNeedShowAd=function(){return!0},e.sortDatas_=function(e){var t=new Array;return t},e.mainUrl_="",e.getAdPostion_="",e.getAdv="",e.userClick="",e.LoopAdLocationID_=315,e.BannerAdLocationID_=312,e.InsertAdLocationID_=314,e.AniAdLocationID=-1,e.HistoryLocationID_=313,e.MoreGameLocationID=314,e.UseRandomAdPos_=!0,e.AdLocationids=[315],e._adPosition={},e._adv={},e._iphoneIgnoreAppIds=[],e}();n["default"]=i},{}],80:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../ShareAd"),a=e("../../WXAPI"),o=e("../../ALD"),r=e("../../Event/EventMgr"),s=e("../../Event/EventDef"),l=e("../../Config/AppSwitchConfig"),c=e("../../OPPOAPI"),h=e("../../QQMiniGameAPI"),p=e("../../WXAPI"),u=e("../../QQMiniGameAPI"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AdPosID=i["default"].BannerAdLocationID_,t._data=null,t._wxBanner=null,t._onLoad=null,t._onError=null,t._onResize=null,t}return __extends(t,e),t.prototype.onAwake=function(){this._displaySp=this.owner.getChildByName("Display"),null==this._displaySp&&(this._displaySp=this.owner)},t.prototype.onEnable=function(){this._displaySp.on(Laya.Event.CLICK,this,this.onSpClick);var e=l["default"].getInstance().getAppSwitchData().banner;if(0==e){this.refreshBannerDis();var t=l["default"].getInstance().getAppSwitchData().bannerRecreateTime;Laya.timer.loop(1e3*t,this,this.refreshBannerDis)}else if(1==e){this.refreshWXBanner();var t=l["default"].getInstance().getAppSwitchData().bannerRecreateTime;Laya.timer.loop(1e3*t,this,this.refreshWXBanner)}},t.prototype.onDisable=function(){this._displaySp.off(Laya.Event.CLICK,this,this.onSpClick),this.clearWXBaner()},t.prototype.refreshBannerDis=function(){var e=this;i["default"].getADVs_(this.AdPosID,function(t){if(t&&t.length>0){var n=t[Math.floor(Math.random()*t.length)];e._displaySp.loadImage(n.logo,Laya.Handler.create(e,function(){e._displaySp.destroyed||(e._displaySp.width=750,e._displaySp.height=256)})),e._data=n}},!1)},t.prototype.onSpClick=function(){var e=this._data;e&&(console.log("跳转游戏： "+e.title),Laya.Browser.onMiniGame?a["default"].navigateToMiniProgram_(e.appid,e.url,function(t){console.log("跳转成功"),i["default"].reportUserClick_(e.appid),o["default"].aldSendReportAdClickSuccess(e)},function(t){console.log("跳转失败"),r["default"].instance.dispatch_(s.Event_ppxhc_Def.AD_OnShareAdFail),"navigateToMiniProgram:fail cancel"==t.errMsg&&(console.log("用户取消跳转"),o["default"].aldSendReportAdClickFail(e))},function(e){console.log("跳转完成")}):Laya.Browser.onQGMiniGame?c["default"].navigateToMiniProgram(e.appid,e.title,e.url,function(t){console.log("跳转成功"),i["default"].reportUserClick_(e.appid)},function(e){console.log("跳转失败"),r["default"].instance.dispatch_(s.Event_ppxhc_Def.AD_OnShareAdFail)},function(e){console.log("跳转完成")}):Laya.Browser.onQQMiniGame&&h["default"].navigateToMiniProgram_ppxhc(e.appid,e.url,function(t){console.log("跳转成功"),i["default"].reportUserClick_(e.appid)},function(e){console.log("跳转失败"),r["default"].instance.dispatch_(s.Event_ppxhc_Def.AD_OnShareAdFail)},function(e){console.log("跳转完成")}))},t.prototype.refreshWXBanner=function(){if((Laya.Browser.onMiniGame||Laya.Browser.onQQMiniGame)&&this.owner.visible){this.clearWXBaner();var e=this,t=null;Laya.Browser.onMiniGame?t=Laya.Browser.window.wx.getSystemInfoSync():Laya.Browser.onQQMiniGame&&(t=Laya.Browser.window.qq.getSystemInfoSync());var n=t.screenWidth,i=t.screenHeight,a=this._displaySp.localToGlobal(new Laya.Point(0,0)),o=a.x/Laya.stage.width*n,r=a.y/Laya.stage.height*i,s=this.WXBannerWidth?this.WXBannerWidth/Laya.stage.width*n:n;if(Laya.Browser.onMiniGame){var c=l["default"].getInstance().getAppSwitchData().recreateBannerIDList,h=c[Math.floor(Math.random()*c.length)];null==h&&(h=p["default"].bannerAdUnitId),e._wxBanner=Laya.Browser.window.wx.createBannerAd({adUnitId:h,adIntervals:30,style:{left:o,top:r,width:s}}),e._wxBanner.onLoad(function(e){console.log("WXBanner广告 加载完成"),console.log(e)}),e._wxBanner.onError(function(t){console.log("WXBanner广告 加载失败"),console.log(t),e.refreshBannerDis(),e.clearWXBaner()}),e._wxBanner.onResize(function(e){}),e._wxBanner.show()}else if(Laya.Browser.onQQMiniGame){var c=l["default"].getInstance().getAppSwitchData().recreateBannerIDList,d=c[Math.floor(Math.random()*c.length)];null==d&&(d=u["default"].bannerAdUnitId),e._wxBanner=Laya.Browser.window.qq.createBannerAd({adUnitId:d,adIntervals:30,style:{left:o,top:r,width:s}}),null!=e._wxBanner?(e._onLoad=function(t){console.log("QQBanner广告 加载完成 : ",d),console.log(t),e._wxBanner.show()},e._wxBanner.onLoad(e._onLoad),e._onError=function(t){console.log("QQBanner广告 加载失败 : ",d),console.log(t),e.refreshBannerDis(),e.clearWXBaner()},e._wxBanner.onError(e._onError),e._onResize=function(e){},e._wxBanner.onResize(e._onResize)):e.refreshBannerDis()}}},t.prototype.clearWXBaner=function(){this._wxBanner&&(this._wxBanner.offLoad(this._onLoad),this._wxBanner.offError(this._onError),this._wxBanner.offResize(this._onResize),this._wxBanner.destroy()),this._wxBanner=null},t.prototype.onViewShow=function(){var e=l["default"].getInstance().getAppSwitchData().banner;if(1==e&&null==this._wxBanner){this.refreshWXBanner();var t=l["default"].getInstance().getAppSwitchData().bannerRecreateTime;Laya.timer.loop(1e3*t,this,this.refreshWXBanner)}else{this.refreshBannerDis();var t=l["default"].getInstance().getAppSwitchData().bannerRecreateTime;Laya.timer.loop(1e3*t,this,this.refreshBannerDis)}},t.prototype.onViewHide=function(){this.clearWXBaner(),Laya.timer.clearAll(this)},t.prototype.onDestroy=function(){this.clearWXBaner(),Laya.timer.clearAll(this)},t}(Laya.Script);n["default"]=d},{"../../ALD":1,"../../Config/AppSwitchConfig":5,"../../Event/EventDef":7,"../../Event/EventMgr":8,"../../OPPOAPI":77,"../../QQMiniGameAPI":78,"../../WXAPI":133,"../ShareAd":79}],81:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../ShareAd"),a=e("./LoopAdBox"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AdPosID=i["default"].LoopAdLocationID_,t._scrollForward=!0,t}return __extends(t,e),t.prototype.onAwake=function(){this._list=this.owner.getChildByName("List"),this._list.renderHandler=Laya.Handler.create(this,this.onListRender,null,!1),this._list.hScrollBarSkin=""},t.prototype.onEnable=function(){var e=this,t=this;i["default"].getADVs_(this.AdPosID,function(n){if(t.owner&&!t.owner.destroyed)if(n&&n.length>0&&n.length<50){for(var i=[],a=0,o=0;50>o;++o)a>=n.length&&(a=0),i.push(n[a]),++a;for(var r=n.length,o=0;o<i.length;++o){var s=Math.floor(o/r),l=s*r,c=Math.floor(Math.random()*r)+l,h=i[o],p=i[c];i[c]=h,i[o]=p}e._list.array=i}else e._list.array=n})},t.prototype.onDisable=function(){},t.prototype.onUpdate=function(){this._scrollForward?(this._list.scrollBar.value+=100*Laya.timer.delta/1e3,this._list.scrollBar.value>=this._list.scrollBar.max&&(this._scrollForward=!1)):(this._list.scrollBar.value-=100*Laya.timer.delta/1e3,this._list.scrollBar.value<=0&&(this._scrollForward=!0))},t.prototype.onListRender=function(e,t){var n=this._list.array[t],i=e.getComponent(a["default"]);i.setData(n)},t}(Laya.Script);n["default"]=o},{"../ShareAd":79,"./LoopAdBox":82}],82:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../WXAPI"),a=e("../ShareAd"),o=e("../../ALD"),r=e("../../Event/EventMgr"),s=e("../../Event/EventDef"),l=e("../../OPPOAPI"),c=e("../../QQMiniGameAPI"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._data=null,t._originW=150,t._originH=150,t._fontSize=25,t}return __extends(t,e),t.prototype.onAwake=function(){this._displaySp=this.owner.getChildByName("Display"),this._originW=this._displaySp.width,this._originH=this._displaySp.height,this._disText=this.owner.getChildByName("TitelText"),this._disText.text="",this._fontSize=this._disText.fontSize},t.prototype.onEnable=function(){this._displaySp.on(Laya.Event.CLICK,this,this.onSpClick)},t.prototype.onDisable=function(){this._displaySp.off(Laya.Event.CLICK,this,this.onSpClick)},t.prototype.setData=function(e){if(e){var t=this;this._displaySp.loadImage(e.logo,Laya.Handler.create(this,function(){t._displaySp.destroyed||(t._displaySp.width=t._originW,t._displaySp.height=t._originH)}));var n=String(e.title),i=n.length;i=Math.max(5,i);var a=Math.floor(5/i*this._fontSize);this._disText.fontSize=a,this._disText.text=n,this._data=e}},t.prototype.onSpClick=function(){var e=this._data;e&&(console.log("跳转游戏： "+e.title),Laya.Browser.onMiniGame?i["default"].navigateToMiniProgram_(e.appid,e.url,function(t){console.log("跳转成功"),a["default"].reportUserClick_(e.appid),o["default"].aldSendReportAdClickSuccess(e)},function(t){console.log("跳转失败"),r["default"].instance.dispatch_(s.Event_ppxhc_Def.AD_OnShareAdFail),"navigateToMiniProgram:fail cancel"==t.errMsg&&(console.log("用户取消跳转"),o["default"].aldSendReportAdClickFail(e))},function(e){console.log("跳转完成")}):Laya.Browser.onQGMiniGame?l["default"].navigateToMiniProgram(e.appid,e.title,e.url,function(t){console.log("跳转成功"),a["default"].reportUserClick_(e.appid)},function(e){console.log("跳转失败"),r["default"].instance.dispatch_(s.Event_ppxhc_Def.AD_OnShareAdFail)},function(e){console.log("跳转完成")}):Laya.Browser.onQQMiniGame&&c["default"].navigateToMiniProgram_ppxhc(e.appid,e.url,function(t){console.log("跳转成功"),a["default"].reportUserClick_(e.appid)},function(e){console.log("跳转失败"),r["default"].instance.dispatch_(s.Event_ppxhc_Def.AD_OnShareAdFail)},function(e){console.log("跳转完成")}))},t}(Laya.Script);n["default"]=h},{"../../ALD":1,"../../Event/EventDef":7,"../../Event/EventMgr":8,"../../OPPOAPI":77,"../../QQMiniGameAPI":78,"../../WXAPI":133,"../ShareAd":79}],83:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./AppConfig"),a=e("./AppConfig"),o=e("./Mgr/ViewMgr"),r=e("./Net/HttpUnit"),s=function(){function e(){}return e.ttLogin=function(t,n){i["default"].onTTMiniGame_ppxhc_&&(Laya.Browser.window.tt.login({force:!1,success:function(e){console.log("登陆成功1");var i=e.code;i?t(i):(console.log("用户没有登陆，采用临时code"),n())},fail:function(){console.log("登陆失败1"),n()}}),e.initRecord())},e.onRewardedVideoAdLoad_ppxhc=function(){console.log("激励视频 广告加载完成")},e.onRewardedVideoAdError_ppxhc=function(t){console.log("激励视频 广告加载失败"+t),e._onRewardedVideoAdFailed&&e._onRewardedVideoAdFailed()},e.onRewardedVideoAdClose_ppxhc=function(t){t&&t.isEnded||null==t?(console.log("激励视频 已完整观看"),e._onRewardedVideoAdClose&&e._onRewardedVideoAdClose(!0)):(console.log("激励视频 未完整观看"),e._onRewardedVideoAdClose&&e._onRewardedVideoAdClose(!1))},e.regRewardedVideoAdEvent_ppxhc=function(t){t.onLoad(e.onRewardedVideoAdLoad_ppxhc),t.onError(e.onRewardedVideoAdError_ppxhc),t.onClose(e.onRewardedVideoAdClose_ppxhc),e._isRegRewardedVideoAdEvent=!0},e.showRewardedVideoAd_ppxhc=function(t,n){if(i["default"].onTTMiniGame_ppxhc_){e._onRewardedVideoAdClose=t,e._onRewardedVideoAdFailed=n;var a=Laya.Browser.window.tt.createRewardedVideoAd({adUnitId:e.adUnitId});e._isRegRewardedVideoAdEvent||e.regRewardedVideoAdEvent_ppxhc(a),a.load().then(function(){var e=a.show();e.then(function(){return console.log("激励视频 广告显示成功")}),e["catch"](function(e){a.load().then(function(){return a.show()})["catch"](function(e){console.log("激励视频 广告显示失败"),n&&n()})})})["catch"](function(e){console.log("激励视频 广告加载失败"),n&&n()})}else t(!0)},e.initRecord=function(){e.record=Laya.Browser.window.tt.getGameRecorderManager(),null!=e.record&&(e.record.onStart(function(t){console.log("录屏开始"),e.recordRes=""}),e.record.onStop(function(t){console.log("录屏结束"),e.recordRes=t.videoPath}))},e.startRecord=function(t){void 0===t&&(t=300),i["default"].onTTMiniGame_ppxhc_&&e.record.start({duration:t})},e.stopRecord=function(){i["default"].onTTMiniGame_ppxhc_&&e.record.stop()},e.shareRecord=function(t,n){void 0===t&&(t=null),void 0===n&&(n=null),i["default"].onTTMiniGame_ppxhc_&&(""!=e.recordRes?window.tt.shareAppMessage({channel:"video",extra:{videoPath:e.recordRes,videoTopics:[a["default"].GameName]},success:function(){null!=t&&t(),console.log("分享视频成功")},fail:function(e){console.log("分享视频失败"),null!=n&&n()}}):(null!=n&&n(),console.log("分享视频为空")))},e.share=function(t){void 0===t&&(t=null),i["default"].onTTMiniGame_ppxhc_&&window.tt.shareAppMessage({templateId:e._templateId,success:function(){null!=t&&t()},fail:function(){console.log("分享失败")}})},e.showBanner=function(){if(i["default"].onTTMiniGame_ppxhc_&&!(e.bannerAdUnitId.length<=0)){if(!e._banner){var t=Laya.Browser.window.tt.getSystemInfoSync(),n=t.windowWidth,a=t.windowHeight,o=150;e._banner=Laya.Browser.window.tt.createBannerAd({adUnitId:e.bannerAdUnitId,adIntervals:30,style:{width:o,top:a-o/16*9}}),e._banner.onResize(function(t){console.log(t.width,t.height),e._banner.style.top=a-t.height,e._banner.style.left=(n-t.width)/2})}e._banner.show()}},e.hideBanner=function(){null!=e._banner&&e._banner.hide()},e.showMoreGamesModal=function(e,t){var n=Laya.Browser.window.tt.getSystemInfoSync();"ios"!==n.platform?Laya.Browser.window.tt.showMoreGamesModal({appLaunchOptions:[{appId:a["default"].App_ppxhc_ID,query:"foo=bar&baz=qux",extraData:{}}],success:function(t){console.log("success",t.errMsg),e&&e()},fail:function(e){console.log("fail",e.errMsg),t&&t()}}):t&&t()},e.autoOpenSignInView=function(e){r["default"].GetSignIn(function(t){var n=t.data.is_sign;t.data.sign_day_num;0==n?o["default"].instance.openView(o.View_ppxhc_Def.TTSignInView,null,function(){e(!0)}):e(!1)},function(){e(!1)})},e.adUnitId="",e.bannerAdUnitId="",e.InsAdUnitId="",e._templateId="",e.recordRes="",e._banner=null,e._isRegRewardedVideoAdEvent=!1,e._onRewardedVideoAdFailed=null,e._onRewardedVideoAdClose=null,e}();n["default"]=s},{"./AppConfig":2,"./Mgr/ViewMgr":69,"./Net/HttpUnit":74}],84:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Event/EventMgr"),a=e("../Event/EventDef"),o=function(){function e(){this.levelNum=1,this.moneyNum=0,this.crystalNum=0,this.unlockedItem=[],this.usedItem=-1,this.selectiveSkin=0,this.ownedSkins=[0]}return e}();n.UserGameData=o;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t,"isLogin",{get:function(){return""!=t.code||""!=t.token},enumerable:!0,configurable:!0}),t.getSaveData=function(){return JSON.stringify(t._gameData)},t.testInitUser=function(){var e=localStorage.getItem("Game_Data");console.log("读取存储数据 str----"+e);var n=JSON.parse(e);if(null==n)return t._gameData.levelNum=1,t._gameData.moneyNum=100,t._gameData.crystalNum=100,t._gameData.selectiveSkin=0,void(t._gameData.ownedSkins=[0]);if(t._gameData.levelNum=n.levelNum,t._gameData.moneyNum=n.moneyNum,t._gameData.crystalNum=n.crystalNum,null!=n.unlockedItem)for(var i=n.unlockedItem,a=0;a<i.length;++a)t._gameData.unlockedItem.push(i[a]);null!=n.usedItem&&(t._gameData.usedItem=n.usedItem),t._gameData.selectiveSkin=null==n.selectiveSkin?0:n.selectiveSkin,t._gameData.ownedSkins=null==n.ownedSkins?[0]:n.ownedSkins,"number"!=typeof t._gameData.selectiveSkin&&(t._gameData.selectiveSkin=0),null==typeof t._gameData.ownedSkins.unshift&&(t._gameData.ownedSkins=[0])},t.initiUser=function(e){if(e&&0!=e){if(t._gameData.levelNum=e.levelNum,t._gameData.moneyNum=e.moneyNum,t._gameData.crystalNum=e.crystalNum,null!=e.unlockedItem)for(var n=e.unlockedItem,i=0;i<n.length;++i)t._gameData.unlockedItem.push(n[i]);null!=e.usedItem&&(t._gameData.usedItem=e.usedItem),t._gameData.selectiveSkin=null==e.selectiveSkin?0:e.selectiveSkin,t._gameData.ownedSkins=null==e.ownedSkins?[0]:e.ownedSkins,"number"!=typeof t._gameData.selectiveSkin&&(t._gameData.selectiveSkin=0),null==typeof t._gameData.ownedSkins.unshift&&(t._gameData.ownedSkins=[0])}else t._gameData.levelNum=1,t._gameData.moneyNum=0,t._gameData.crystalNum=0,t._gameData.selectiveSkin=0,t._gameData.ownedSkins=[0];console.log(t._gameData)},t.set_ppxhc_LeveNum=function(e){t._gameData.levelNum=e},t.get_ppxhc_LeveNum=function(){return t._gameData.levelNum},t.add_ppxhc_Money=function(e){e=Math.ceil(e);var n=t._gameData.moneyNum;t._gameData.moneyNum+=e,i["default"].instance.dispatch_(a.Event_ppxhc_Def.Game_OnUserMoneyChange,{curr:t._gameData.moneyNum,last:n})},t.sub_ppxhc_Money=function(e){e=Math.ceil(e);var n=t._gameData.moneyNum;t._gameData.moneyNum-=e,t._gameData.moneyNum<0&&(t._gameData.moneyNum=0),i["default"].instance.dispatch_(a.Event_ppxhc_Def.Game_OnUserMoneyChange,{curr:t._gameData.moneyNum,last:n})},t.get_ppxhc_Money=function(){return t._gameData.moneyNum},t.add_ppxhc_Crystal=function(e){e=Math.ceil(e);var n=t._gameData.crystalNum;t._gameData.crystalNum+=e,i["default"].instance.dispatch_(a.Event_ppxhc_Def.Game_OnUserCrystalChange,{curr:t._gameData.crystalNum,last:n})},t.sub_ppxhc_Crystal=function(e){e=Math.ceil(e);var n=t._gameData.crystalNum;t._gameData.crystalNum-=e,t._gameData.crystalNum<0&&(t._gameData.crystalNum=0),i["default"].instance.dispatch_(a.Event_ppxhc_Def.Game_OnUserCrystalChange,{curr:t._gameData.crystalNum,last:n})},t.get_ppxhc_Crystal=function(){return t._gameData.crystalNum},t.add_ppxhc_Skin=function(e){var n=t._gameData.ownedSkins.indexOf(e);-1==n&&t._gameData.ownedSkins.push(e)},t.Check_ppxhc_OwnedSkin=function(e){var n=t._gameData.ownedSkins.indexOf(e);return-1!=n},t.GetOwnedSkin=function(){return t._gameData.ownedSkins},t.GetSelectiveSkin=function(){return t._gameData.selectiveSkin},t.SetSelectiveSkin=function(e,n){var o=t._gameData.selectiveSkin;t._gameData.selectiveSkin=e,o!=e&&n&&i["default"].instance.dispatch_(a.Event_ppxhc_Def.Car_Change,e)},t.getItemUnlocked=function(){for(var e=new Array,n=0;n<t._gameData.unlockedItem.length;++n)e.push(t._gameData.unlockedItem[n]);return e},t.itemIsUnlocked=function(e){for(var n=0;n<t._gameData.unlockedItem.length;++n)if(t._gameData.unlockedItem[n]==e)return!0;return!1},t.unlockItem=function(e){return t.itemIsUnlocked(e)?void console.log("商店重复解锁 id : ",e):(t._gameData.unlockedItem.push(e),void i["default"].instance.dispatch_(a.Event_ppxhc_Def.Game_OnUserUnlockedStore,{unlocked:e}))},Object.defineProperty(t,"curUsedItem",{get:function(){return t._gameData.usedItem},set:function(e){t._gameData.usedItem=e},enumerable:!0,configurable:!0}),t.code="",t.openId="",t.token=null,t.nickName="",t.gender=0,t._gameData=new o,t}(Laya.Script);n["default"]=r},{"../Event/EventDef":7,"../Event/EventMgr":8}],85:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.Lerp_=function(e,t,n){if(e==t)return t;if(e>t){var i=e-n;return t>=i?t:i}if(t>e){var i=e+n;return i>=t?t:i}},e.lerpEulerAngle_=function(t,n,i){var t=t%360;t=t>=0?t:360+t;var n=n%360;n=n>=0?n:360+n;var a=Math.abs(n-t);a>180&&(n>t?n-=360:t>n&&(n+=360));var o=e.Lerp_(t,n,i);return o},e.getRotationByDir_=function(t){var n=t.x*e.poinDown.x+t.y*e.poinDown.y,i=n/(t.distance(0,0)*e.poinDown.distance(0,0)),a=Math.acos(i),o=a/(2*Math.PI)*360;return t.x<0&&(o=-o),o},e.getRotationByDirOn3DSpace_=function(t){var n=t.x*e.poinUp.x+t.y*e.poinUp.y,i=n/(t.distance(0,0)*e.poinUp.distance(0,0)),a=Math.acos(i),o=a/(2*Math.PI)*360;return t.x<0&&(o+=2*(180-o)),o},e.getDirByRotation_=function(e){var t=(e-90)*Math.PI/180,n=Math.cos(t),i=Math.sin(t),a=new Laya.Point(n,i);return a.normalize(),a},e.getDirDirAngle_=function(e,t){var n=e.x*t.x+e.y*t.y,i=n/(e.distance(0,0)*t.distance(0,0)),a=Math.acos(i),o=a/(2*Math.PI)*360;return o},e.getDirScalarLength_=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return t},e.setSpOnParentCenter_=function(e){if(null!=e.parent){var t=e.parent,n=0,i=0,n=n-e.width/2*e.scaleX+t.width/2,i=i-e.height/2*e.scaleY+t.height/2;e.x=n,e.y=i}},e.getPointToLineDistance_=function(e,t,n,i){var a=new Laya.Point(e-n.x,t-n.y),o=new Laya.Point(e-i.x,t-i.y),r=new Laya.Point(i.x-n.y,i.y-n.y),s=r.x*a.x+r.y*a.y;if(0>=s)return a.distance(0,0);var l=r.x*o.x+r.y*o.y;if(0>=l)return o.distance(0,0);var c=a.distance(0,0),h=r.distance(0,0),p=s/(c*h),u=Math.acos(p),d=Math.sin(u)*c;return d},e.isIphoneX_=function(){return Laya.Browser.onIPhone&&(2436==Laya.Browser.width&&1125==Laya.Browser.height||2436==Laya.Browser.height&&1125==Laya.Browser.width)?!0:!1},e.isIphone_=function(){return Laya.Browser.onIPhone},e.getChild_=function(t,n){for(var i=0;i<t.numChildren;++i){var a=t.getChildAt(i);if(a.name==n)return a;var o=e.getChild_(a,n);if(o)return o}return null},e.forEachChild=function(t,n){for(var i=0;i<t.numChildren;++i){var a=t.getChildAt(i);n(a),e.forEachChild(a,n)}},e.LerpNumber=function(e,t,n){return e+n*(t-e)},e.Vector3Angle=function(t,n,i){void 0===i&&(i=1),t=t.clone(),Laya.Vector3.normalize(t,t),n=n.clone(),Laya.Vector3.normalize(n,n);var a=Laya.Vector3.dot(t,n);a=Math.max(-1,Math.min(1,a)),e.isZero(a)&&(a=0);var o=Math.acos(a)*(180/Math.PI),r=new Laya.Vector3;switch(Laya.Vector3.cross(t,n,r),i){case 0:r.x<0&&(o*=-1);break;case 1:r.y<0&&(o*=-1);break;case 2:r.z<0&&(o*=-1);break;default:r.y<0&&(o*=-1)}return e.isZeroByValue(o,.1)?0:o},e.TransformPoint=function(e,t,n){var i=e.worldMatrix;Laya.Vector3.transformV3ToV3(t,i,n)},e.InverseTransformPoint=function(e,t,n){var i=new Laya.Matrix4x4;e.worldMatrix.invert(i),Laya.Vector3.transformV3ToV3(t,i,n)},e.QuaternionEuler=function(e,t,n,i){var a=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(t/a,e/a,n/a,i)},e.QuaternionVector3=function(e,t,n){var i=new Laya.Matrix4x4;return Laya.Matrix4x4.createFromQuaternion(e,i),Laya.Vector3.transformV3ToV3(t,i,n),n},e.FromToRotation=function(t,n,i){Laya.Vector3.normalize(t,t),Laya.Vector3.normalize(n,n);var a=Laya.Vector3.dot(t,n);if(a>=1)return new Laya.Quaternion;if(1e-6-1>a){var o=new Laya.Vector3;Laya.Vector3.cross(new Laya.Vector3(1,0,0),t,o),e.isVectorZeroLength(o),Laya.Vector3.cross(new Laya.Vector3(0,1,0),t,o),Laya.Vector3.normalize(o,o),Laya.Quaternion.createFromAxisAngle(o,180,i)}else{var r=Math.sqrt(2*(1+a)),s=1/r,l=new Laya.Vector3;Laya.Vector3.cross(t,n,l),i.x=l.x*s,i.y=l.y*s,i.z=l.z*s,i.w=.5*r,i.normalize(i)}return i},e.isVectorZeroLength=function(e){var t=e.x*e.x+e.y*e.y+e.z*e.z;return 1e-12>t},e.isZero=function(e){return Math.abs(e)<1e-6},e.isZeroByValue=function(e,t){return Math.abs(e)<t},e.VectorZere=function(t){t.x=e.isZero(t.x)?0:t.x,t.y=e.isZero(t.y)?0:t.y,t.z=e.isZero(t.z)?0:t.z},e.QuaternionNorm=function(e,t){var n=e.w*e.w+e.x*e.x+e.y*e.y+e.z*e.z,i=1/Math.sqrt(n);t.x=e.x*i,t.y=e.y*i,t.z=e.z*i,t.w=e.w*i},e.Sign=function(e){return e>=0?1:-1},e.Clamp01=function(e){return 0>e?0:e>1?1:e},e.Clamp=function(e,t,n){return t>e?t:e>n?n:e},e.FindChild=function(e,t){for(var n=t.split("/"),i=0;i<n.length;i++)if(t=n[i],e=e.getChildByName(t),null==e)return null;return e},e.getAnimationClip=function(e,t,n){
var i=e.getControllerLayer(t),a=i._statesMap[n];return a.clip},e.getRandomInt=function(e,t){var n=t-e,i=Math.random();return e+Math.round(i*n)},e.GetArrDifference=function(e,t){return e.concat(t).filter(function(e,t,n){return n.indexOf(e)===n.lastIndexOf(e)})},e.OriginStageWidth=1334,e.OriginStageHeight=750,e.grayscaleMat=[.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0],e.grayscaleFilter=new Laya.ColorFilter(e.grayscaleMat),e.poinDown=new Laya.Point(0,-1),e.poinUp=new Laya.Point(0,1),e}();n["default"]=i},{}],86:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./AppConfig"),a=e("./Mgr/SoundMgr"),o=e("./Config/AppSwitchConfig"),r=e("./AppConfig"),s=e("./Mgr/ViewMgr"),l=function(){function e(){}return Object.defineProperty(e,"BannerInstance",{get:function(){return this._banner},enumerable:!0,configurable:!0}),e.Login=function(e,t){Laya.Browser.window.qg.getSystemInfoSync().platformVersionCode>=1053?(console.log("vivo 开始登陆 >= 1053"),Laya.Browser.window.qg.login().then(function(n){if(n.data.token){var i=n.data.token;e(i,!0),console.log("vivo 登陆成功,获取到 token : "+i)}else console.log("登录失败 res.data.token 为 null"),t()},function(e){console.log("登录失败"+JSON.stringify(e)),t()})):(console.log("vivo 开始登陆 < 1053"),Laya.Browser.window.qg.authorize({type:"token",success:function(n){Laya.Browser.window.qg.getProfile({token:n.accessToken,success:function(t){console.log("openid获取成功",t.openid),e(t.openid,!1)},fail:function(e,n){console.log("获取openid失败 : "+n),t()}})},fail:function(e,n){console.log("登录失败"+n),t()}}))},e.showDialog=function(e,t,n,i,a,o){Laya.Browser.window.qg.showDialog({title:e,message:t,buttons:n,success:function(e){console.log("handling callback"),i()},cancel:function(){console.log("handling cancel"),a()},fail:function(e,t){console.log("handling fail, code = "+t),o()}})},e.createRewardedVideoAd=function(){Laya.Browser.onVVMiniGame&&(e.rewardedAd=Laya.Browser.window.qg.createRewardedVideoAd({posId:e.adUnitId,style:{}}),e.rewardedAd.onError(function(e){switch(e.errCode){case-3:console.log("激励广告加载失败---调用太频繁",JSON.stringify(e));break;case-4:console.log("激励广告加载失败--- 一分钟内不能重复加载",JSON.stringify(e));break;case 30008:break;default:console.log("激励广告展示失败"),console.log(JSON.stringify(e))}}))},e.showRewardedVideoAd=function(t,n){if(Laya.Browser.onVVMiniGame){if(a["default"].instance_.stop_ppxhc_BGM(),console.log("---------------------------------- VIVOAPI.rewardedAd:",e.rewardedAd+",VIVOAPI.rewardedAdNum:",e.rewardedAdNum),0==e.rewardedAdNum)e.createRewardedVideoAd();else{var i=e.rewardedAd.load();i&&i["catch"](function(e){console.log("激励广告load失败"+JSON.stringify(e)),n()})}e.rewardedAdNum=1,console.log("近来showRewardedVideoAd"),e.rewardedAd.onLoad(function(){var t=e.rewardedAd.show();t&&t.then(function(){console.log("激励广告展示成功")})["catch"](function(e){console.log("激励广告展示失败"+JSON.stringify(e)),n()})}),e.rewardedAd.onClose(function(e){e&&e.isEnded?(console.log("正常播放结束，可以下发游戏奖励"),t(!0)):(console.log("播放中途退出，不下发游戏奖励"),t(!1))})}},e.showBannerAd=function(){if(Laya.Browser.onVVMiniGame){console.log("===========bannerAd showBanerAd");var t=Laya.Browser.window.qg.getSystemInfoSync();t.screenWidth,t.screenHeight;this.mBannerAd=qg.createBannerAd({posId:e.bannerAdUnitId,style:{}});var n=this.mBannerAd.show();n&&n.then(function(){console.log("banner广告展示成功")})["catch"](function(e){switch(e.code){case 30003:console.log("新用户7天内不能曝光Banner，请将手机时间调整为7天后，退出游戏重新进入");break;case 30009:console.log("10秒内调用广告次数超过1次，10秒后再调用");break;case 30002:console.log("加载广告失败，重新加载广告");break;default:console.log("banner广告展示失败"),console.log(JSON.stringify(e))}}),this.mBannerAd.onError(function(e){console.log("Banner广告加载失败111:"+JSON.stringify(e))})}},e.hideBannerAd=function(){this.mBannerAd?(console.log("===========bannerAd 隐藏"),this.mBannerAd.hide(),this.mBannerAd.destroy(),this.mBannerAd=null):console.log("===========bannerAd 为空")},e.navigateToMiniProgram=function(e,t,n,a,o){Laya.Browser.onVVMiniGame&&(console.log("vivo 跳转游戏： "+e),Laya.Browser.window.qg.navigateToMiniGame({pkgName:e,path:t,extraData:{from:i["default"].App_ppxhc_ID},envVersion:"release",success:function(e){n&&n(e)},fail:function(e){a&&a(e)},complete:function(e){o&&o(e)}}))},e.showInterstitialAd=function(t,n){if(Laya.Browser.onVVMiniGame){var i=Laya.Browser.window.qg.createInterstitialAd({posId:e.InsAdUnitId});i.onLoad(function(){console.log("插屏广告加载完成")}),i.onClose(function(){t&&t()}),i.onError(function(e){console.log("插屏广告拉取失败",JSON.stringify(e)),n&&n()}),i.show().then(function(){console.log("插屏广告显示成功")})["catch"](function(e){n&&n()})}else t&&t()},e.getLaunchOptionsSync=function(){return{}},e.share=function(e){Laya.Browser.onVVMiniGame&&Laya.Browser.window.qg.share({success:function(){null!=e&&e(!0),Laya.Browser.window.qg.showToast({message:"分享成功"})},fail:function(e,t){Laya.Browser.window.qg.showToast({message:"分享失败"})},cancel:function(){Laya.Browser.window.qg.showToast({message:"分享失败"})},complete:function(){}})},e.createDesktopIcon=function(e,t){Laya.Browser.onVVMiniGame?Laya.Browser.window.qg.hasShortcutInstalled({success:function(n){0==n?Laya.Browser.window.qg.installShortcut({success:function(){e&&e()},fail:function(e){t&&t(),console.log("创建桌面图标失败！！！！",e);for(var n in e)console.log(n,e)},complete:function(){}}):(console.log("桌面图标已存在！！！！"),t&&t())},fail:function(e){t&&t(),console.log("判断桌面图标是否存在失败！！！",e);for(var n in e)console.log(n,e)},complete:function(){}}):t&&t()},e.showNativeAd=function(t,n,i){1==i?e.tryShowNativeAd1(t,n):2==i&&e.tryShowNativeAd2(t,n)},e.tryShowNativeAd1=function(e,t){if(!Laya.Browser.onVVMiniGame)return void(null!=t&&t());var n=function(){null!=e&&e()},i=o["default"].getInstance().getAppSwitchData().vivocfg.yuanshengSwitch,a=o["default"].getInstance().getAppSwitchData().vivocfg.vivoversions;1==i&&a==r["default"].ppxhc_Versions?s["default"].instance.openView(s.View_ppxhc_Def.VVNativeView1,null,function(e){n()}):null!=t&&t()},e.tryShowNativeAd2=function(e,t){if(!Laya.Browser.onVVMiniGame)return void(null!=t&&t());var n=function(){null!=e&&e()},i=o["default"].getInstance().getAppSwitchData().vivocfg.yuanshengSwitch2,a=o["default"].getInstance().getAppSwitchData().vivocfg.vivoversions;1==i&&a==r["default"].ppxhc_Versions?s["default"].instance.openView(s.View_ppxhc_Def.VVNativeView2,null,function(e){n()}):null!=t&&t()},e.tryPopCreateDestopIcon=function(t,n){return Laya.Browser.onVVMiniGame?void(1==o["default"].getInstance().getAppSwitchData().vivocfg.addToDesktop?e.createDesktopIcon(t,n):null!=n&&n()):void(null!=n&&n())},e.tryShowInsAd=function(t,n){var i=o["default"].getInstance().getAppSwitchData().vivocfg.chapingSwitch;if(1==i){var a=100*Math.random();a<=o["default"].getInstance().getAppSwitchData().vivocfg.chaping?e.showInterstitialAd(function(){t&&t()},function(){n&&n()}):n&&n()}else n&&n()},e.adUnitId="",e.bannerAdUnitId="",e.nativeAdId="",e.InsAdUnitId="",e.rewardedAd=null,e.rewardedAdNum=0,e._banner=null,e.mBannerAd=null,e}();n["default"]=l},{"./AppConfig":2,"./Config/AppSwitchConfig":5,"./Mgr/SoundMgr":67,"./Mgr/ViewMgr":69}],87:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Mgr/SoundMgr"),a=function(e){function t(){var t=e.call(this)||this;return t.useSound=!0,t}return __extends(t,e),t.prototype.onAwake=function(){this.owner.on(Laya.Event.MOUSE_DOWN,this,this.onDown),this.owner.on(Laya.Event.MOUSE_UP,this,this.onUp),this.owner.on(Laya.Event.MOUSE_OUT,this,this.onUp)},t.prototype.onDisable=function(){this.owner.offAll(),Laya.Tween.clearAll(this)},t.prototype.onDown=function(){Laya.Tween.to(this.owner,{scaleX:.9,scaleY:.9},50),this.useSound&&i["default"].instance_.play_ppxhc_Sound("anniu")},t.prototype.onUp=function(){Laya.Tween.to(this.owner,{scaleX:1,scaleY:1},50)},t}(Laya.Script);n["default"]=a},{"../Mgr/SoundMgr":67}],88:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../View/ViewBase"),a=e("../../Event/EventDef"),o=e("../../Event/EventMgr"),r=e("../../CachedWXBannerAd"),s=function(e){function t(){var t=e.call(this)||this;return t._totalClickTimer=22,t._needClickTime=10,t._bannerClickTime=7,t}return __extends(t,e),t.prototype.onAwake=function(){this._click_Btn=this.owner.getChildByName("Click_Btn"),this._click_Btn.on(Laya.Event.CLICK,this,this.ButtonClicked),this._arrow_Img=this._click_Btn.getChildByName("Arrow_Img"),this._bg=this.owner.getChildByName("BG"),this._open_Btn=this._bg.getChildByName("Open_Btn"),this._getPrize_View=this.owner.getChildByName("GetPrize_View"),this._prizeCount_Text=this._getPrize_View.getChildByName("PrizeCount_Text"),this._confirm_Btn=this._getPrize_View.getChildByName("Confirm_Btn"),this._getPrize_View.visible=!1,this._clickTime_PBar=this._bg.getChildByName("ClickTime_PBar"),this._clickTime_PBar$Bar=this._clickTime_PBar.getChildByName("ClickTime_PBar$Bar"),this._clickBarOriginalWidth=this._clickTime_PBar$Bar.width,this._bannerAd_View=this.owner.getChildByName("BannerAd_View"),this._clickTime_PBar$Bar.width=0,this._clickTime=0,this._totalClickTime=0},t.prototype.onUpdate=function(){if(this._arrowUp?(this._arrow_Img.top+=Laya.timer.delta/5,this._arrow_Img.top>-140&&(this._arrowUp=!1)):(this._arrow_Img.top-=Laya.timer.delta/5,this._arrow_Img.top<-180&&(this._arrowUp=!0)),!this._bannerClicked){var e=2+this._clickTime_PBar$Bar.width/this._clickBarOriginalWidth*6;this._clickTime_PBar$Bar.width>=e&&(this._clickTime_PBar$Bar.width-=e),this._clickTime_PBar$Bar.width/this._clickBarOriginalWidth+.1<this._clickTime/this._needClickTime&&this._clickTime--}},t.prototype.openView=function(t){this._compeletFunction=t.Complete,this._prizeCount=t.PrizeCount,e.prototype.openView.call(this,t)},t.prototype.OpenPrizeWindow=function(){this._bg.visible=!1;var e=this;this._prizeCount_Text.text=this._prizeCount.toString(),this._getPrize_View.visible=!0,this._confirm_Btn.once(Laya.Event.CLICK,this,function(){e._compeletFunction&&e._compeletFunction(),e.closeView()})},t.prototype.ShowBanner=function(){console.log("AD_WudianBanner_Show"),r["default"].show()},t.prototype.ButtonClicked=function(){this._clickTime++,this._totalClickTime++,this._clickTime>this._needClickTime&&(this._clickTime=this._needClickTime),this._clickTime>=this._bannerClickTime?(this._clickTime>=this._needClickTime&&(this._clickTime=this._needClickTime-1),this._bannerClicked=!0,console.log("误点Banner套路启动"),this.ShowBanner(),Laya.timer.once(2e3,this,function(){this.BannerClicked()})):this._totalClickTime>this._totalClickTimer&&(console.log("用户一直没点到，放他一马",this._totalClickTime),this.BannerClicked());var e=this._clickTime/this._needClickTime*this._clickBarOriginalWidth;this._clickTime_PBar$Bar.width=e},t.prototype.BannerClicked=function(){o["default"].instance.dispatch_(a.Event_ppxhc_Def.AD_WudianBanner_Hide),this._bannerClicked=!0,this._clickTime=this._needClickTime,this._clickTime_PBar$Bar.width=this._clickBarOriginalWidth,this._click_Btn.visible=!1,this._open_Btn.visible=!0,this.OpenPrizeWindow()},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),r["default"].hide()},t}(i["default"]);n["default"]=s},{"../../CachedWXBannerAd":4,"../../Event/EventDef":7,"../../Event/EventMgr":8,"../../View/ViewBase":132}],89:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../ShareAd/View/BannerAdView"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onAwake=function(){this._owner_ppxhc_Sprite=this.owner,this._auto_ppxhc_Zone=this._owner_ppxhc_Sprite.getChildByName("AutoZone"),this._loop_ppxhc_ADZone=this._owner_ppxhc_Sprite.getChildByName("LoopAD"),this._banner_ppxhc_ADZone=this._owner_ppxhc_Sprite.getChildByName("BannerAD"),this._banner_ppxhc_Ad=this._banner_ppxhc_ADZone.getComponent(i["default"])},t.prototype.onEnable=function(){var e=Laya.stage.width/Laya.stage.height;.5>e?(this._auto_ppxhc_Zone.bottom=this._loop_ppxhc_ADZone.height+this._banner_ppxhc_ADZone.height,this._loop_ppxhc_ADZone.bottom=this._banner_ppxhc_ADZone.height,this._banner_ppxhc_ADZone.visible=!0):(this._auto_ppxhc_Zone.bottom=this._loop_ppxhc_ADZone.height,this._loop_ppxhc_ADZone.bottom=0,this._banner_ppxhc_ADZone.visible=!1)},t.prototype.onDisable=function(){},t.prototype.onUpdate=function(){this._banner_ppxhc_ADZone.visible||this._banner_ppxhc_Ad.clearWXBaner()},t}(Laya.Script);n["default"]=a},{"../../ShareAd/View/BannerAdView":80}],90:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onAwake=function(){var e=Laya.stage.width,n=e/t.baseWidth,i=this.owner;i.scale(n,n)},t.baseWidth=750,t.baseHeight=1334,t}(Laya.Script);n["default"]=i},{}],91:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../ViewBase"),a=e("../../Game/Game"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onAwake=function(){this.playButton=this.owner.getChildByName("PlayButton"),this.resetButton=this.owner.getChildByName("ResetButton"),this.playButton.on(Laya.Event.CLICK,this,this.OnPlayButton),this.resetButton.on(Laya.Event.CLICK,this,this.OnResetButton)},t.prototype.OnPlayButton=function(){a["default"].PlayGame()},t.prototype.OnResetButton=function(){a["default"].ResetGame()},t}(i["default"]);n["default"]=o},{"../../Game/Game":17,"../ViewBase":132}],92:[function(e,t,n){"use strict";function i(e){return null!=e.onViewShow&&"function"==typeof e.onViewShow&&null!=e.onViewHide&&"function"==typeof e.onViewHide?!0:!1}Object.defineProperty(n,"__esModule",{value:!0}),n.isIViewStateListener=i},{}],93:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../ViewBase"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._processWidth=0,t._logo_ppxhc_Ani=null,t}return __extends(t,e),t.prototype.onAwake=function(){this._ppxhc_bg=this.owner.getChildByName("Bg"),this._bottom_ppxhc_Zone=this._ppxhc_bg.getChildByName("BottomZone"),this._process_ppxhc_BarBg=this._bottom_ppxhc_Zone.getChildByName("processBarBg"),this._process_ppxhc_Bar=this._process_ppxhc_BarBg.getChildByName("processBar"),this._processWidth=this._process_ppxhc_Bar.width},t.prototype.onStart=function(){},t.prototype.onEnable=function(){e.prototype.onEnable.call(this)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t.prototype.onUpdate=function(){this._ppxhc_bg.width=Laya.stage.width,this._ppxhc_bg.height=Laya.stage.height},t.prototype.setProcess=function(e){0>e&&(e=0),e>1&&(e=1);var t=this._processWidth*e;1>t&&(t=1),this._process_ppxhc_Bar.width=t},t}(i["default"]);n["default"]=a},{"../ViewBase":132}],94:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../Mgr/WudianMgr"),a=e("../../../Config/AppSwitchConfig"),o=e("../../../Utilit"),r=e("../QQTemplateViewBase"),s=e("../../../QQMiniGameAPI"),l=e("../../../AppConfig"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerZone_ppxhc=null,t._backBtn_ppxhc=null,t._continueBtn_ppxhc=null,t._clickTag_ppxhc=!1,t._clickTimingTag_ppxhc=!1,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._centerZone_ppxhc=this.View.getChildByName("CenterZone"),o["default"].isIphoneX_()&&(this._centerZone_ppxhc.top=this._centerZone_ppxhc.top+75),this._backBtn_ppxhc=this._centerZone_ppxhc.getChildByName("BackBtn"),this._continueBtn_ppxhc=this._centerZone_ppxhc.getChildByName("ContinueBtn")},t.prototype.onStart=function(){e.prototype.onStart.call(this);var t=this;if(i["default"].Wudian_ppxhc_Flag&&l["default"].ppxhc_Versions==a["default"].getInstance().getAppSwitchData().qqcfg.qqversions){if(1==a["default"].getInstance().getAppSwitchData().qqcfg.weiyi){var n=this._centerZone_ppxhc.height-150;this._backBtn_ppxhc.y=n,this._continueBtn_ppxhc.y=n}var o=function(){var e=a["default"].getInstance().getAppSwitchData().btnMoveTimer,n=a["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*n,t,t.BannerUp),Laya.timer.once(1e3*e,t,t.BtnUp)};1==a["default"].getInstance().getAppSwitchData().qqcfg.box?s["default"].showAppBoxAd(function(){o()},function(){o()}):o()}},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._backBtn_ppxhc.on(Laya.Event.CLICK,this,this.onBackBtn),this._continueBtn_ppxhc.on(Laya.Event.CLICK,this,this.onContinueBtn)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._backBtn_ppxhc.off(Laya.Event.CLICK,this,this.onBackBtn),this._continueBtn_ppxhc.off(Laya.Event.CLICK,this,this.onContinueBtn)},t.prototype.onBackBtn=function(){if(this._clickTag_ppxhc||!i["default"].Wudian_ppxhc_Flag);else{if(!this._clickTimingTag_ppxhc){this._clickTimingTag_ppxhc=!0;var e=a["default"].getInstance().getAppSwitchData().btnMoveTimer,t=a["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*t,this,this.BannerUp),Laya.timer.once(1e3*e,this,this.BtnUp)}}},t.prototype.onContinueBtn=function(){if(this._clickTag_ppxhc||!i["default"].Wudian_ppxhc_Flag);else{if(!this._clickTimingTag_ppxhc){this._clickTimingTag_ppxhc=!0;var e=a["default"].getInstance().getAppSwitchData().btnMoveTimer,t=a["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*t,this,this.BannerUp),Laya.timer.once(1e3*e,this,this.BtnUp)}}},t.prototype.BannerUp=function(){},t.prototype.BtnUp=function(){this._clickTag_ppxhc=!0,this._backBtn_ppxhc.y=720,this._continueBtn_ppxhc.y=720},t.prototype.onDestroy=function(){},t}(r["default"]);n["default"]=c},{"../../../AppConfig":2,"../../../Config/AppSwitchConfig":5,"../../../Mgr/WudianMgr":71,"../../../QQMiniGameAPI":78,"../../../Utilit":85,"../QQTemplateViewBase":100}],95:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../Mgr/WudianMgr"),a=e("../../../Config/AppSwitchConfig"),o=e("../../../Utilit"),r=e("../QQTemplateViewBase"),s=e("../../../QQMiniGameAPI"),l=e("../../../AppConfig"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerZone_ppxhc=null,t._backBtn_ppxhc=null,t._nextBtn_ppxhc=null,t._clickTag_ppxhc=!1,t._clickTimingTag_ppxhc=!1,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._centerZone_ppxhc=this.View.getChildByName("CenterZone"),o["default"].isIphoneX_()&&(this._centerZone_ppxhc.top=this._centerZone_ppxhc.top+75),this._backBtn_ppxhc=this._centerZone_ppxhc.getChildByName("BackBtn"),this._nextBtn_ppxhc=this._centerZone_ppxhc.getChildByName("NextBtn")},t.prototype.onStart=function(){e.prototype.onStart.call(this);var t=this;if(i["default"].Wudian_ppxhc_Flag&&l["default"].ppxhc_Versions==a["default"].getInstance().getAppSwitchData().qqcfg.qqversions){if(1==a["default"].getInstance().getAppSwitchData().qqcfg.weiyi){var n=this._centerZone_ppxhc.height-150;this._backBtn_ppxhc.y=n,this._nextBtn_ppxhc.y=n}var o=function(){var e=a["default"].getInstance().getAppSwitchData().btnMoveTimer,n=a["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*n,t,t.BannerUp),Laya.timer.once(1e3*e,t,t.BtnUp)};1==a["default"].getInstance().getAppSwitchData().qqcfg.box?s["default"].showAppBoxAd(function(){o()},function(){o()}):o()}},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._backBtn_ppxhc.on(Laya.Event.CLICK,this,this.onBackBtn),this._nextBtn_ppxhc.on(Laya.Event.CLICK,this,this.onNextBtn)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._backBtn_ppxhc.off(Laya.Event.CLICK,this,this.onBackBtn),this._nextBtn_ppxhc.off(Laya.Event.CLICK,this,this.onNextBtn)},t.prototype.onBackBtn=function(){if(this._clickTag_ppxhc||!i["default"].Wudian_ppxhc_Flag);else{if(!this._clickTimingTag_ppxhc){this._clickTimingTag_ppxhc=!0;var e=a["default"].getInstance().getAppSwitchData().btnMoveTimer,t=a["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*t,this,this.BannerUp),Laya.timer.once(1e3*e,this,this.BtnUp)}}},t.prototype.onNextBtn=function(){if(this._clickTag_ppxhc||!i["default"].Wudian_ppxhc_Flag);else{if(!this._clickTimingTag_ppxhc){this._clickTimingTag_ppxhc=!0;var e=a["default"].getInstance().getAppSwitchData().btnMoveTimer,t=a["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*t,this,this.BannerUp),Laya.timer.once(1e3*e,this,this.BtnUp)}}},t.prototype.BannerUp=function(){},t.prototype.BtnUp=function(){this._clickTag_ppxhc=!0,this._backBtn_ppxhc.y=720,this._nextBtn_ppxhc.y=720},t.prototype.onDestroy=function(){},t}(r["default"]);n["default"]=c},{"../../../AppConfig":2,"../../../Config/AppSwitchConfig":5,"../../../Mgr/WudianMgr":71,"../../../QQMiniGameAPI":78,"../../../Utilit":85,"../QQTemplateViewBase":100}],96:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../Utilit"),a=e("../QQTemplateViewBase"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerZone_ppxhc=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._centerZone_ppxhc=this.View.getChildByName("CenterZone");var t=Laya.stage.width/Laya.stage.height;.5>t?i["default"].isIphoneX_()&&(this._centerZone_ppxhc.top=this._centerZone_ppxhc.top+75):(this._centerZone_ppxhc.top=this._centerZone_ppxhc.top-200,i["default"].isIphoneX_()&&(this._centerZone_ppxhc.top=this._centerZone_ppxhc.top+75))},t.prototype.onStart=function(){e.prototype.onStart.call(this)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t}(a["default"]);n["default"]=o},{"../../../Utilit":85,"../QQTemplateViewBase":100}],97:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../Event/EventMgr"),a=e("../../../Event/EventDef"),o=e("../../../User/User"),r=e("../../../Utilit"),s=e("../QQTemplateViewBase"),l=e("../../../QQMiniGameAPI"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerZone_ppxhc=null,t._startBtn_ppxhc=null,t._levelNum_ppxhc=null,t._moneyNum_ppxhc=null,t._moreGameBtn_ppxhc=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._centerZone_ppxhc=this.View.getChildByName("CenterZone"),this._moreGameBtn_ppxhc=this._centerZone_ppxhc.getChildByName("MoreGameBtn");var t=Laya.stage.width/Laya.stage.height;.5>t?r["default"].isIphoneX_()&&(this._centerZone_ppxhc.top=this._centerZone_ppxhc.top+75):r["default"].isIphoneX_()&&(this._centerZone_ppxhc.top=this._centerZone_ppxhc.top+75),this._startBtn_ppxhc=this._centerZone_ppxhc.getChildByName("StartBtn"),this._levelNum_ppxhc=this._centerZone_ppxhc.getChildByName("LevelInfo").getChildByName("LevelNum"),this._moneyNum_ppxhc=this._centerZone_ppxhc.getChildByName("MoneyInfo").getChildByName("MoneyNum")},t.prototype.onStart=function(){e.prototype.onStart.call(this),this._moneyNum_ppxhc.value=String(o["default"].get_ppxhc_Money()),this._levelNum_ppxhc.value=String(o["default"].get_ppxhc_LeveNum())},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._startBtn_ppxhc.on(Laya.Event.CLICK,this,this.onStartBtn),this._moreGameBtn_ppxhc.on(Laya.Event.CLICK,this,this.onMoreGameBtn),i["default"].instance.regEvemt_(a.Event_ppxhc_Def.Game_OnUserMoneyChange,this,this.onUserMoneyChange)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._startBtn_ppxhc.off(Laya.Event.CLICK,this,this.onStartBtn),this._moreGameBtn_ppxhc.off(Laya.Event.CLICK,this,this.onMoreGameBtn),i["default"].instance.removeEvent_(a.Event_ppxhc_Def.Game_OnUserMoneyChange,this,this.onUserMoneyChange)},t.prototype.onStartBtn=function(){},t.prototype.onMoreGameBtn=function(){l["default"].showAppBoxAd(function(){})},t.prototype.onUserMoneyChange=function(e){var t=e.curr;e.last;this._moneyNum_ppxhc.value=String(t)},t}(s["default"]);n["default"]=c},{"../../../Event/EventDef":7,"../../../Event/EventMgr":8,"../../../QQMiniGameAPI":78,"../../../User/User":84,"../../../Utilit":85,"../QQTemplateViewBase":100}],98:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../View/ViewBase"),a=e("../../../Event/EventDef"),o=e("../../../Event/EventMgr"),r=e("../../../Config/AppSwitchConfig"),s=e("../../../CachedQQBannerAd"),l=e("../../../AppConfig"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._clickBar_ppxhc=null,t._totalClickTimer_ppxhc=15,t._needClickTime_ppxhc=10,t._bannerClickTime_ppxhc=Math.floor(5*Math.random())+2,t}return __extends(t,e),t.prototype.onAwake=function(){var e=this;this.drgon=this.owner.getChildByName("panch"),this._click_Btn_ppxhc=this.owner.getChildByName("Click_Btn"),this._click_Btn_ppxhc.on(Laya.Event.CLICK,this,this.ButtonClicked),this._arrow_Img_ppxhc=this._click_Btn_ppxhc.getChildByName("Arrow_Img"),this._getPrize_View_ppxhc=this.owner.getChildByName("GetPrize_View"),this._prizeCount_Text_ppxhc=this._getPrize_View_ppxhc.getChildByName("PrizeCount_Text"),this._confirm_Btn_ppxhc=this._getPrize_View_ppxhc.getChildByName("Confirm_Btn"),this._getPrize_View_ppxhc.visible=!1,this._clickBar_ppxhc=this.owner.getChildByName("ClickBar").getChildByName("ClickBar"),this._clickBarOriginalWidth_ppxhc=this._clickBar_ppxhc.width,this._clickBar_ppxhc.width=0,this._clickTime_ppxhc=0,this._totalClickTime_ppxhc=0;var t=this;Laya.loader.load("ClickGetPrize/quanji.png",Laya.Handler.create(this,function(n){n.bitmap.lock=!0,Laya.loader.load("ClickGetPrize/quanji.sk",Laya.Handler.create(e,function(e){console.log("texture",n),console.log("bytes",e);var i=new Laya.Templet;i.parseData(n,e),t.drgon=i.buildArmature(),t.owner.addChild(t.drgon),t.drgon.x=375,t.drgon.y=610,t.drgon.scaleX=2,t.drgon.scaleY=2,t.drgon.parent.setChildIndex(t.drgon,1),t.drgon.play(0,!0),console.log("quanji 加载完成!!!!",i)}),Laya.Handler.create(e,function(){}),"",0,!1,"",!0)}),Laya.Handler.create(this,function(){}),"",0,!1,"",!0)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),Laya.stage.on(Laya.Event.FOCUS_CHANGE,this,this.onFocusChange)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),Laya.stage.off(Laya.Event.FOCUS_CHANGE,this,this.onFocusChange)},t.prototype.onUpdate=function(){if(this._arrowUp_ppxhc?(this._arrow_Img_ppxhc.top+=Laya.timer.delta/5,this._arrow_Img_ppxhc.top>-140&&(this._arrowUp_ppxhc=!1)):(this._arrow_Img_ppxhc.top-=Laya.timer.delta/5,this._arrow_Img_ppxhc.top<-180&&(this._arrowUp_ppxhc=!0)),!this._bannerClicked_ppxhc){var e=2+this._clickBar_ppxhc.width/this._clickBarOriginalWidth_ppxhc*4;this._clickBar_ppxhc.width>=e&&(this._clickBar_ppxhc.width-=e),this._clickBar_ppxhc.width/this._clickBarOriginalWidth_ppxhc+.1<this._clickTime_ppxhc/this._needClickTime_ppxhc&&this._clickTime_ppxhc--}},t.prototype.openView=function(t){this._compeletFunction_ppxhc=t.Complete,this._prizeCount_ppxhc=t.PrizeCount,e.prototype.openView.call(this,t)},t.prototype.OpenPrizeWindow=function(){var e=this;this._prizeCount_Text_ppxhc.text=this._prizeCount_ppxhc.toString(),this._getPrize_View_ppxhc.visible=!0,this._confirm_Btn_ppxhc.once(Laya.Event.CLICK,this,function(){s["default"].hide(),e._compeletFunction_ppxhc&&e._compeletFunction_ppxhc(),e.closeView()})},t.prototype.ShowBanner=function(){1==r["default"].getInstance().getAppSwitchData().qqcfg.kuangdianBanner&&l["default"].ppxhc_Versions==r["default"].getInstance().getAppSwitchData().qqcfg.qqversions&&s["default"].show()},t.prototype.ButtonClicked=function(){var e=this;if(this._clickTime_ppxhc++,this._totalClickTime_ppxhc++,this.drgon.play(1,!1),this.drgon.once(Laya.Event.STOPPED,this,function(){e.drgon.play(0,!0)}),this._clickTime_ppxhc>this._needClickTime_ppxhc&&(this._clickTime_ppxhc=this._needClickTime_ppxhc),this._clickTime_ppxhc>=this._bannerClickTime_ppxhc){if(this._clickTime_ppxhc>=this._needClickTime_ppxhc&&(this._clickTime_ppxhc=this._needClickTime_ppxhc-1),this._bannerClicked_ppxhc)return;this._bannerClicked_ppxhc=!0,this.ShowBanner(),Laya.timer.once(2e3,this,function(){this.BannerClicked()})}else this._totalClickTime_ppxhc>this._totalClickTimer_ppxhc&&(this.ShowBanner(),this.BannerClicked());var t=this._clickTime_ppxhc/this._needClickTime_ppxhc*this._clickBarOriginalWidth_ppxhc;this._clickBar_ppxhc.width=t},t.prototype.BannerClicked=function(){o["default"].instance.dispatch_(a.Event_ppxhc_Def.AD_WudianBanner_Hide),this._bannerClicked_ppxhc=!0,this._clickTime_ppxhc=this._needClickTime_ppxhc,this._clickBar_ppxhc.width=this._clickBarOriginalWidth_ppxhc,this._click_Btn_ppxhc.visible=!1,this.OpenPrizeWindow()},t.prototype.onDestroy=function(){1==r["default"].getInstance().getAppSwitchData().qqcfg.kuangdianBanner&&l["default"].ppxhc_Versions==r["default"].getInstance().getAppSwitchData().qqcfg.qqversions&&s["default"].hide()},t.prototype.onFocusChange=function(){null!=this.drgon&&this.drgon.play(0,!0)},t}(i["default"]);n["default"]=c},{"../../../AppConfig":2,"../../../CachedQQBannerAd":3,"../../../Config/AppSwitchConfig":5,"../../../Event/EventDef":7,"../../../Event/EventMgr":8,"../../../View/ViewBase":132}],99:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../View/ViewBase"),a=e("../../../Event/EventDef"),o=e("../../../Event/EventMgr"),r=e("../../../Config/AppSwitchConfig"),s=e("../../../QQMiniGameAPI"),l=e("../../../AppConfig"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._clickBar=null,t._totalClickTimer=15,t._needClickTime=10,t._bannerClickTime=Math.floor(5*Math.random())+2,t._clickBtn=null,t}return __extends(t,e),t.prototype.onAwake=function(){this._getPrize_View=this.owner.getChildByName("GetPrize_View"),this._prizeCount_Text=this._getPrize_View.getChildByName("PrizeCount_Text"),this._confirm_Btn=this._getPrize_View.getChildByName("Confirm_Btn"),this._getPrize_View.visible=!1,this._clickBar=this.owner.getChildByName("ClickBar").getChildByName("ClickBar"),this._clickBarOriginalWidth=this._clickBar.width,this._clickBar.width=0,this._clickTime=0,this._totalClickTime=0;var e=this;Laya.loader.load("ClickGetPrize/quanji.png",Laya.Handler.create(e,function(t){t.bitmap.lock=!0,Laya.loader.load("ClickGetPrize/quanji.sk",Laya.Handler.create(e,function(n){var i=new Laya.Templet;i.parseData(t,n),e.drgon=i.buildArmature(),e.owner.addChild(e.drgon),e.drgon.x=375,e.drgon.y=610,e.drgon.scaleX=2,e.drgon.scaleY=2,e.drgon.parent.setChildIndex(e.drgon,1),e.drgon.play(0,!0),console.log("quanji 加载完成!!!!",i)}),Laya.Handler.create(e,function(){}),"",0,!1,"",!0)}),Laya.Handler.create(e,function(){}),"",0,!1,"",!0),Laya.loader.load("ClickGetPrize/NewProject.png",Laya.Handler.create(e,function(t){t.bitmap.lock=!0,Laya.loader.load("ClickGetPrize/NewProject.sk",Laya.Handler.create(e,function(n){var i=new Laya.Templet;i.parseData(t,n);var a=i.buildArmature();e.owner.addChild(a),a.x=360,a.y=617,a.parent.setChildIndex(a,2),a.play(0,!0),e._clickBtn=new Laya.Clip,e.owner.addChild(e._clickBtn),e._clickBtn.x=260,e._clickBtn.y=517,e._clickBtn.width=200,e._clickBtn.height=200,e._clickBtn.parent.setChildIndex(e._clickBtn,3),e._clickBtn.on(Laya.Event.CLICK,e,e.ButtonClicked),console.log("手指动画 加载完成!!!!",i)}),Laya.Handler.create(e,function(){}),"",0,!1,"",!0)}),Laya.Handler.create(e,function(){}),"",0,!1,"",!0)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),Laya.stage.on(Laya.Event.FOCUS_CHANGE,this,this.onFocusChange)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),Laya.stage.off(Laya.Event.FOCUS_CHANGE,this,this.onFocusChange)},t.prototype.onUpdate=function(){if(!this._bannerClicked){var e=2+this._clickBar.width/this._clickBarOriginalWidth*4;this._clickBar.width>=e&&(this._clickBar.width-=e),this._clickBar.width/this._clickBarOriginalWidth+.1<this._clickTime/this._needClickTime&&this._clickTime--}},t.prototype.openView=function(t){
this._compeletFunction=t.Complete,this._prizeCount=t.PrizeCount,e.prototype.openView.call(this,t)},t.prototype.OpenPrizeWindow=function(){var e=this;this._prizeCount_Text.text=this._prizeCount.toString(),this._getPrize_View.visible=!0,this._confirm_Btn.once(Laya.Event.CLICK,this,function(){e._compeletFunction&&e._compeletFunction(),e.closeView()})},t.prototype.ShowBanner=function(){1==r["default"].getInstance().getAppSwitchData().qqcfg.kuangdianBox&&l["default"].ppxhc_Versions==r["default"].getInstance().getAppSwitchData().qqcfg.qqversions&&s["default"].showAppBoxAd(function(){})},t.prototype.ButtonClicked=function(){var e=this;if(this._clickTime++,this._totalClickTime++,null!=this.drgon&&(this.drgon.play(1,!1),this.drgon.once(Laya.Event.STOPPED,this,function(){e.drgon.play(0,!0)})),this._clickTime>this._needClickTime&&(this._clickTime=this._needClickTime),this._clickTime>=this._bannerClickTime){if(this._clickTime>=this._needClickTime&&(this._clickTime=this._needClickTime-1),this._bannerClicked)return;this._bannerClicked=!0,this.ShowBanner(),Laya.timer.once(2e3,this,function(){this.BannerClicked()})}else this._totalClickTime>this._totalClickTimer&&(this.ShowBanner(),this.BannerClicked());var t=this._clickTime/this._needClickTime*this._clickBarOriginalWidth;this._clickBar.width=t},t.prototype.BannerClicked=function(){o["default"].instance.dispatch_(a.Event_ppxhc_Def.AD_WudianBanner_Hide),this._bannerClicked=!0,this._clickTime=this._needClickTime,this._clickBar.width=this._clickBarOriginalWidth,this._clickBtn.visible=!1,this.OpenPrizeWindow()},t.prototype.onDestroy=function(){},t.prototype.onFocusChange=function(){null!=this.drgon&&this.drgon.play(0,!0)},t}(i["default"]);n["default"]=c},{"../../../AppConfig":2,"../../../Config/AppSwitchConfig":5,"../../../Event/EventDef":7,"../../../Event/EventMgr":8,"../../../QQMiniGameAPI":78,"../../../View/ViewBase":132}],100:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../ViewBase"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onAwake=function(){},t.prototype.addEvent=function(){e.prototype.addEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t}(i["default"]);n["default"]=a},{"../ViewBase":132}],101:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../Mgr/WudianMgr"),a=e("../../../Config/AppSwitchConfig"),o=e("../../../Utilit"),r=e("../TTTemplateViewBase"),s=e("../../../TTAPI"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerZone_ppxhc=null,t._clickTag_ppxhc=!1,t._clickTimingTag_ppxhc=!1,t._moreGameBtn_ppxhc=null,t._shareBtn_ppxhc=null,t._backBtn_ppxhc=null,t._okBtn_ppxhc=null,t._videoBtn_ppxhc=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._centerZone_ppxhc=this.View.getChildByName("CenterZone"),o["default"].isIphoneX_()&&(this._centerZone_ppxhc.top=this._centerZone_ppxhc.top+75),this._moreGameBtn_ppxhc=this._centerZone_ppxhc.getChildByName("MoreGameBtn"),this._shareBtn_ppxhc=this._centerZone_ppxhc.getChildByName("ShareBtn"),this._backBtn_ppxhc=this._centerZone_ppxhc.getChildByName("BackBtn"),this._okBtn_ppxhc=this._centerZone_ppxhc.getChildByName("OkBtn"),this._videoBtn_ppxhc=this._centerZone_ppxhc.getChildByName("VideoBtn"),this._moreGameBtn_ppxhc.visible=1==a["default"].getInstance().getAppSwitchData().ttcfg.moreGameSwitch},t.prototype.onStart=function(){if(e.prototype.onStart.call(this),i["default"].Wudian_ppxhc_Flag){var t=this._centerZone_ppxhc.height-150;this._backBtn_ppxhc.y=t,this._okBtn_ppxhc.y=t,this._videoBtn_ppxhc.y=t}var n=a["default"].getInstance().getAppSwitchData().btnMoveTimer,o=a["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*o,this,this.BannerUp),Laya.timer.once(1e3*n,this,this.BtnUp),1==a["default"].getInstance().getAppSwitchData().ttcfg.luping&&s["default"].shareRecord(function(){},function(){})},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._backBtn_ppxhc.on(Laya.Event.CLICK,this,this.onBackBtn),this._okBtn_ppxhc.on(Laya.Event.CLICK,this,this.onOkBtn),this._videoBtn_ppxhc.on(Laya.Event.CLICK,this,this.onOkBtn),this._moreGameBtn_ppxhc.on(Laya.Event.CLICK,this,this.onMoreGameBtn),this._shareBtn_ppxhc.on(Laya.Event.CLICK,this,this.onShareBtn)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._backBtn_ppxhc.off(Laya.Event.CLICK,this,this.onBackBtn),this._okBtn_ppxhc.off(Laya.Event.CLICK,this,this.onOkBtn),this._videoBtn_ppxhc.off(Laya.Event.CLICK,this,this.onOkBtn),this._moreGameBtn_ppxhc.off(Laya.Event.CLICK,this,this.onMoreGameBtn),this._shareBtn_ppxhc.off(Laya.Event.CLICK,this,this.onShareBtn)},t.prototype.onBackBtn=function(){if(this._clickTag_ppxhc||!i["default"].Wudian_ppxhc_Flag);else{if(!this._clickTimingTag_ppxhc){this._clickTimingTag_ppxhc=!0;var e=a["default"].getInstance().getAppSwitchData().btnMoveTimer,t=a["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*t,this,this.BannerUp),Laya.timer.once(1e3*e,this,this.BtnUp)}}},t.prototype.onOkBtn=function(){if(this._clickTag_ppxhc||!i["default"].Wudian_ppxhc_Flag);else{if(!this._clickTimingTag_ppxhc){this._clickTimingTag_ppxhc=!0;var e=a["default"].getInstance().getAppSwitchData().btnMoveTimer,t=a["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*t,this,this.BannerUp),Laya.timer.once(1e3*e,this,this.BtnUp)}}},t.prototype.onVideoBtn=function(){if(this._clickTag_ppxhc||!i["default"].Wudian_ppxhc_Flag)s["default"].shareRecord(function(){},function(){});else{if(!this._clickTimingTag_ppxhc){this._clickTimingTag_ppxhc=!0;var e=a["default"].getInstance().getAppSwitchData().btnMoveTimer,t=a["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*t,this,this.BannerUp),Laya.timer.once(1e3*e,this,this.BtnUp)}}},t.prototype.BannerUp=function(){s["default"].showBanner()},t.prototype.BtnUp=function(){this._clickTag_ppxhc=!0,this._backBtn_ppxhc.y=720,this._okBtn_ppxhc.y=720,this._videoBtn_ppxhc.y=720},t.prototype.onMoreGameBtn=function(){s["default"].showMoreGamesModal(function(){},function(){})},t.prototype.onShareBtn=function(){s["default"].share(function(){})},t.prototype.onDestroy=function(){s["default"].hideBanner()},t}(r["default"]);n["default"]=l},{"../../../Config/AppSwitchConfig":5,"../../../Mgr/WudianMgr":71,"../../../TTAPI":83,"../../../Utilit":85,"../TTTemplateViewBase":114}],102:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../GameFail/TTGameFailViewTemplate"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(i["default"]);n["default"]=a},{"../GameFail/TTGameFailViewTemplate":101}],103:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../Event/EventMgr"),a=e("../../../Event/EventDef"),o=e("../../../User/User"),r=e("../../../Utilit"),s=e("../TTTemplateViewBase"),l=e("../../../TTAPI"),c=e("../../../Config/AppSwitchConfig"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerZone_ppxhc=null,t._startBtn_ppxhc=null,t._levelNum_ppxhc=null,t._moneyNum_ppxhc=null,t._moreGameBtn_ppxhc=null,t._shareBtn_ppxhc=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._centerZone_ppxhc=this.View.getChildByName("CenterZone"),this._moreGameBtn_ppxhc=this._centerZone_ppxhc.getChildByName("MoreGameBtn"),this._shareBtn_ppxhc=this._centerZone_ppxhc.getChildByName("ShareBtn");var t=Laya.stage.width/Laya.stage.height;.5>t?r["default"].isIphoneX_()&&(this._centerZone_ppxhc.top=this._centerZone_ppxhc.top+75):(this._centerZone_ppxhc.top=this._centerZone_ppxhc.top-200,r["default"].isIphoneX_()&&(this._centerZone_ppxhc.top=this._centerZone_ppxhc.top+75)),this._startBtn_ppxhc=this._centerZone_ppxhc.getChildByName("StartBtn"),this._levelNum_ppxhc=this._centerZone_ppxhc.getChildByName("LevelInfo").getChildByName("LevelNum"),this._moneyNum_ppxhc=this._centerZone_ppxhc.getChildByName("MoneyInfo").getChildByName("MoneyNum"),this._moreGameBtn_ppxhc.visible=1==c["default"].getInstance().getAppSwitchData().ttcfg.moreGameSwitch},t.prototype.onStart=function(){e.prototype.onStart.call(this),this._moneyNum_ppxhc.value=String(o["default"].get_ppxhc_Money()),this._levelNum_ppxhc.value=String(o["default"].get_ppxhc_LeveNum())},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._startBtn_ppxhc.on(Laya.Event.CLICK,this,this.onStartBtn),i["default"].instance.regEvemt_(a.Event_ppxhc_Def.Game_OnUserMoneyChange,this,this.onUserMoneyChange),this._moreGameBtn_ppxhc.on(Laya.Event.CLICK,this,this.onMoreGameBtn),this._shareBtn_ppxhc.on(Laya.Event.CLICK,this,this.onShareBtn)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._startBtn_ppxhc.off(Laya.Event.CLICK,this,this.onStartBtn),i["default"].instance.removeEvent_(a.Event_ppxhc_Def.Game_OnUserMoneyChange,this,this.onUserMoneyChange),this._moreGameBtn_ppxhc.off(Laya.Event.CLICK,this,this.onMoreGameBtn),this._shareBtn_ppxhc.off(Laya.Event.CLICK,this,this.onShareBtn)},t.prototype.onStartBtn=function(){},t.prototype.onMoreGameBtn=function(){l["default"].showMoreGamesModal(function(){},function(){})},t.prototype.onShareBtn=function(){l["default"].share(function(){})},t.prototype.onUserMoneyChange=function(e){var t=e.curr;e.last;this._moneyNum_ppxhc.value=String(t)},t}(s["default"]);n["default"]=h},{"../../../Config/AppSwitchConfig":5,"../../../Event/EventDef":7,"../../../Event/EventMgr":8,"../../../TTAPI":83,"../../../User/User":84,"../../../Utilit":85,"../TTTemplateViewBase":114}],104:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../TTTemplateViewBase"),a=e("../../../TTAPI"),o=e("../../../Utilit"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerZone=null,t._adToggle=null,t._adToggleTag=null,t._rewardBtn=null,t._shareBtn=null,t._ading=!1,t}return __extends(t,e),t.prototype.onAwake=function(){this._topZone=this.View.getChildByName("TopZone"),this._centerZone=this.View.getChildByName("CenterZone");var e=Laya.stage.width/Laya.stage.height;.5>e&&o["default"].isIphoneX_()&&(this._centerZone.top=this._centerZone.top+75),this._adToggle=this._centerZone.getChildByName("AdToggle"),this._adToggleTag=this._adToggle.getChildByName("Tag"),this._adToggleTag.visible=0==Math.floor(2*Math.random()),this._rewardBtn=this._centerZone.getChildByName("RewardBtn"),this._shareBtn=this._centerZone.getChildByName("ShareBtn")},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._rewardBtn.on(Laya.Event.CLICK,this,this.onResurrectionBtn),this._adToggle.on(Laya.Event.CLICK,this,this.onAdToggle),this._shareBtn.on(Laya.Event.CLICK,this,this.onShareBtn)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._rewardBtn.off(Laya.Event.CLICK,this,this.onResurrectionBtn),this._adToggle.off(Laya.Event.CLICK,this,this.onAdToggle),this._shareBtn.off(Laya.Event.CLICK,this,this.onShareBtn)},t.prototype.onResurrectionBtn=function(){if(!this._ading){this._ading=!0;var e=this;this._adToggleTag.visible&&a["default"].showRewardedVideoAd_ppxhc(function(t){t||(e._ading=!1)},function(){e._ading=!1})}},t.prototype.onAdToggle=function(){this._ading||(this._adToggleTag.visible=!this._adToggleTag.visible)},t.prototype.onShareBtn=function(){a["default"].shareRecord(function(){},function(){})},t}(i["default"]);n["default"]=r},{"../../../TTAPI":83,"../../../Utilit":85,"../TTTemplateViewBase":114}],105:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../TTTemplateViewBase"),a=e("../../../TTAPI"),o=e("../../../Utilit"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerZone=null,t._adToggle=null,t._adToggleTag=null,t._resurrectionBtn=null,t._skipBtn=null,t._skipOkTag=null,t._skipNoTag=null,t._ading=!1,t}return __extends(t,e),t.prototype.onAwake=function(){this._topZone=this.View.getChildByName("TopZone"),this._centerZone=this.View.getChildByName("CenterZone");var e=Laya.stage.width/Laya.stage.height;.5>e&&o["default"].isIphoneX_()&&(this._centerZone.top=this._centerZone.top+75),this._adToggle=this._centerZone.getChildByName("AdToggle"),this._adToggleTag=this._adToggle.getChildByName("Tag"),this._resurrectionBtn=this._centerZone.getChildByName("ResurrectionBtn"),this._skipBtn=this._centerZone.getChildByName("SkipBtn"),this._skipOkTag=this._skipBtn.getChildByName("Ok"),this._skipNoTag=this._skipBtn.getChildByName("No"),this._adToggleTag.visible=0==Math.floor(2*Math.random()),this.onAdToggleStateChange(this._adToggleTag.visible)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._resurrectionBtn.on(Laya.Event.CLICK,this,this.onResurrectionBtn),this._adToggle.on(Laya.Event.CLICK,this,this.onAdToggle),this._skipBtn.on(Laya.Event.CLICK,this,this.onSkipBtn)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._resurrectionBtn.off(Laya.Event.CLICK,this,this.onResurrectionBtn),this._adToggle.off(Laya.Event.CLICK,this,this.onAdToggle),this._skipBtn.off(Laya.Event.CLICK,this,this.onSkipBtn)},t.prototype.onResurrectionBtn=function(){if(!this._ading){this._ading=!0;var e=this;a["default"].showRewardedVideoAd_ppxhc(function(t){t||(e._ading=!1)},function(){e._ading=!1})}},t.prototype.onAdToggle=function(){this._ading||(this._adToggleTag.visible=!this._adToggleTag.visible,this.onAdToggleStateChange(this._adToggleTag.visible))},t.prototype.onSkipBtn=function(){if(!this._ading){this._ading=!0;var e=this;this._adToggleTag.visible&&a["default"].showRewardedVideoAd_ppxhc(function(t){t||(e._ading=!1)},function(){e._ading=!1})}},t.prototype.onAdToggleStateChange=function(e){e?(this._skipOkTag.visible=!0,this._skipNoTag.visible=!1):(this._skipOkTag.visible=!1,this._skipNoTag.visible=!0)},t}(i["default"]);n["default"]=r},{"../../../TTAPI":83,"../../../Utilit":85,"../TTTemplateViewBase":114}],106:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._view=null,t._adTag=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"AdTag",{get:function(){return this._adTag},enumerable:!0,configurable:!0}),t.prototype.init=function(e){this._view=e,this._adTag=this.owner.getChildByName("AdTag")},t.prototype.onEnable=function(){this.owner.on(Laya.Event.CLICK,this,this.onSelfClick)},t.prototype.onDisable=function(){this.owner.off(Laya.Event.CLICK,this,this.onSelfClick)},t.prototype.onSelfClick=function(){null!=this._view&&this._view.onRewardBoxClick(this)},t}(Laya.Script);n["default"]=i},{}],107:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../TTTemplateViewBase"),a=e("./RewardBox"),o=e("../../../TTAPI"),r=e("../../../Utilit"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerZone=null,t._rewardBoxs=[],t._keysRoot=null,t._keys=[],t._keyCount=3,t._getKeyZone=null,t._adToggle=null,t._adToggleTag=null,t._getKeyBtn=null,t._skipBtn=null,t._skipOkTag=null,t._skipNoTag=null,t._getKeyTimes=1,t._ading=!1,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._topZone=this.View.getChildByName("TopZone"),this._centerZone=this.View.getChildByName("CenterZone");var t=Laya.stage.width/Laya.stage.height;.5>t&&r["default"].isIphoneX_()&&(this._centerZone.top=this._centerZone.top+75),this._getKeyZone=this._centerZone.getChildByName("GetKeyZone"),this._adToggle=this._getKeyZone.getChildByName("AdToggle"),this._adToggleTag=this._adToggle.getChildByName("Tag"),this._getKeyBtn=this._getKeyZone.getChildByName("GetKeyBtn"),this._skipBtn=this._getKeyZone.getChildByName("SkipBtn"),this._skipOkTag=this._skipBtn.getChildByName("Ok"),this._skipNoTag=this._skipBtn.getChildByName("No"),this._adToggleTag.visible=0==Math.floor(2*Math.random()),this.onAdToggleStateChange(this._adToggleTag.visible);for(var n=this._centerZone.getChildByName("BoxsRoot"),i=[],o=0;o<n.numChildren;++o){var s=n.getChildAt(o),l=s.getComponent(a["default"]);l.init(this),l.AdTag.visible=!1,this._rewardBoxs.push(l),i.push(o)}for(var o=0;o<i.length;++o){var c=i[o],h=Math.floor(Math.random()*i.length),p=i[h];i[h]=c,i[o]=p}for(var o=0;3>o;++o)this._rewardBoxs[i.shift()].AdTag.visible=!0;this._keysRoot=this._centerZone.getChildByName("KeysRoot");for(var o=0;o<this._keysRoot.numChildren;++o){var u=this._keysRoot.getChildAt(o);this._keys.push(u)}this.refreshKeyState()},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._getKeyBtn.on(Laya.Event.CLICK,this,this.onGetKeyBtn),this._adToggle.on(Laya.Event.CLICK,this,this.onAdToggle),this._skipBtn.on(Laya.Event.CLICK,this,this.onSkipText)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._getKeyBtn.off(Laya.Event.CLICK,this,this.onGetKeyBtn),this._adToggle.off(Laya.Event.CLICK,this,this.onAdToggle),this._skipBtn.off(Laya.Event.CLICK,this,this.onSkipText)},t.prototype.onRewardBoxClick=function(e){if(!this._ading){if(e.AdTag.visible){this._ading=!0;var t=this;return void o["default"].showRewardedVideoAd_ppxhc(function(n){n||(t._ading=!1,e.AdTag.visible=!1)},function(){t._ading=!1})}this._keyCount<=0||(--this._keyCount,this.refreshKeyState())}},t.prototype.refreshKeyState=function(){for(var e=0;e<this._keys.length;++e){var t=this._keys[e];t.visible=e+1<=this._keyCount}this._getKeyZone.visible=this._keyCount<=0&&this._getKeyTimes>0,this._keysRoot.visible=this._keyCount>0||this._getKeyTimes<=0},t.prototype.onGetKeyBtn=function(){if(!(this._ading||this._getKeyTimes<=0)){this._ading=!0;var e=this;o["default"].showRewardedVideoAd_ppxhc(function(t){t?(--e._getKeyTimes,e._keyCount=3,e.refreshKeyState(),e._ading=!1):e._ading=!1},function(){e._ading=!1})}},t.prototype.onAdToggle=function(){this._ading||(this._adToggleTag.visible=!this._adToggleTag.visible,this.onAdToggleStateChange(this._adToggleTag.visible))},t.prototype.onSkipText=function(){if(!this._ading){this._ading=!0;var e=this;this._adToggleTag.visible&&this._getKeyTimes>0&&o["default"].showRewardedVideoAd_ppxhc(function(t){t?(--e._getKeyTimes,e._keyCount=3,e.refreshKeyState(),e._ading=!1):e._ading=!1},function(){e._ading=!1})}},t.prototype.onAdToggleStateChange=function(e){e?(this._skipOkTag.visible=!0,this._skipNoTag.visible=!1):(this._skipOkTag.visible=!1,this._skipNoTag.visible=!0)},t}(i["default"]);n["default"]=s},{"../../../TTAPI":83,"../../../Utilit":85,"../TTTemplateViewBase":114,"./RewardBox":106}],108:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../TTTemplateViewBase"),a=e("../../../Net/HttpUnit"),o=e("../../../TTAPI"),r=e("../../../Utilit"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerZone=null,t._signIconRoot=null,t._signIcons=[],t._signMasks=[],t._adToggle=null,t._adToggleTag=null,t._signInBtn=null,t._skipBtn=null,t._skipOkTag=null,t._skipNoTag=null,t._signedTag=null,t._signIning=!1,t}return __extends(t,e),t.prototype.onAwake=function(){this._topZone=this.View.getChildByName("TopZone"),this._centerZone=this.View.getChildByName("CenterZone");var e=Laya.stage.width/Laya.stage.height;.5>e&&r["default"].isIphoneX_()&&(this._centerZone.top=this._centerZone.top+75),this._signIconRoot=this._centerZone.getChildByName("SignIconRoot");for(var t=0;t<this._signIconRoot.numChildren;++t){var n=this._signIconRoot.getChildByName(String(t+1)),i=n.getChildByName("Ok");i.visible=!1;var a=n.getChildByName("Mask");a.visible=!0,this._signIcons.push(i),this._signMasks.push(a)}this._adToggle=this._centerZone.getChildByName("AdToggle"),this._adToggleTag=this._adToggle.getChildByName("Tag"),this._signInBtn=this._centerZone.getChildByName("SignInBtn"),this._skipBtn=this._centerZone.getChildByName("SkipBtn"),this._skipOkTag=this._skipBtn.getChildByName("Ok"),this._skipNoTag=this._skipBtn.getChildByName("No"),this._adToggleTag.visible=0==Math.floor(2*Math.random()),this.onAdToggleStateChange(this._adToggleTag.visible),this._signedTag=this._centerZone.getChildByName("SignedTag"),this._signedTag.visible=!1},t.prototype.onStart=function(){e.prototype.onStart.call(this);var t=this;a["default"].GetSignIn(function(e){var n=(e.data.is_sign,e.data.sign_day_num);t.refreshSignInState(n)},function(e){})},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._signInBtn.on(Laya.Event.CLICK,this,this.onSignInBtn),this._adToggle.on(Laya.Event.CLICK,this,this.onAdToggle),this._skipBtn.on(Laya.Event.CLICK,this,this.onSkipBtn)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._signInBtn.off(Laya.Event.CLICK,this,this.onSignInBtn),this._adToggle.off(Laya.Event.CLICK,this,this.onAdToggle),this._skipBtn.off(Laya.Event.CLICK,this,this.onSkipBtn)},t.prototype.refreshSignInState=function(e){var t=e%7;if(0==e)for(var n=0;n<this._signIcons.length;++n)this._signIcons[n].visible=!1,this._signMasks[n].visible=!1;else if(0==t)for(var n=0;n<this._signIcons.length;++n)this._signIcons[n].visible=!0,this._signMasks[n].visible=!1;else for(var n=0;n<this._signIcons.length;++n)this._signIcons[n].visible=t>n,this._signMasks[n].visible=n>t},t.prototype.onSignInBtn=function(){if(!this._signIning){this._signIning=!0;var e=this;o["default"].showRewardedVideoAd_ppxhc(function(t){t?a["default"].SignIn(function(t){var n=t.code;1==n?a["default"].GetSignIn(function(t){var n=(t.data.is_sign,t.data.sign_day_num);e.refreshSignInState(n),e._signIning=!1},function(t){e._signIning=!1}):(console.log("签到失败 ： code",n),e._signIning=!1)},function(){e._signIning=!1}):e._signIning=!1},function(){e._signIning=!1})}},t.prototype.onAdToggle=function(){this._signIning||(this._adToggleTag.visible=!this._adToggleTag.visible,this.onAdToggleStateChange(this._adToggleTag.visible))},t.prototype.onSkipBtn=function(){if(!this._signIning){this._signIning=!0;var e=this;this._adToggleTag.visible?o["default"].showRewardedVideoAd_ppxhc(function(t){t?a["default"].SignIn(function(t){var n=t.code;1==n?a["default"].GetSignIn(function(t){var n=(t.data.is_sign,t.data.sign_day_num);e.refreshSignInState(n),e._signIning=!1},function(t){e._signIning=!1}):(console.log("签到失败 ： code",n),e._signIning=!1)},function(){e._signIning=!1}):e._signIning=!1},function(){e._signIning=!1}):a["default"].SignIn(function(t){var n=t.code;1==n?(e._signIning=!1,a["default"].GetSignIn(function(t){var n=(t.data.is_sign,t.data.sign_day_num);e.refreshSignInState(n)},function(e){})):(console.log("签到失败 ： code",n),e._signIning=!1)},function(){e._signIning=!1})}},t.prototype.onAdToggleStateChange=function(e){e?(this._skipOkTag.visible=!0,this._skipNoTag.visible=!1):(this._skipOkTag.visible=!1,this._skipNoTag.visible=!0)},t}(i["default"]);n["default"]=s},{"../../../Net/HttpUnit":74,"../../../TTAPI":83,"../../../Utilit":85,"../TTTemplateViewBase":114}],109:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../TTTemplateViewBase"),a=e("../../../TTAPI"),o=e("../../../Utilit"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerZone=null,t._adToggle=null,t._adToggleTag=null,t._okBtn=null,t._skipBtn=null,t._skipOkTag=null,t._skipNoTag=null,t._skinAnchor=null,t._ading=!1,t}return __extends(t,e),t.prototype.onAwake=function(){this._topZone=this.View.getChildByName("TopZone"),this._centerZone=this.View.getChildByName("CenterZone");var e=Laya.stage.width/Laya.stage.height;.5>e&&o["default"].isIphoneX_()&&(this._centerZone.top=this._centerZone.top+75),this._adToggle=this._centerZone.getChildByName("AdToggle"),this._adToggleTag=this._adToggle.getChildByName("Tag"),this._okBtn=this._centerZone.getChildByName("OkBtn"),this._skipBtn=this._centerZone.getChildByName("SkipBtn"),this._skipOkTag=this._skipBtn.getChildByName("Ok"),this._skipNoTag=this._skipBtn.getChildByName("No"),this._adToggleTag.visible=0==Math.floor(2*Math.random()),this.onAdToggleStateChange(this._adToggleTag.visible),this._skinAnchor=this._centerZone.getChildByName("SkinAnchor")},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._okBtn.on(Laya.Event.CLICK,this,this.onOkBtn),this._adToggle.on(Laya.Event.CLICK,this,this.onAdToggle),this._skipBtn.on(Laya.Event.CLICK,this,this.onSkipText)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._okBtn.off(Laya.Event.CLICK,this,this.onOkBtn),this._adToggle.off(Laya.Event.CLICK,this,this.onAdToggle),this._skipBtn.off(Laya.Event.CLICK,this,this.onSkipText)},t.prototype.onOkBtn=function(){if(!this._ading){this._ading=!0;var e=this;a["default"].showRewardedVideoAd_ppxhc(function(t){t||(e._ading=!1)},function(){e._ading=!1})}},t.prototype.onAdToggle=function(){this._ading||(this._adToggleTag.visible=!this._adToggleTag.visible,this.onAdToggleStateChange(this._adToggleTag.visible))},t.prototype.onSkipText=function(){if(!this._ading){this._ading=!0;var e=this;this._adToggleTag.visible&&a["default"].showRewardedVideoAd_ppxhc(function(t){t||(e._ading=!1)},function(){e._ading=!1})}},t.prototype.onAdToggleStateChange=function(e){e?(this._skipOkTag.visible=!0,this._skipNoTag.visible=!1):(this._skipOkTag.visible=!1,this._skipNoTag.visible=!0)},t}(i["default"]);n["default"]=r},{"../../../TTAPI":83,"../../../Utilit":85,"../TTTemplateViewBase":114}],110:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._list=null,t._pageIcon=new Array,t._pageInfo=null,t._lastScrollValue=0,t._tweening=!1,t._curPage=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"List",{get:function(){return null==this._list&&(this._list=this.owner.getChildByName("List")),this._list},enumerable:!0,configurable:!0}),t.prototype.onAwake=function(){this._list=this.owner.getChildByName("List"),this._pageInfo=this.owner.getChildByName("PageInfo");for(var e=0;e<this._pageInfo.numChildren;++e){var t=this._pageInfo.getChildAt(e),n=t.getChildByName("icon");this._pageIcon.push(n)}},t.prototype.onUpdate=function(){if(!this._tweening&&this._lastScrollValue!=this._list.scrollBar.value){var e=this._list.array.length/6-1;this._lastScrollValue<this._list.scrollBar.value?(++this._curPage,this._curPage>=e&&(this._curPage=e)):(--this._curPage,this._curPage<=0&&(this._curPage=0)),this._tweening=!0;var t=this;this._list.tweenTo(6*this._curPage,500,Laya.Handler.create(this,function(){})),Laya.timer.once(500,this,function(){t._tweening=!1,t._lastScrollValue=t._list.scrollBar.value})}},t}(Laya.Script);n["default"]=i},{}],111:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../User/User"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._root=null,t._unlockedTag=null,t._usedTag=null,t._index=-1,t._view=null,t}return __extends(t,e),t.prototype.onAwake=function(){this._root=this.owner.getChildByName("Root"),this._unlockedTag=this._root.getChildByName("Unlock"),this._usedTag=this._root.getChildByName("Used")},t.prototype.onEnable=function(){this.owner.on(Laya.Event.CLICK,this,this.onBoxClick)},t.prototype.onDisable=function(){this.owner.on(Laya.Event.CLICK,this,this.onBoxClick)},t.prototype.setData=function(e,t,n,a){this._index=e,this._view=t,this._unlockedTag.visible=i["default"].itemIsUnlocked(n.id),this._usedTag.visible=i["default"].curUsedItem==n.id,this._root.visible=-10086!=n.id},t.prototype.onBoxClick=function(){null!=this._view&&-1!=this._index&&this._view.onBoxClick(this._index)},t}(Laya.Script);n["default"]=a},{"../../../User/User":84}],112:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../TTTemplateViewBase"),a=e("./PageList"),o=e("./StoreBox"),r=e("../../../User/User"),s=e("../../../Config/StoreConfig"),l=e("../../../Utilit"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerZone=null,t._is3d=!1,t._closeBtn=null,t._displayZone=null,t._displayIcon=null,t._storeListZone=null,t._storeList=null,t._priceUnlockBtn=null,t._videoUnlockBtn=null,t._useBtn=null,t._usedTag=null,t._curSelected=0,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._topZone=this.View.getChildByName("TopZone"),this._centerZone=this.View.getChildByName("CenterZone");var t=Laya.stage.width/Laya.stage.height;.5>t&&l["default"].isIphoneX_()&&(this._centerZone.top=this._centerZone.top+75),this._closeBtn=this._centerZone.getChildByName("CloseBtn"),this._displayZone=this._centerZone.getChildByName("DisplayZone"),this._displayIcon=this._displayZone.getChildByName("DisplayIcon"),this._storeListZone=this._centerZone.getChildByName("StoreListZone"),this._storeList=this._storeListZone.getComponent(a["default"]),this._storeList.List.renderHandler=Laya.Handler.create(this,this.onListRender,null,!1),this._storeList.List.hScrollBarSkin="",this._videoUnlockBtn=this._storeListZone.getChildByName("VideoUnlockBtn"),this._priceUnlockBtn=this._storeListZone.getChildByName("PriceUnlockBtn"),this._useBtn=this._storeListZone.getChildByName("UseBtn"),this._usedTag=this._useBtn.getChildByName("Used")},t.prototype.onStart=function(){e.prototype.onStart.call(this),this._is3d&&(this._displayZone.visible=!1),this.refreshStoreList(),this._storeList.List.selectedIndex=0,this.onBoxClick(0)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._closeBtn.on(Laya.Event.CLICK,this,this.onCloseBtn),this._priceUnlockBtn.on(Laya.Event.CLICK,this,this.onPriceUnlockBtn),this._videoUnlockBtn.on(Laya.Event.CLICK,this,this.onVideoUnlockBtn)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._closeBtn.off(Laya.Event.CLICK,this,this.onCloseBtn),this._priceUnlockBtn.off(Laya.Event.CLICK,this,this.onPriceUnlockBtn),this._videoUnlockBtn.off(Laya.Event.CLICK,this,this.onVideoUnlockBtn)},t.prototype.onCloseBtn=function(){this.closeView()},t.prototype.onPriceUnlockBtn=function(){this._storeList.List.array[this._curSelected]},t.prototype.onVideoUnlockBtn=function(){this._storeList.List.array[this._curSelected]},t.prototype.refreshStoreList=function(){for(var e=s["default"].getInstance().getStoreDatas(),t=6-e.length%6,n=0;t>n;++n){var i=new s.StoreData;i.id=-10086,e.push(i)}this._storeList.List.array=e},t.prototype.onListRender=function(e,t){var n=this._storeList.List.array[t],i=e.getComponent(o["default"]);i.setData(t,this,n,this._curSelected==t)},t.prototype.onBoxClick=function(e){this._curSelected=e;var t=this._storeList.List.array[this._curSelected];r["default"].curUsedItem=t.id;var n=r["default"].itemIsUnlocked(t.id);this._priceUnlockBtn.visible=0==t.priceType&&!n,this._videoUnlockBtn.visible=1==t.priceType&&!n,this._useBtn.visible=n,this._usedTag.visible=t.id==r["default"].curUsedItem,this._storeList.List.refresh()},t}(i["default"]);n["default"]=c},{"../../../Config/StoreConfig":6,"../../../User/User":84,"../../../Utilit":85,"../TTTemplateViewBase":114,"./PageList":110,"./StoreBox":111}],113:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../View/ViewBase"),a=e("../../../Event/EventDef"),o=e("../../../Event/EventMgr"),r=e("../../../Config/AppSwitchConfig"),s=e("../../../TTAPI"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._clickBar_ppxhc=null,t._totalClickTimer_ppxhc=15,t._needClickTime_ppxhc=10,t._bannerClickTime_ppxhc=Math.floor(5*Math.random())+2,t}return __extends(t,e),t.prototype.onAwake=function(){var e=this;this.drgon=this.owner.getChildByName("panch"),this._click_Btn_ppxhc=this.owner.getChildByName("Click_Btn"),this._click_Btn_ppxhc.on(Laya.Event.CLICK,this,this.ButtonClicked),this._arrow_Img_ppxhc=this._click_Btn_ppxhc.getChildByName("Arrow_Img"),this._getPrize_View_ppxhc=this.owner.getChildByName("GetPrize_View"),this._prizeCount_Text_ppxhc=this._getPrize_View_ppxhc.getChildByName("PrizeCount_Text"),
this._confirm_Btn_ppxhc=this._getPrize_View_ppxhc.getChildByName("Confirm_Btn"),this._getPrize_View_ppxhc.visible=!1,this._clickBar_ppxhc=this.owner.getChildByName("ClickBar").getChildByName("ClickBar"),this._clickBarOriginalWidth_ppxhc=this._clickBar_ppxhc.width,this._clickBar_ppxhc.width=0,this._clickTime_ppxhc=0,this._totalClickTime=0;var t=this;Laya.loader.load("ClickGetPrize/quanji.png",Laya.Handler.create(this,function(n){n.bitmap.lock=!0,Laya.loader.load("ClickGetPrize/quanji.sk",Laya.Handler.create(e,function(e){console.log("texture",n),console.log("bytes",e);var i=new Laya.Templet;i.parseData(n,e),t.drgon=i.buildArmature(),t.owner.addChild(t.drgon),t.drgon.x=375,t.drgon.y=610,t.drgon.scaleX=2,t.drgon.scaleY=2,t.drgon.parent.setChildIndex(t.drgon,1),t.drgon.play(0,!0),console.log("quanji 加载完成!!!!",i)}),Laya.Handler.create(e,function(){}),"",0,!1,"",!0)}),Laya.Handler.create(this,function(){}),"",0,!1,"",!0)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),Laya.stage.on(Laya.Event.FOCUS_CHANGE,this,this.onFocusChange)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),Laya.stage.off(Laya.Event.FOCUS_CHANGE,this,this.onFocusChange)},t.prototype.onUpdate=function(){if(this._arrowUp_ppxhc?(this._arrow_Img_ppxhc.top+=Laya.timer.delta/5,this._arrow_Img_ppxhc.top>-140&&(this._arrowUp_ppxhc=!1)):(this._arrow_Img_ppxhc.top-=Laya.timer.delta/5,this._arrow_Img_ppxhc.top<-180&&(this._arrowUp_ppxhc=!0)),!this._bannerClicked_ppxhc){var e=2+this._clickBar_ppxhc.width/this._clickBarOriginalWidth_ppxhc*4;this._clickBar_ppxhc.width>=e&&(this._clickBar_ppxhc.width-=e),this._clickBar_ppxhc.width/this._clickBarOriginalWidth_ppxhc+.1<this._clickTime_ppxhc/this._needClickTime_ppxhc&&this._clickTime_ppxhc--}},t.prototype.openView=function(t){this._compeletFunction_ppxhc=t.Complete,this._prizeCount_ppxhc=t.PrizeCount,e.prototype.openView.call(this,t)},t.prototype.OpenPrizeWindow=function(){var e=this;this._prizeCount_Text_ppxhc.text=this._prizeCount_ppxhc.toString(),this._getPrize_View_ppxhc.visible=!0,this._confirm_Btn_ppxhc.once(Laya.Event.CLICK,this,function(){s["default"].hideBanner(),e._compeletFunction_ppxhc&&e._compeletFunction_ppxhc(),e.closeView()})},t.prototype.ShowBanner=function(){1==r["default"].getInstance().getAppSwitchData().ttcfg.kuangdianBanner&&s["default"].showBanner()},t.prototype.ButtonClicked=function(){var e=this;if(this._clickTime_ppxhc++,this._totalClickTime++,null!=this.drgon&&(this.drgon.play(1,!1),this.drgon.once(Laya.Event.STOPPED,this,function(){e.drgon.play(0,!0)})),this._clickTime_ppxhc>this._needClickTime_ppxhc&&(this._clickTime_ppxhc=this._needClickTime_ppxhc),this._clickTime_ppxhc>=this._bannerClickTime_ppxhc){if(this._clickTime_ppxhc>=this._needClickTime_ppxhc&&(this._clickTime_ppxhc=this._needClickTime_ppxhc-1),this._bannerClicked_ppxhc)return;this._bannerClicked_ppxhc=!0,this.ShowBanner(),Laya.timer.once(2e3,this,function(){this.BannerClicked()})}else this._totalClickTime>this._totalClickTimer_ppxhc&&(this.ShowBanner(),this.BannerClicked());var t=this._clickTime_ppxhc/this._needClickTime_ppxhc*this._clickBarOriginalWidth_ppxhc;this._clickBar_ppxhc.width=t},t.prototype.BannerClicked=function(){o["default"].instance.dispatch_(a.Event_ppxhc_Def.AD_WudianBanner_Hide),this._bannerClicked_ppxhc=!0,this._clickTime_ppxhc=this._needClickTime_ppxhc,this._clickBar_ppxhc.width=this._clickBarOriginalWidth_ppxhc,this._click_Btn_ppxhc.visible=!1,this.OpenPrizeWindow()},t.prototype.onDestroy=function(){s["default"].hideBanner()},t.prototype.onFocusChange=function(){null!=this.drgon&&this.drgon.play(0,!0)},t}(i["default"]);n["default"]=l},{"../../../Config/AppSwitchConfig":5,"../../../Event/EventDef":7,"../../../Event/EventMgr":8,"../../../TTAPI":83,"../../../View/ViewBase":132}],114:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../ViewBase"),a=e("../../Utilit"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._topZone=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"TopZone",{get:function(){return null==this._topZone&&(this._topZone=this.View.getChildByName("TopZone")),this._topZone},enumerable:!0,configurable:!0}),t.prototype.onAwake=function(){this._topZone=this.View.getChildByName("TopZone"),null!=this._topZone&&a["default"].isIphoneX_()&&(this._topZone.top=this._topZone.top+75)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t}(i["default"]);n["default"]=o},{"../../Utilit":85,"../ViewBase":132}],115:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../TemplateViewBase"),a=e("../../../KRQ/Com/KRQ_LoopAd/KRQ_VLoopAd"),o=e("../../../Config/AppSwitchConfig"),r=e("../../../Utilit"),s=e("../../../Mgr/ViewMgr"),l=e("../../../Mgr/WXADMgr"),c=e("../../../ShareAd/ShareAd"),h=e("../../../Mgr/WudianMgr"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._continue_ppxhc_Btn=null,t._krqVLoop_ppxhc_Ad=null,t._KRQ_VLoopAd=null,t._isCanClose=!1,t._banner=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._krqVLoop_ppxhc_Ad=this.View.getChildByName("KRQ_VLoopAd").getComponent(a["default"]),this._krqVLoop_ppxhc_Ad.useLocalRandom=!0,this._krqVLoop_ppxhc_Ad.useRandom=!1,this._krqVLoop_ppxhc_Ad.useMovePause=!1,this._krqVLoop_ppxhc_Ad.sortDatas=this.sortDatas,this._continue_ppxhc_Btn=this.View.getChildByName("ContinueBtn"),this._continue_ppxhc_Btn.visible=!1;var t=this;h["default"].Wudian_ppxhc_Flag&&1==o["default"].getInstance().getAppSwitchData().continueBanner?Laya.timer.once(1e3*o["default"].getInstance().getAppSwitchData().continueBtnDelayTime,t,function(){t._continue_ppxhc_Btn.visible=!0,Laya.timer.once(1e3*o["default"].getInstance().getAppSwitchData().continueBannerShowTime,t,function(){t.ShowBanner(),Laya.timer.once(1e3*o["default"].getInstance().getAppSwitchData().continueBannerHideTime,t,function(){t._isCanClose=!0,null!=t._banner&&t._banner.hide(),t._banner=null})})}):Laya.timer.once(1e3*o["default"].getInstance().getAppSwitchData().continueBtnDelayTime,t,function(){t._continue_ppxhc_Btn.visible=!0,t._isCanClose=!0}),this._KRQ_VLoopAd=this.View.getChildByName("KRQ_VLoopAd"),r["default"].isIphoneX_()&&(this._KRQ_VLoopAd.top=this._KRQ_VLoopAd.top+75)},t.prototype.onStart=function(){this._krqVLoop_ppxhc_Ad.AdPos_ppxhc_ID=c["default"].MoreGameLocationID,e.prototype.onStart.call(this)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._continue_ppxhc_Btn.on(Laya.Event.CLICK,this,this.onContinueBtn)},t.prototype.remove_ppxhc_Event=function(){e.prototype.remove_ppxhc_Event.call(this),this._continue_ppxhc_Btn.off(Laya.Event.CLICK,this,this.onContinueBtn)},t.prototype.ShowBanner=function(){var e=this,t=this;l["default"].getBanner(function(n){null!=t._banner&&t._banner.hide(),t._banner=n,null!=t._banner?t._banner.show():e._isCanClose=!0,e.isShowHistoryBtn&&(t.History_ppxhc_Btn.visible=!0)})},t.prototype.onDestroy=function(){null!=this._banner&&this._banner.hide(),this._banner=null},t.prototype.onContinueBtn=function(){if(this._isCanClose){var e=this,t=function(){e.closeView()};s["default"].instance.tryShowPopAd(function(e){null!=e?e.onCloseEvent=function(){t()}:t()})}},t.prototype.sortDatas=function(e){if(null==e||0==e.length)return[];for(var t={},n=new Array,i=0;i<e.length;++i){var a=e[i];null==t[a.appid]?(t[a.appid]=new Array,t[a.appid].push(a),n.push(a.appid)):t[a.appid].push(a)}for(var i=0;i<n.length;++i){var o=n[i],r=Math.floor(Math.random()*n.length),s=n[r];n[r]=o,n[i]=s}for(var i=0;i<n.length;++i)for(var o=n[i],l=t[o],c=0;c<l.length;++c){var a=l[c],r=Math.floor(Math.random()*l.length),s=l[r];l[r]=a,l[c]=s}for(var h=new Array,p=[];n.length>0;){for(var u=!0,i=0;i<n.length;++i){for(var o=n[i],d=!0,c=0;c<p.length;++c){var _=p[c];if(_==o){d=!1;break}}if(d){u=!1;var a=t[o].shift();h.push(a),p.push(o),p.length>3&&p.shift(),t[o].length<=0&&(n.splice(i,1),--i)}}if(u){for(var c=0;c<n.length;++c){var o=n[c],d=!0,l=t[o];p.splice(0);for(var f=0;f<l.length;++f)for(var a=l[f],i=0;i<h.length;++i){p.push(null==h[i-2]?null:h[i-2].appid),p.push(null==h[i-1]?null:h[i-1].appid),p.push(null==h[i]?null:h[i].appid),p.push(null==h[i+1]?null:h[i+1].appid),p.push(null==h[i+2]?null:h[i+2].appid);for(var g=0;g<p.length;++g){var _=p[g];if(null!=_&&_==o){d=!1;break}}if(d&&null!=a){var y=h.slice(0,i+1),m=h.slice(i+1,h.length);h=y,h.push(a);for(var w=0;w<m.length;++w)h.push(m[w])}}}break}for(var i=0;i<n.length;++i){var o=n[i],r=Math.floor(Math.random()*n.length),s=n[r];n[r]=o,n[i]=s}}return h},t}(i["default"]);n["default"]=p},{"../../../Config/AppSwitchConfig":5,"../../../KRQ/Com/KRQ_LoopAd/KRQ_VLoopAd":54,"../../../Mgr/ViewMgr":69,"../../../Mgr/WXADMgr":70,"../../../Mgr/WudianMgr":71,"../../../ShareAd/ShareAd":79,"../../../Utilit":85,"../TemplateViewBase":125}],116:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../TemplateViewBase"),a=e("../../../KRQ/Com/KRQ_LoopAd/KRQ_VLoopAd"),o=e("../../../Config/AppSwitchConfig"),r=e("../../../Utilit"),s=e("../../../Mgr/WXADMgr"),l=e("../../../Mgr/ViewMgr"),c=e("../../../Mgr/WudianMgr"),h=e("../../../ShareAd/ShareAd"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._closeBtn=null,t._krqVLoopAd=null,t._KRQ_VLoopAd=null,t._clickTag=!1,t._clickTimingTag=!1,t._banner=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._krqVLoopAd=this.View.getChildByName("KRQ_VLoopAd").getComponent(a["default"]),this._closeBtn=this.View.getChildByName("CloseBtn"),this._KRQ_VLoopAd=this.View.getChildByName("KRQ_VLoopAd"),r["default"].isIphoneX_()&&(this._KRQ_VLoopAd.top=this._KRQ_VLoopAd.top+75)},t.prototype.onStart=function(){if(this._krqVLoopAd.AdPos_ppxhc_ID=h["default"].MoreGameLocationID,e.prototype.onStart.call(this),c["default"].Wudian_ppxhc_Flag){var t=o["default"].getInstance().getAppSwitchData().btnMoveTimer,n=o["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*n,this,this.BannerUp),Laya.timer.once(1e3*t,this,this.BtnUp)}},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._closeBtn.on(Laya.Event.CLICK,this,this.onCloseBtn)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._closeBtn.off(Laya.Event.CLICK,this,this.onCloseBtn)},t.prototype.BannerUp=function(){var e=this,t=this;s["default"].getBanner(function(n){null!=t._banner&&t._banner.hide(),t._banner=n,null!=t._banner&&t._banner.show(),e.isShowHistoryBtn&&(t.History_ppxhc_Btn.visible=!0)})},t.prototype.BtnUp=function(){this._clickTag=!0,this._closeBtn.bottom=270},t.prototype.onCloseBtn=function(){if(this._clickTag||!c["default"].Wudian_ppxhc_Flag)this.closeView();else{if(!this._clickTimingTag){this._clickTimingTag=!0;var e=o["default"].getInstance().getAppSwitchData().btnMoveTimer,t=o["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*t,this,this.BannerUp),Laya.timer.once(1e3*e,this,this.BtnUp)}}},t.prototype.onDestroy=function(){null!=this._banner&&this._banner.hide(),this._banner=null},t.prototype.onHistoryBtn=function(){var e=this;l["default"].instance.openView(l.View_ppxhc_Def.MiniGameView,null,function(t){e.hide(),null!=e._banner&&e._banner.hide(),t.onCloseEvent=function(){null==e.View||e.View.destroyed||(e.show(),null!=e._banner&&e._banner.show())}})},t}(i["default"]);n["default"]=p},{"../../../Config/AppSwitchConfig":5,"../../../KRQ/Com/KRQ_LoopAd/KRQ_VLoopAd":54,"../../../Mgr/ViewMgr":69,"../../../Mgr/WXADMgr":70,"../../../Mgr/WudianMgr":71,"../../../ShareAd/ShareAd":79,"../../../Utilit":85,"../TemplateViewBase":125}],117:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../TemplateViewBase"),a=e("../../../KRQ/Com/KRQ_LoopAd/KRQ_VLoopAd"),o=e("../../../Config/AppSwitchConfig"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._continue_ppxhc_Btn=null,t._krqVLoop_ppxhc_Ad=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._krqVLoop_ppxhc_Ad=this.View.getChildByName("KRQ_VLoopAd").getComponent(a["default"]),this._krqVLoop_ppxhc_Ad=this.View.getChildByName("KRQ_VLoopAd").getComponent(a["default"]),this._continue_ppxhc_Btn=this._krqVLoop_ppxhc_Ad.Sprite.getChildByName("ContinueBtn"),this._continue_ppxhc_Btn.visible=!1;var t=this;Laya.timer.once(1e3*o["default"].getInstance().getAppSwitchData().continueBtnDelayTime,this,function(){t._continue_ppxhc_Btn.visible=!0})},t.prototype.onStart=function(){e.prototype.onStart.call(this)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._continue_ppxhc_Btn.on(Laya.Event.CLICK,this,this.onContinueBtn)},t.prototype.remove_ppxhc_Event=function(){e.prototype.remove_ppxhc_Event.call(this),this._continue_ppxhc_Btn.off(Laya.Event.CLICK,this,this.onContinueBtn)},t.prototype.onContinueBtn=function(){},t}(i["default"]);n["default"]=r},{"../../../Config/AppSwitchConfig":5,"../../../KRQ/Com/KRQ_LoopAd/KRQ_VLoopAd":54,"../TemplateViewBase":125}],118:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../TemplateViewBase"),a=e("../../../Mgr/WudianMgr"),o=e("../../../Config/AppSwitchConfig"),r=e("../../../Mgr/WXADMgr"),s=e("../../../KRQ/Com/KRQ_RollSingleAd"),l=e("../../../Utilit"),c=e("../../../Mgr/ViewMgr"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerZone=null,t._backBtn=null,t._continueBtn=null,t._rollSingleAds=new Array,t._clickTag=!1,t._clickTimingTag=!1,t._banner=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._centerZone=this.View.getChildByName("CenterZone"),l["default"].isIphoneX_()&&(this._centerZone.top=this._centerZone.top+75),this._backBtn=this._centerZone.getChildByName("BackBtn"),this._continueBtn=this._centerZone.getChildByName("ContinueBtn");for(var t=0;t<this._centerZone.numChildren;++t){var n=this._centerZone.getChildAt(t).getComponent(s["default"]);null!=n&&this._rollSingleAds.push(n)}a["default"].Wudian_ppxhc_Flag&&(this.History_ppxhc_Btn.visible=!1)},t.prototype.onStart=function(){if(e.prototype.onStart.call(this),a["default"].Wudian_ppxhc_Flag){var t=this._centerZone.height-150;this._backBtn.y=t,this._continueBtn.y=t}for(var n=function(e){var t=i._rollSingleAds[e];Laya.timer.once(150,i,function(){t.play_ppxhc_Ani()})},i=this,r=0;r<this._rollSingleAds.length;++r)n(r);var s=o["default"].getInstance().getAppSwitchData().btnMoveTimer,l=o["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*l,this,this.BannerUp),Laya.timer.once(1e3*s,this,this.BtnUp)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._backBtn.on(Laya.Event.CLICK,this,this.onBackBtn),this._continueBtn.on(Laya.Event.CLICK,this,this.onContinueBtn)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._backBtn.off(Laya.Event.CLICK,this,this.onBackBtn),this._continueBtn.off(Laya.Event.CLICK,this,this.onContinueBtn)},t.prototype.onBackBtn=function(){if(this._clickTag||!a["default"].Wudian_ppxhc_Flag);else{if(!this._clickTimingTag){this._clickTimingTag=!0;var e=o["default"].getInstance().getAppSwitchData().btnMoveTimer,t=o["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*t,this,this.BannerUp),Laya.timer.once(1e3*e,this,this.BtnUp)}}},t.prototype.onContinueBtn=function(){if(this._clickTag||!a["default"].Wudian_ppxhc_Flag);else{if(!this._clickTimingTag){this._clickTimingTag=!0;var e=o["default"].getInstance().getAppSwitchData().btnMoveTimer,t=o["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*t,this,this.BannerUp),Laya.timer.once(1e3*e,this,this.BtnUp)}}},t.prototype.BannerUp=function(){var e=this,t=this;r["default"].getBanner(function(n){null!=t._banner&&t._banner.hide(),t._banner=n,null!=t._banner&&t._banner.show(),e.isShowHistoryBtn&&(t.History_ppxhc_Btn.visible=!0)})},t.prototype.BtnUp=function(){this._clickTag=!0,this._backBtn.y=720,this._continueBtn.y=720},t.prototype.onDestroy=function(){null!=this._banner&&this._banner.hide(),this._banner=null},t.prototype.onHistoryBtn=function(){var e=this;c["default"].instance.openView(c.View_ppxhc_Def.MiniGameView,null,function(t){e.hide(),null!=e._banner&&e._banner.hide(),t.onCloseEvent=function(){null==e.View||e.View.destroyed||(e.show(),null!=e._banner&&e._banner.show())}})},t}(i["default"]);n["default"]=h},{"../../../Config/AppSwitchConfig":5,"../../../KRQ/Com/KRQ_RollSingleAd":56,"../../../Mgr/ViewMgr":69,"../../../Mgr/WXADMgr":70,"../../../Mgr/WudianMgr":71,"../../../Utilit":85,"../TemplateViewBase":125}],119:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../TemplateViewBase"),a=e("../../../Mgr/WXADMgr"),o=e("../../../Mgr/WudianMgr"),r=e("../../../Config/AppSwitchConfig"),s=e("../../../KRQ/Com/KRQ_RollSingleAd"),l=e("../../../Utilit"),c=e("../../../Mgr/ViewMgr"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._centerZone=null,t._back_ppxhc_Btn=null,t._next_ppxhc_Btn=null,t._rollSingleAds=new Array,t._click_ppxhc_Tag=!1,t._clickTiming_ppxhc_Tag=!1,t._banner=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._centerZone=this.View.getChildByName("CenterZone"),l["default"].isIphoneX_()&&(this._centerZone.top=this._centerZone.top+75),this._back_ppxhc_Btn=this._centerZone.getChildByName("BackBtn"),this._next_ppxhc_Btn=this._centerZone.getChildByName("NextBtn");for(var t=0;t<this._centerZone.numChildren;++t){var n=this._centerZone.getChildAt(t).getComponent(s["default"]);null!=n&&this._rollSingleAds.push(n)}o["default"].Wudian_ppxhc_Flag&&(this.History_ppxhc_Btn.visible=!1)},t.prototype.onStart=function(){if(e.prototype.onStart.call(this),o["default"].Wudian_ppxhc_Flag){var t=this._centerZone.height-150;this._back_ppxhc_Btn.y=t,this._next_ppxhc_Btn.y=t}for(var n=function(e){var t=i._rollSingleAds[e];Laya.timer.once(150,i,function(){t.play_ppxhc_Ani()})},i=this,a=0;a<this._rollSingleAds.length;++a)n(a);r["default"].getInstance().getAppSwitchData().btnMoveTimer,r["default"].getInstance().getAppSwitchData().bannerMoveTimer},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._back_ppxhc_Btn.on(Laya.Event.CLICK,this,this.onBackBtn),this._next_ppxhc_Btn.on(Laya.Event.CLICK,this,this.onNextBtn)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._back_ppxhc_Btn.off(Laya.Event.CLICK,this,this.onBackBtn),this._next_ppxhc_Btn.off(Laya.Event.CLICK,this,this.onNextBtn)},t.prototype.onBackBtn=function(){if(this._click_ppxhc_Tag||!o["default"].Wudian_ppxhc_Flag);else{if(!this._clickTiming_ppxhc_Tag){this._clickTiming_ppxhc_Tag=!0;var e=r["default"].getInstance().getAppSwitchData().btnMoveTimer,t=r["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*t,this,this.BannerUp),Laya.timer.once(1e3*e,this,this.BtnUp)}}},t.prototype.onNextBtn=function(){if(this._click_ppxhc_Tag||!o["default"].Wudian_ppxhc_Flag);else{if(!this._clickTiming_ppxhc_Tag){this._clickTiming_ppxhc_Tag=!0;var e=r["default"].getInstance().getAppSwitchData().btnMoveTimer,t=r["default"].getInstance().getAppSwitchData().bannerMoveTimer;Laya.timer.once(1e3*t,this,this.BannerUp),Laya.timer.once(1e3*e,this,this.BtnUp)}}},t.prototype.BannerUp=function(){var e=this,t=this;a["default"].getBanner(function(n){null!=t._banner&&t._banner.hide(),t._banner=n,null!=t._banner&&t._banner.show(),e.isShowHistoryBtn&&(t.History_ppxhc_Btn.visible=!0)})},t.prototype.BtnUp=function(){this._click_ppxhc_Tag=!0,this._back_ppxhc_Btn.y=720,this._next_ppxhc_Btn.y=720},t.prototype.onDestroy=function(){null!=this._banner&&this._banner.hide(),this._banner=null},t.prototype.onHistory_ppxhc_Btn=function(){var e=this;c["default"].instance.openView(c.View_ppxhc_Def.MiniGameView,null,function(t){e.hide(),null!=e._banner&&e._banner.hide(),t.onCloseEvent=function(){null==e.View||e.View.destroyed||(e.show(),null!=e._banner&&e._banner.show())}})},t}(i["default"]);n["default"]=h},{"../../../Config/AppSwitchConfig":5,"../../../KRQ/Com/KRQ_RollSingleAd":56,"../../../Mgr/ViewMgr":69,"../../../Mgr/WXADMgr":70,"../../../Mgr/WudianMgr":71,"../../../Utilit":85,"../TemplateViewBase":125}],120:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,a=e("../TemplateViewBase"),o=e("../../../Utilit");!function(e){e[e.Normal=0]="Normal",e[e.NoLoopAd=1]="NoLoopAd",e[e.NoBannerAd=2]="NoBannerAd"}(i=n.InGameShowType||(n.InGameShowType={}));var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._center_ppxhc_Zone=null,t._krq_ppxhc_Main=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._center_ppxhc_Zone=this.View.getChildByName("CenterZone");var t=Laya.stage.width/Laya.stage.height;.5>t?o["default"].isIphoneX_()&&(this._center_ppxhc_Zone.top=this._center_ppxhc_Zone.top+75):(this._center_ppxhc_Zone.top=this._center_ppxhc_Zone.top-200,o["default"].isIphoneX_()&&(this._center_ppxhc_Zone.top=this._center_ppxhc_Zone.top+75))},t.prototype.openView=function(t){e.prototype.openView.call(this,t)},t.prototype.onStart=function(){e.prototype.onStart.call(this)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this)},t.prototype.remove_ppxhc_Event=function(){e.prototype.remove_ppxhc_Event.call(this)},t}(a["default"]);n["default"]=r},{"../../../Utilit":85,"../TemplateViewBase":125}],121:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../TemplateViewBase"),a=e("../../../Event/EventMgr"),o=e("../../../Event/EventDef"),r=e("../../../User/User"),s=e("../../../Utilit"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._krq_ppxhc_Main=null,t._center_ppxhc_Zone=null,t._start_ppxhc_Btn=null,t._level_ppxhc_Num=null,t._money_ppxhc_Num=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._center_ppxhc_Zone=this.View.getChildByName("CenterZone");var t=Laya.stage.width/Laya.stage.height;.5>t?s["default"].isIphoneX_()&&(this._center_ppxhc_Zone.top=this._center_ppxhc_Zone.top+75):(this._center_ppxhc_Zone.top=this._center_ppxhc_Zone.top-200,s["default"].isIphoneX_()&&(this._center_ppxhc_Zone.top=this._center_ppxhc_Zone.top+75)),this._start_ppxhc_Btn=this._center_ppxhc_Zone.getChildByName("StartBtn"),this._level_ppxhc_Num=this._center_ppxhc_Zone.getChildByName("LevelInfo").getChildByName("LevelNum"),this._money_ppxhc_Num=this._center_ppxhc_Zone.getChildByName("MoneyInfo").getChildByName("MoneyNum")},t.prototype.onStart=function(){e.prototype.onStart.call(this),this._money_ppxhc_Num.value=String(r["default"].get_ppxhc_Money()),this._level_ppxhc_Num.value=String(r["default"].get_ppxhc_LeveNum())},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._start_ppxhc_Btn.on(Laya.Event.CLICK,this,this.onStartBtn),a["default"].instance.regEvemt_(o.Event_ppxhc_Def.Game_OnUserMoneyChange,this,this.onUserMoneyChange)},t.prototype.remove_ppxhc_Event=function(){e.prototype.remove_ppxhc_Event.call(this),this._start_ppxhc_Btn.off(Laya.Event.CLICK,this,this.onStartBtn),a["default"].instance.removeEvent_(o.Event_ppxhc_Def.Game_OnUserMoneyChange,this,this.onUserMoneyChange)},t.prototype.onStartBtn=function(){},t.prototype.onUserMoneyChange=function(e){var t=e.curr;e.last;this._money_ppxhc_Num.value=String(t)},t}(i["default"]);n["default"]=l},{"../../../Event/EventDef":7,"../../../Event/EventMgr":8,"../../../User/User":84,"../../../Utilit":85,"../TemplateViewBase":125}],122:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../ViewBase"),a=e("../../../KRQ/Com/KRQ_History/KRQ_History"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._krq_ppxhc_history=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._krq_ppxhc_history=this.View.getChildByName("KRQ_History").getComponent(a["default"]);var t=this;this._krq_ppxhc_history.OnBackBtn_ppxhc_Click=function(){t.closeView()}},t.prototype.onStart=function(){e.prototype.onStart.call(this)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t}(i["default"]);n["default"]=o},{"../../../KRQ/Com/KRQ_History/KRQ_History":50,"../../ViewBase":132}],123:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../ViewBase"),a=e("../../../Config/AppSwitchConfig"),o=e("../../../OPPOAPI"),r=e("../../../Mgr/WudianMgr"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._native_ppxhc_Ad=null,t._cur_ppxhc_AdItem=null,t}return __extends(t,e),t.prototype.onAwake=function(){this._center_ppxhc_Zone=this.owner.getChildByName("CenterZone"),this._display=this._center_ppxhc_Zone.getChildByName("Display"),this._ok_ppxhc_Btn=this._center_ppxhc_Zone.getChildByName("OkBtn"),this._close_ppxhc_Btn=this._center_ppxhc_Zone.getChildByName("CloseBtn"),this._ppxhc_bg=this.owner.getChildByName("BG")},t.prototype.onEnable=function(){var t=this;e.prototype.onEnable.call(this),this.loadAd(),this._ppxhc_bg.height=Laya.stage.height,this._close_ppxhc_Btn.visible=!1,Laya.timer.once(a["default"].getInstance().getAppSwitchData().oppocfg.btnShowTimer,this,function(){t._close_ppxhc_Btn.visible=!0})},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._ok_ppxhc_Btn.on(Laya.Event.CLICK,this,this.onOkBtn),this._close_ppxhc_Btn.on(Laya.Event.CLICK,this,this.onCloseBtn),this._display.on(Laya.Event.CLICK,this,this.onDisplayClick)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._ok_ppxhc_Btn.off(Laya.Event.CLICK,this,this.onOkBtn),this._close_ppxhc_Btn.off(Laya.Event.CLICK,this,this.onCloseBtn),this._display.off(Laya.Event.CLICK,this,this.onDisplayClick)},t.prototype.loadAd=function(){var e=this,t=r["default"].GetIp_ppxhc_Blocked();return t?void(Laya.Browser.onQGMiniGame&&(this._native_ppxhc_Ad&&(this._native_ppxhc_Ad.destroy(),this._native_ppxhc_Ad=null),this._cur_ppxhc_AdItem=null,this._native_ppxhc_Ad=qg.createNativeAd({posId:o["default"].NativeAdId}),this._native_ppxhc_Ad.load(),this._native_ppxhc_Ad.onLoad(function(t){console.log("原生广告加载成功：",t);for(var n=t.adList,i=0;i<n.length;++i){var a=n[i];console.log("原生广告数据：",i);for(var o in a)console.log(o,a[o])}if(e._cur_ppxhc_AdItem=n[Math.floor(Math.random()*n.length)],null!=e._cur_ppxhc_AdItem){for(var i=0;i<e._cur_ppxhc_AdItem.imgUrlList.length;++i)console.log("imgUrlList : ",i+" ",e._cur_ppxhc_AdItem.imgUrlList[i]);var r=e._cur_ppxhc_AdItem.imgUrlList[Math.floor(Math.random()*e._cur_ppxhc_AdItem.imgUrlList.length)];e._display.loadImage(r),e._native_ppxhc_Ad.reportAdShow({adId:e._cur_ppxhc_AdItem.adId}),console.log("加载图片",r),console.log("点击上报！！！")}e._center_ppxhc_Zone.visible=!0}),this._native_ppxhc_Ad.onError(function(t){console.log("原生广告加载失败：",t);for(var n in t)console.log(n,t[n]);e.closeView()}),this._center_ppxhc_Zone.visible=!1)):void e.closeView()},t.prototype.onCloseBtn=function(){this.closeView()},t.prototype.onOkBtn=function(){100*Math.random()<=a["default"].getInstance().getAppSwitchData().oppocfg.yuansheng&&(console.log("进入变态广告"),this.onDisplayClick()),this.closeView()},t.prototype.onDisplayClick=function(){null!=this._native_ppxhc_Ad&&null!=this._cur_ppxhc_AdItem&&(console.log("点击上报！！！"),this._native_ppxhc_Ad.reportAdClick({adId:this._cur_ppxhc_AdItem.adId}))},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),Laya.Browser.onQGMiniGame&&(this._native_ppxhc_Ad&&this._native_ppxhc_Ad.destroy(),this._native_ppxhc_Ad=null,this._cur_ppxhc_AdItem=null)},t}(i["default"]);n["default"]=s},{"../../../Config/AppSwitchConfig":5,"../../../Mgr/WudianMgr":71,"../../../OPPOAPI":77,"../../ViewBase":132}],124:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../TemplateViewBase"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._center_ppxhc_Zone=null,t._reward_ppxhc_Btn=null,t._skip_ppxhc_Btn=null,t}return __extends(t,e),t.prototype.onAwake=function(){e.prototype.onAwake.call(this),this._center_ppxhc_Zone=this.View.getChildByName("CenterZone"),this._reward_ppxhc_Btn=this._center_ppxhc_Zone.getChildByName("RewradBtn"),this._skip_ppxhc_Btn=this._center_ppxhc_Zone.getChildByName("SkipBtn")},t.prototype.onStart=function(){e.prototype.onStart.call(this)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._reward_ppxhc_Btn.on(Laya.Event.CLICK,this,this.onRewardBtn),this._skip_ppxhc_Btn.on(Laya.Event.CLICK,this,this.onSkipBtn)},t.prototype.remove_ppxhc_Event=function(){e.prototype.remove_ppxhc_Event.call(this),this._reward_ppxhc_Btn.off(Laya.Event.CLICK,this,this.onRewardBtn),this._skip_ppxhc_Btn.off(Laya.Event.CLICK,this,this.onSkipBtn)},t.prototype.onRewardBtn=function(){},t.prototype.onSkipBtn=function(){},t}(i["default"]);n["default"]=a},{"../TemplateViewBase":125}],125:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../ViewBase"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._historyBtn=null,t._topZone=null,t}return __extends(t,e),Object.defineProperty(t.prototype,"History_ppxhc_Btn",{get:function(){return this._historyBtn},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TopZone",{get:function(){return null==this._topZone&&(this._topZone=this.View.getChildByName("TopZone")),this._topZone},enumerable:!0,configurable:!0}),t.prototype.onAwake=function(){},t.prototype.addEvent=function(){e.prototype.addEvent.call(this)},t.prototype.remove_ppxhc_Event=function(){e.prototype.removeEvent.call(this)},t.prototype.onHistory_ppxhc_Btn=function(){},Object.defineProperty(t.prototype,"isShowHistoryBtn",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.onUpdateIpBlockState=function(e){},t}(i["default"]);n["default"]=a},{"../ViewBase":132}],126:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../Event/EventDef"),a=e("../../../Event/EventMgr"),o=e("../../../Mgr/WudianMgr"),r=e("../../../Mgr/WXADMgr"),s=e("../../../Config/AppSwitchConfig"),l=e("../../ViewBase"),c=e("../../../Utilit"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._clickBar=null,t._totalClickTimer=15,t._needClickTime=10,t._bannerClickTime=Math.floor(5*Math.random())+2,t._banner=null,t.cariTaillgas=null,t}return __extends(t,e),t.prototype.onAwake=function(){var e=this;this._click_Btn=this.owner.getChildByName("Click_Btn"),this._click_Btn.on(Laya.Event.CLICK,this,this.ButtonClicked),this._arrow_Img=this._click_Btn.getChildByName("Arrow_Img"),this._getPrize_View=this.owner.getChildByName("GetPrize_View"),this._prizeCount_Text=this._getPrize_View.getChildByName("PrizeCount_Text"),this._confirm_Btn=this._getPrize_View.getChildByName("Confirm_Btn"),this._getPrize_View.visible=!1,this._clickBar=this.owner.getChildByName("ClickBar").getChildByName("ClickBar"),this._clickBarOriginalWidth=this._clickBar.width,this._clickBar.width=0,this._clickTime=0,this._totalClickTime=0;var t=this;Laya.loader.load("ClickGetPrize/quanji.png",Laya.Handler.create(this,function(n){n.bitmap.lock=!0,Laya.loader.load("ClickGetPrize/quanji.sk",Laya.Handler.create(e,function(e){console.log("texture",n),console.log("bytes",e);var i=new Laya.Templet;i.parseData(n,e),t.drgon=i.buildArmature(),t.owner.addChild(t.drgon),t.drgon.x=375,t.drgon.y=610,t.drgon.scaleX=2,t.drgon.scaleY=2,t.drgon.parent.setChildIndex(t.drgon,1),t.drgon.play(0,!0),t.drgon.visible=!1,console.log("quanji 加载完成!!!!",i)}),Laya.Handler.create(e,function(){}),"",0,!1,"",!0)}),Laya.Handler.create(this,function(){}),"",0,!1,"",!0),this.cariTaillgas=c["default"].FindChild(this.owner,"Car/Tailgas");
},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),Laya.stage.on(Laya.Event.FOCUS_CHANGE,this,this.onFocusChange)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),Laya.stage.off(Laya.Event.FOCUS_CHANGE,this,this.onFocusChange)},t.prototype.onUpdate=function(){if(this._arrowUp?(this._arrow_Img.top+=Laya.timer.delta/5,this._arrow_Img.top>-140&&(this._arrowUp=!1)):(this._arrow_Img.top-=Laya.timer.delta/5,this._arrow_Img.top<-180&&(this._arrowUp=!0)),!this._bannerClicked){var e=2+this._clickBar.width/this._clickBarOriginalWidth*4;this._clickBar.width>=e&&(this._clickBar.width-=e),this._clickBar.width/this._clickBarOriginalWidth+.1<this._clickTime/this._needClickTime&&this._clickTime--}},t.prototype.openView=function(t){this._compeletFunction=t.Complete,this._titel=t.titel,e.prototype.openView.call(this,t)},t.prototype.OpenPrizeWindow=function(){var e=this;this._prizeCount_Text.text=this._titel,this._getPrize_View.visible=!0,this._confirm_Btn.once(Laya.Event.CLICK,this,function(){null!=e._banner&&e._banner.hide(),e._compeletFunction&&e._compeletFunction(),e.closeView()})},t.prototype.ShowBanner=function(){var e=this;r["default"].getBanner(function(t){null!=e._banner&&e._banner.hide(),e._banner=t,null!=e._banner&&e._banner.show()})},t.prototype.ButtonClicked=function(){var e=this;if(this._clickTime++,this._totalClickTime++,null!=this.drgon&&(this.drgon.play(1,!1),this.drgon.once(Laya.Event.STOPPED,this,function(){e.drgon.play(0,!0)})),this._clickTime>this._needClickTime&&(this._clickTime=this._needClickTime),this._clickTime>=this._bannerClickTime){if(this._clickTime>=this._needClickTime&&(this._clickTime=this._needClickTime-1),this._bannerClicked)return;this._bannerClicked=!0,o["default"].Wudian_ppxhc_Flag&&1==s["default"].getInstance().getAppSwitchData().wxcfg.kuangdianBanner&&this.ShowBanner(),Laya.timer.once(2e3,this,function(){this.BannerClicked()})}else this._totalClickTime>this._totalClickTimer&&(o["default"].Wudian_ppxhc_Flag&&1==s["default"].getInstance().getAppSwitchData().wxcfg.kuangdianBanner&&this.ShowBanner(),this.BannerClicked());var t=this._clickTime/this._needClickTime*this._clickBarOriginalWidth;this._clickBar.width=t,Laya.timer.once(1e3,this,this.StopAnimation),Laya.timer.frameLoop(1,this,this.CarAnimation)},t.prototype.StopAnimation=function(){Laya.timer.clear(this,this.CarAnimation)},t.prototype.CarAnimation=function(){Laya.timer.currFrame%3==0&&(this.cariTaillgas.visible=!this.cariTaillgas.visible)},t.prototype.BannerClicked=function(){a["default"].instance.dispatch_(i.Event_ppxhc_Def.AD_WudianBanner_Hide),this._bannerClicked=!0,this._clickTime=this._needClickTime,this._clickBar.width=this._clickBarOriginalWidth,this._click_Btn.visible=!1,this.OpenPrizeWindow()},t.prototype.onDestroy=function(){null!=this._banner&&this._banner.hide()},t.prototype.onFocusChange=function(){null!=this.drgon&&this.drgon.play(0,!0)},t}(l["default"]);n["default"]=h},{"../../../Config/AppSwitchConfig":5,"../../../Event/EventDef":7,"../../../Event/EventMgr":8,"../../../Mgr/WXADMgr":70,"../../../Mgr/WudianMgr":71,"../../../Utilit":85,"../../ViewBase":132}],127:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../ViewBase"),a=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.onAwake=function(){this._bg=this.owner.getChildByName("Bg"),this._bg.x=Laya.stage.width/2-this._bg.width/2,this._tipsText=this._bg.getChildByName("Text")},t.prototype.openView=function(t){e.prototype.openView.call(this,t),this.setTipsMsg(t),Laya.timer.clearAll(this);var n=this;Laya.timer.once(3e3,this,function(){n.closeView()})},t.prototype.setTipsMsg=function(e){this._tipsText.text=e},t}(i["default"]);n["default"]=a},{"../ViewBase":132}],128:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){var t=e.call(this)||this;return t.TwinkleSpeed=1e3,t.TwinkleMinSize=.95,t.TwinkleMaxSize=1.05,t._aniForward=!1,t._fontSize=25,t._originSize=1,t}return __extends(t,e),t.prototype.onAwake=function(){this._displaySp=this.owner,this._disText=this.owner.getChildByName("TitelText"),this._originSize=this._displaySp.scaleX,null!=this._disText&&(this._disText.text="",this._fontSize=this._disText.fontSize)},t.prototype.onEnable=function(){this._displaySp.scale(this._originSize,this._originSize)},t.prototype.onDisable=function(){},t.prototype.onUpdate=function(){this.displayAni()},t.prototype.displayAni=function(){if(this._aniForward){var e=this._displaySp.scaleX+Laya.timer.delta/this.TwinkleSpeed;e=Math.min(e,this.TwinkleMaxSize*this._originSize),this._displaySp.scale(e,e),this._displaySp.scaleX>=this.TwinkleMaxSize*this._originSize&&(this._aniForward=!1)}else{var e=this._displaySp.scaleX-Laya.timer.delta/this.TwinkleSpeed;e=Math.max(e,this.TwinkleMinSize*this._originSize),this._displaySp.scale(e,e),this._displaySp.scaleX<=this.TwinkleMinSize*this._originSize&&(this._aniForward=!0)}},t}(Laya.Script);n["default"]=i},{}],129:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../VVTemplateViewBase"),a=e("../../../Config/AppSwitchConfig"),o=e("../../../Mgr/WudianMgr"),r=e("../../../VIVOAPI"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._nativeAd=null,t._curAdItem=null,t}return __extends(t,e),t.prototype.onAwake=function(){this._centerZone=this.owner.getChildByName("CenterZone"),this._display=this._centerZone.getChildByName("Display"),this._okBtn=this._centerZone.getChildByName("OkBtn"),this._closeBtn=this._centerZone.getChildByName("CloseBtn"),this._bg=this.owner.getChildByName("BG")},t.prototype.onEnable=function(){var t=this;e.prototype.onEnable.call(this),this.loadAd(),this._bg.height=Laya.stage.height,this._closeBtn.visible=!1,Laya.timer.once(a["default"].getInstance().getAppSwitchData().vivocfg.btnShowTimer,this,function(){t._closeBtn.visible=!0})},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this._okBtn.on(Laya.Event.CLICK,this,this.onOkBtn),this._closeBtn.on(Laya.Event.CLICK,this,this.onCloseBtn),this._display.on(Laya.Event.CLICK,this,this.onDisplayClick)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this._okBtn.off(Laya.Event.CLICK,this,this.onOkBtn),this._closeBtn.off(Laya.Event.CLICK,this,this.onCloseBtn),this._display.off(Laya.Event.CLICK,this,this.onDisplayClick)},t.prototype.loadAd=function(){var e=this,t=o["default"].GetIp_ppxhc_Blocked();return t?void(Laya.Browser.onVVMiniGame&&(this._nativeAd&&(this._nativeAd.destroy(),this._nativeAd=null),this._curAdItem=null,this._nativeAd=qg.createNativeAd({posId:r["default"].nativeAdId}),this._nativeAd.load(),this._nativeAd.onLoad(function(t){console.log("原生广告加载成功：",t);for(var n=t.adList,i=0;i<n.length;++i){var a=n[i];console.log("原生广告数据：",i);for(var o in a)console.log(o,a[o])}if(e._curAdItem=n[Math.floor(Math.random()*n.length)],null!=e._curAdItem){for(var i=0;i<e._curAdItem.imgUrlList.length;++i)console.log("imgUrlList : ",i+" ",e._curAdItem.imgUrlList[i]);var r=e._curAdItem.imgUrlList[Math.floor(Math.random()*e._curAdItem.imgUrlList.length)];e._display.loadImage(r),e._nativeAd.reportAdShow({adId:e._curAdItem.adId}),console.log("加载图片",r),console.log("点击上报！！！")}e._centerZone.visible=!0}),this._nativeAd.onError(function(t){console.log("原生广告加载失败：",t);for(var n in t)console.log(n,t[n]);e.closeView()}),this._centerZone.visible=!1)):void e.closeView()},t.prototype.onCloseBtn=function(){this.closeView()},t.prototype.onOkBtn=function(){100*Math.random()<=a["default"].getInstance().getAppSwitchData().vivocfg.yuansheng&&(console.log("进入变态广告"),this.onDisplayClick()),this.closeView()},t.prototype.onDisplayClick=function(){null!=this._nativeAd&&null!=this._curAdItem&&(console.log("点击上报！！！"),this._nativeAd.reportAdClick({adId:this._curAdItem.adId}))},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),Laya.Browser.onVVMiniGame&&(this._nativeAd&&this._nativeAd.destroy(),this._nativeAd=null,this._curAdItem=null)},t}(i["default"]);n["default"]=s},{"../../../Config/AppSwitchConfig":5,"../../../Mgr/WudianMgr":71,"../../../VIVOAPI":86,"../VVTemplateViewBase":131}],130:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./VVNativeAd1View"),a=e("../../../Config/AppSwitchConfig"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onOkBtn=function(){100*Math.random()<=a["default"].getInstance().getAppSwitchData().vivocfg.yuansheng2&&(console.log("进入变态广告"),this.onDisplayClick()),this.closeView()},t}(i["default"]);n["default"]=o},{"../../../Config/AppSwitchConfig":5,"./VVNativeAd1View":129}],131:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../ViewBase"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onAwake=function(){},t.prototype.addEvent=function(){e.prototype.addEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t}(i["default"]);n["default"]=a},{"../ViewBase":132}],132:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Mgr/ViewMgr"),a=e("../Event/EventMgr"),o=e("../Event/EventDef"),r=e("../Utilit"),s=e("./IViewStateListener"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCloseEvent=null,t.onOpenEvent=null,t._viewBase=!0,t._viewDef=i.View_ppxhc_Def.None,t._data={},t}return __extends(t,e),Object.defineProperty(t.prototype,"View",{get:function(){return this.owner},enumerable:!0,configurable:!0}),t.prototype.onAwake=function(){this.View.autoDestroyAtClosed=!0},t.prototype.onEnable=function(){this.addEvent()},t.prototype.onDisable=function(){this.removeEvent()},t.prototype.onDestroy=function(){this.removeEvent()},t.prototype.openView=function(e){this._data=e,this.show(),a["default"].instance.dispatch_(o.Event_ppxhc_Def.Game_OnViewOpen,{view:this._viewDef}),this.onOpenEvent&&this.onOpenEvent()},t.prototype.addEvent=function(){},t.prototype.removeEvent=function(){Laya.timer.clearAll(this)},t.prototype.closeView=function(){i["default"].instance.closeView(this._viewDef)},t.prototype.hide=function(){var e=this;this.View.visible=!1,this.onHide(),r["default"].forEachChild(this.owner,function(t){var n=t._components;if(n)for(var i=0;i<n.length;i++){var a=n[i];s.isIViewStateListener(a)&&a.onViewHide(e)}})},t.prototype.show=function(){var e=this;this.View.visible=!0,this.onShow(),r["default"].forEachChild(this.owner,function(t){var n=t._components;if(n)for(var i=0;i<n.length;i++){var a=n[i];s.isIViewStateListener(a)&&a.onViewShow(e)}})},t.prototype.viewIsHide=function(){return this.View.visible},t.prototype.onHide=function(){},t.prototype.onShow=function(){},t.prototype.onClose=function(){Laya.timer.clearAll(this),Laya.Tween.clearAll(this),a["default"].instance.dispatch_(o.Event_ppxhc_Def.Game_OnViewClose,{view:this._viewDef}),this.onCloseEvent&&this.onCloseEvent()},t}(Laya.Script);n["default"]=l},{"../Event/EventDef":7,"../Event/EventMgr":8,"../Mgr/ViewMgr":69,"../Utilit":85,"./IViewStateListener":92}],133:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Config/AppSwitchConfig"),a=e("./Mgr/ViewMgr"),o=e("./Mgr/WudianMgr"),r=e("./User/User"),s=function(){function e(){this._recorder=null}return Object.defineProperty(e.prototype,"recorder",{get:function(){return this._recorder},enumerable:!0,configurable:!0}),e.prototype.start=function(){null!=this.recorder&&this.recorder.start()},e.prototype.stop=function(){null!=this.recorder&&this.recorder.stop()},e.prototype.pause=function(){null!=this.recorder&&this.recorder.pause()},e.prototype.resume=function(){null!=this.recorder&&this.recorder.resume()},e.prototype.abort=function(){null!=this.recorder&&this.recorder.abort()},e.prototype.showShareBtn=function(){if(null!=this.recorder){Laya.Browser.window.wx.createGameRecorderShareButton({style:{left:10,top:150,height:50,color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4,iconMarginRight:16,paddingLeft:1,paddingRight:30},image:"button.jpg",text:"自定义文案",icon:"icon.jpg",share:{query:"a=1&b=2",bgm:"walkin.mp3",timeRange:[[0,1e3],[2e3,3e3]],title:{template:"default.score",data:{score:6500}},button:{template:"default.enter"}}})}},e}();n.GameRecorder=s;var l=function(){function e(){}return e.wxLogin_=function(e,t){Laya.Browser.onMiniGame&&Laya.Browser.window.wx.login({success:function(t){if(t.code){var n=t.code;e(n),console.log("登陆成功,获取到code : "+n)}}})},e.onRewardedVideoAdLoad=function(){console.log("激励视频 广告加载完成")},e.onRewardedVideoAdError=function(t){console.log("激励视频 广告加载失败"+t),e._onRewardedVideoAdFailed&&e._onRewardedVideoAdFailed()},e.onRewardedVideoAdClose=function(t){t&&t.isEnded||null==t?(console.log("激励视频 已完整观看"),e._onRewardedVideoAdClose&&e._onRewardedVideoAdClose(!0)):(console.log("激励视频 未完整观看"),e._onRewardedVideoAdClose&&e._onRewardedVideoAdClose(!1))},e.regRewardedVideoAdEvent=function(t){t.onLoad(e.onRewardedVideoAdLoad),t.onError(e.onRewardedVideoAdError),t.onClose(e.onRewardedVideoAdClose),e._isRegRewardedVideoAdEvent=!0},e.showRewardedVideoAd_=function(t,n){if(Laya.Browser.onMiniGame){e._onRewardedVideoAdClose=t,e._onRewardedVideoAdFailed=n;var i=Laya.Browser.window.wx.createRewardedVideoAd({adUnitId:e.adUnitId_});e._isRegRewardedVideoAdEvent||e.regRewardedVideoAdEvent(i),i.load().then(function(){var e=i.show();e.then(function(){return console.log("激励视频 广告显示成功")}),e["catch"](function(e){i.load().then(function(){return i.show()})["catch"](function(e){console.log("激励视频 广告显示失败"),n&&n()})})})["catch"](function(e){console.log("激励视频 广告加载失败"),n&&n()})}else t(!0)},e.navigateToMiniProgram_=function(e,t,n,i,a){Laya.Browser.onMiniGame&&(console.log("跳转游戏： "+e),Laya.Browser.window.wx.navigateToMiniProgram({appId:e,path:t,extraData:{foo:"bar"},envVersion:"release",success:function(e){n&&n(e)},fail:function(e){i&&i(e)},complete:function(e){a&&a(e)}}))},e.share=function(t,n,i){var a=this;Laya.Browser.onMiniGame&&(e._onShow=function(){Laya.Browser.window.wx.offShow(e._onShow),e._onShow=null;Date.now()-a._lastShareTime;t&&t(Date.now()-a._lastShareTime>2e3?!0:!1)},Laya.Browser.window.wx.onShow(e._onShow),e._lastShareTime=Date.now(),Laya.Browser.window.wx.shareAppMessage({title:n,imageUrl:i}))},e.showInterstitialAd=function(t,n){if(Laya.Browser.onMiniGame){var i=Laya.Browser.window.wx.createInterstitialAd({adUnitId:e.InsAdUnitId});i.onLoad(function(){console.log("插屏广告 加载完成"),i.show()["catch"](function(e){console.log("插屏广告 显示失败 ："+e),n&&n()})}),i.onError(function(e){console.log("插屏广告 加载失败"+e),n&&n()}),i.onClose(function(){console.log("插屏广告 关闭"),t&&t()})}else t()},e.getLaunchOptionsSync=function(){if(Laya.Browser.onMiniGame){var e=Laya.Browser.window.wx.getLaunchOptionsSync();console.log("场景值 "+e.scene);var t=JSON.stringify(e.query);console.log("Query参数 "+t);var n=e.query.key;return console.log("Query参数：key "+n),console.log("ShareTicket "+e.shareTicket),console.log("ReferrerInfo.appId "+e.referrerInfo.appId),console.log("ReferrerInfo.extraData "+e.referrerInfo.extraData),e}var i={scene:1001,query:"",shareTicket:"",appId:"",extraData:""};return i},e.SetShareMenu=function(e,t,n,i,a){Laya.Browser.onMiniGame&&(console.log("小游戏设置转发按钮"),Laya.Browser.window.wx.showShareMenu({withShareTicket:!1,success:n,fail:i,complete:a}),Laya.Browser.window.wx.onShareAppMessage(function(){return{title:e,imageUrl:t}}))},e.checkUpdate=function(){if(Laya.Browser.onMiniGame){var e=Laya.Browser.window.wx.getUpdateManager();e.onCheckForUpdate(function(e){console.log("是否需要更新 : ",e.hasUpdate)}),e.onUpdateReady(function(){Laya.Browser.window.wx.showModal({title:"更新提示",content:"新版本已经准备好，是否重启小游戏？",success:function(t){t.confirm&&e.applyUpdate()}})}),e.onUpdateFailed(function(){console.log("新版本下载失败!!!")})}},e.tryShowWXCrazyClick=function(t,n,s,l){if(r["default"].get_ppxhc_LeveNum()<=i["default"].getInstance().getAppSwitchData().wxcfg.startKuangdianLevel)return void(l&&l());if(!o["default"].Wudian_ppxhc_Flag||1!=i["default"].getInstance().getAppSwitchData().wxcfg.kuangdianBanner)return void(l&&l());var c=i["default"].getInstance().getAppSwitchData().wxcfg.kuangdianLevelSpcacing;if(0!=c){var h=e._crazyClickShowCounter%c;0==h?a["default"].instance.openView(a.View_ppxhc_Def.WXCrazyClick,{Complete:n,titel:t},function(e){s&&s()}):l&&l(),++e._crazyClickShowCounter}else a["default"].instance.openView(a.View_ppxhc_Def.WXCrazyClick,{Complete:n,titel:t},function(e){s&&s()})},e.adUnitId_="adunit-2b8464e79b780a23",e.bannerAdUnitId="adunit-c83fc9bb634048f2",e.InsAdUnitId="adunit-93c0c3df0866601b",e.GameRecorder=new s,e._isRegRewardedVideoAdEvent=!1,e._onRewardedVideoAdFailed=null,e._onRewardedVideoAdClose=null,e._onShow=null,e._lastShareTime=0,e._crazyClickShowCounter=0,e}();n["default"]=l},{"./Config/AppSwitchConfig":5,"./Mgr/ViewMgr":69,"./Mgr/WudianMgr":71,"./User/User":84}],134:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,a=Laya.Scene,o=Laya.ClassUtils.regClass;!function(e){var t;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.createView(t.uiView)},t.uiView={type:"Scene",props:{width:750,top:0,right:0,left:0,height:1334,bottom:0},compId:2,child:[{type:"Script",props:{y:0,x:0,runtime:"View/LoadingView/LoadingView.ts"},compId:7},{type:"Image",props:{y:-208,x:0,width:750,skin:"subRes/image/bg.jpg",name:"Background",height:3149},compId:35},{type:"Clip",props:{top:0,right:0,name:"Bg",left:0,bottom:0},compId:17,child:[{type:"Sprite",props:{y:121,x:95,texture:"Loading/logo.png",name:"logo"},compId:9},{type:"Sprite",props:{y:348,x:161,texture:"Loading/sp_carlogo.png",name:"mainlogo"},compId:10},{type:"Clip",props:{skin:"comp/clip_num.png",right:0,name:"BottomZone",left:0,height:570,bottom:100},compId:18,child:[{type:"Clip",props:{y:326,x:376,width:615,skin:"Loading/loadingxiatiao.png",pivotY:22,pivotX:308,name:"processBarBg",height:44,sizeGrid:"0,25,0,25"},compId:19,child:[{type:"Clip",props:{y:22,x:10,width:594,skin:"Loading/loadingshangtiao.png",pivotY:13,name:"processBar",left:11,height:26,bottom:9,sizeGrid:"0,12,0,12"},compId:20,child:[{type:"Text",props:{y:-54,x:186,text:"Loading... ...",fontSize:40,color:"#ffffff",runtime:"laya.display.Text"},compId:37}]}]}]}]}],loadList:["subRes/image/bg.jpg","Loading/logo.png","Loading/sp_carlogo.png","comp/clip_num.png","Loading/loadingxiatiao.png","Loading/loadingshangtiao.png"],loadList3D:[]},t}(a);e.LoadingUI=t,o("ui.View.LoadingUI",t)}(t=e.View||(e.View={}))}(i=n.ui||(n.ui={}))},{}]},{},[65]);