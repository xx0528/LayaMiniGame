"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_ADVManager=function(){function a(){var c={},d={},e=0,f=function _checkString(o){return"string"!=typeof o||""===o?!1:!0},g=function _toArr(o,p){return Array.isArray(o)?void o.forEach(function(q){if(f(q)){var r={};r[q]=q,p.push(r)}else"object"===Object.prototype.toString.call(q).slice(8,-1).toLowerCase()&&p.push(q)}):void console.log("\u53C2\u6570\u9519\u8BEF...",o)},h=function _getOneNodeArr(o){var p=null,q=Object.keys(o);return q[0]in c&&(p=c[q[0]]),p},j=function _getNodes(o,p){for(var q=p.length,r=q-1;0<=r;r--){var s=p[r],t=Object.keys(s);o[t[0]]=h(s),o[t[0]]&&p.splice(r,1)}},k=function _disposeAdvName(o,p){if(f(o)){var q=o.split(",");g(q,p)}else Array.isArray(o)?g(o,p):console.error(o+"error ...")},l=function _requsetAdvInfos(o,p,q){var r=q.map(function(s){var t=Object.keys(s);return s[t[0]]}).join();"object"===("undefined"==typeof wx?"undefined":_typeof(wx))&&"function"==typeof wx.h_GetAdvList?wx.h_GetAdvList({adv_key:r,success:function success(s){200===s.Status?(m(s,p,q),"function"==typeof o&&o(p)):("function"==typeof o&&o({}),console.warn("\u5E7F\u544A\u6570\u636E\u8BF7\u6C42\u5931\u8D25",s))},fail:function fail(s){"function"==typeof o&&o({}),console.warn("\u5E7F\u544A\u6570\u636E\u8BF7\u6C42\u5931\u8D25",s)}}):("function"==typeof o&&o({}),console.warn("wx.h_GetAdvList \u65B9\u6CD5\u4E0D\u5B58\u5728\uFF0C\u8BF7\u68C0\u67E5 qy.js"))},m=function _doAdvInfos(o,p,q){for(var r=o.Result.Info,s=q.length-1,t=function _loop(u){var v=q.splice(u,1)[0],w=Object.keys(v),x=w[0],y=r[v[x]];d[x]=y,c[x]=[],p[x]=[],Array.isArray(y)&&y.forEach(function(z){var A=n(z);c[x].push(A),p[x].push(A)})},u=s;0<=u;u--)t(u)},n=function _createNode(o){var p=null;if("undefined"!=typeof cc){p=new cc.Node,p.advInfo=o;try{p.addComponent("qyButton");var q=p.getComponent("qyButton");q.getAdvInfo(function(){return o}),q.getIsIconAdv(function(){return e})}catch(q){console.log("\u6DFB\u52A0\u7EC4\u4EF6 qyButton \u51FA\u9519\uFF0C\u8BF7\u68C0\u67E5\u9879\u76EE\u4E2D\u662F\u5426\u5305\u542B qyButton.js \u6587\u4EF6")}}else p="undefined"==typeof Laya?o:o;return p};return{getIconButtons:function getIconButtons(o,p){e=1,this.getEasyButtons(o,p)},getEasyButtons:function getEasyButtons(o,p){var q=[],r={};k(o,q),j(r,q),0<q.length?l(p,r,q):"function"==typeof p&&p(r)},getAllAdvData:function getAllAdvData(){return d}}}var b;return{getInstance:function getInstance(){return b||(b=a()),b}}}();module.exports=_ADVManager.getInstance();