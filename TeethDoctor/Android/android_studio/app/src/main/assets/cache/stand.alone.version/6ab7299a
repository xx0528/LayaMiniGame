!function(){"use strict";var e;!function(e){e.No_XYXZS_ne="",e.Tips_XYXZS_View="View/TipsView.json",e.Cli_XYXZS_ckGetPrize="View/ClickGetPrize.json",e.GameP_XYXZS_laying="View/GamePlaying.json",e.Main_XYXZS_View="View/MainView.json",e.More_XYXZS_GameView="View/MoreGameView.json",e.Game_XYXZS_Over="View/GameOver.json",e.Game_XYXZS_View="View/GameView.json",e.Fake_XYXZS_Export="View/FakeExport.json",e.KRQ__XYXZS_TEST="View/KRQ_TEST.json"}(e||(e={}));class t{constructor(){this._v_XYXZS_iews={}}open_XYXZS_View(e,t,i){if(this._v_XYXZS_iews[e]){let a=this._v_XYXZS_iews[e]._components,o=null;if(a)for(let e=0;e<a.length;e++){const i=a[e];if(i._viewBase){(o=i).openView(t);break}}i&&i(o)}else{var a=String(e),o=this;Laya.Scene.load(a,Laya.Handler.create(this,function(a){Laya.stage.addChild(a);var n=a;o._v_XYXZS_iews[e]=n;let s=a._components,_=null;if(s)for(let i=0;i<s.length;i++){const a=s[i];if(a._viewBase){_=a,a._viewDef=e,_.openView(t);break}}i&&i(_)}))}}clos_XYXZS_eView(e){var t=this._v_XYXZS_iews[e];if(t){let i=t._components;if(i)for(let e=0;e<i.length;e++){const t=i[e];if(t._viewBase){t.onClose();break}}t.removeSelf(),t.destroy(),this._v_XYXZS_iews[e]=null}}Show_XYXZS_View(e){var t=this._v_XYXZS_iews[e];if(t){let e=t._components;if(e)for(let t=0;t<e.length;t++){const i=e[t];if(i._viewBase){i.show();break}}}}hide_XYXZS_View(e){var t=this._v_XYXZS_iews[e];if(t){let e=t._components;if(e)for(let t=0;t<e.length;t++){const i=e[t];if(i._viewBase){i.hide();break}}}}get_XYXZS_View(e){return this._v_XYXZS_iews[e]}showT_XYXZS_ips(t){this.open_XYXZS_View(e.Tips_XYXZS_View,t)}}t.inst_XYXZS_ance=new t;var i,a,o,n,s,_,r=Laya.EventDispatcher;class l extends r{constructor(){super()}disp_XYXZS_atch(e,t){l.eventDis_XYXZS_patcher.event(e,t)}reg_XYXZS_Evemt(e,t,i,a){l.eventDis_XYXZS_patcher.on(e,t,i,null==a?null:[a])}reg_XYXZS_OnceEvent(e,t,i,a){l.eventDis_XYXZS_patcher.once(e,t,i,null==a?null:[a])}re_XYXZS_moveEvent(e,t,i,a){l.eventDis_XYXZS_patcher.off(e,t,i)}}l.eventDis_XYXZS_patcher=new r,l.in_XYXZS_stance=new l,function(e){e[e.N_XYXZS_one=0]="N_XYXZS_one",e[e.App_Close_XYXZS_FirstLoadingView=500]="App_Close_XYXZS_FirstLoadingView",e[e.AD_OnShare_XYXZS_AdFail=501]="AD_OnShare_XYXZS_AdFail",e[e.Game_OnV_XYXZS_iewOpen=600]="Game_OnV_XYXZS_iewOpen",e[e.Game_OnVi_XYXZS_ewClose=601]="Game_OnVi_XYXZS_ewClose",e[e.Game_OnUse_XYXZS_rMoneyChange=701]="Game_OnUse_XYXZS_rMoneyChange",e[e.Game_OnUs_XYXZS_erCrystalChange=702]="Game_OnUs_XYXZS_erCrystalChange",e[e.Game_OnLeve_XYXZS_lStart=1e3]="Game_OnLeve_XYXZS_lStart",e[e.Game_OnLeve_XYXZS_lComplate=1001]="Game_OnLeve_XYXZS_lComplate",e[e.AD_WudianBan_XYXZS_ner_LoadComplete=2217]="AD_WudianBan_XYXZS_ner_LoadComplete",e[e.AD_WudianBan_XYXZS_ner_Show=2218]="AD_WudianBan_XYXZS_ner_Show",e[e.AD_WudianB_XYXZS_anner_Hide=2219]="AD_WudianB_XYXZS_anner_Hide",e[e.AD_Wudian_XYXZS_Banner_PreLoad=2220]="AD_Wudian_XYXZS_Banner_PreLoad",e[e.AD_Switch_XYXZS_Banner=505]="AD_Switch_XYXZS_Banner",e[e.APP_Load_XYXZS_Compelete=503]="APP_Load_XYXZS_Compelete",e[e.RewardVideoSuccess=20010]="RewardVideoSuccess",e[e.RewardVideoFail=20011]="RewardVideoFail",e[e.InsertVideoEnd=20012]="InsertVideoEnd"}(i||(i={}));class h extends Laya.Script{static get isLo_XYXZS_gin(){return""!=h.c_XYXZS_ode||""!=h.to_XYXZS_ken}static getSa_XYXZS_veData(){return JSON.stringify(h._game_XYXZS_Data)}static testIn_XYXZS_itUser(){var e=Laya.LocalStorage.getItem("Game_Data");console.log("读取存储数据 str----"+e);var t=JSON.parse(e);if(null==t)return h._game_XYXZS_Data.leve_XYXZS_lNum=0,h._game_XYXZS_Data.mone_XYXZS_yNum=0,void(h._game_XYXZS_Data.crys_XYXZS_talNum=0);h._game_XYXZS_Data.leve_XYXZS_lNum=t.levelNum,h._game_XYXZS_Data.mone_XYXZS_yNum=t.levelNum,h._game_XYXZS_Data.crys_XYXZS_talNum=t.levelNum}static init_XYXZS_iUser(e){e&&0!=e&&(h._game_XYXZS_Data.leve_XYXZS_lNum=e.levelNum,h._game_XYXZS_Data.mone_XYXZS_yNum=e.moneyNum,h._game_XYXZS_Data.crys_XYXZS_talNum=e.crystalNum)}static setLe_XYXZS_veNum(e){h._game_XYXZS_Data.leve_XYXZS_lNum=e}static getL_XYXZS_eveNum(){return h._game_XYXZS_Data.leve_XYXZS_lNum}static addM_XYXZS_oney(e){e=Math.ceil(e);var t=h._game_XYXZS_Data.mone_XYXZS_yNum;h._game_XYXZS_Data.mone_XYXZS_yNum+=e,l.in_XYXZS_stance.disp_XYXZS_atch(i.Game_OnUse_XYXZS_rMoneyChange,{curr:h._game_XYXZS_Data.mone_XYXZS_yNum,last:t})}static subM_XYXZS_oney(e){e=Math.ceil(e);var t=h._game_XYXZS_Data.mone_XYXZS_yNum;h._game_XYXZS_Data.mone_XYXZS_yNum-=e,h._game_XYXZS_Data.mone_XYXZS_yNum<0&&(h._game_XYXZS_Data.mone_XYXZS_yNum=0),l.in_XYXZS_stance.disp_XYXZS_atch(i.Game_OnUse_XYXZS_rMoneyChange,{curr:h._game_XYXZS_Data.mone_XYXZS_yNum,last:t})}static getM_XYXZS_oney(){return h._game_XYXZS_Data.mone_XYXZS_yNum}static addCr_XYXZS_ystal(e){e=Math.ceil(e);var t=h._game_XYXZS_Data.crys_XYXZS_talNum;h._game_XYXZS_Data.crys_XYXZS_talNum+=e,l.in_XYXZS_stance.disp_XYXZS_atch(i.Game_OnUs_XYXZS_erCrystalChange,{curr:h._game_XYXZS_Data.crys_XYXZS_talNum,last:t})}static sub_XYXZS_Crystal(e){e=Math.ceil(e);var t=h._game_XYXZS_Data.crys_XYXZS_talNum;h._game_XYXZS_Data.crys_XYXZS_talNum-=e,h._game_XYXZS_Data.crys_XYXZS_talNum<0&&(h._game_XYXZS_Data.crys_XYXZS_talNum=0),l.in_XYXZS_stance.disp_XYXZS_atch(i.Game_OnUs_XYXZS_erCrystalChange,{curr:h._game_XYXZS_Data.crys_XYXZS_talNum,last:t})}static getC_XYXZS_rystal(){return h._game_XYXZS_Data.crys_XYXZS_talNum}}h.c_XYXZS_ode="",h.o_XYXZS_penId="",h.to_XYXZS_ken=null,h.nick_XYXZS_Name="",h.gen_XYXZS_der=0,h._game_XYXZS_Data=new class{constructor(){this.leve_XYXZS_lNum=1,this.mone_XYXZS_yNum=0,this.crys_XYXZS_talNum=0}};class X{}X.st_XYXZS_ate=0,X.gam_XYXZS_eid=86,X.ser_XYXZS_verUrl="",X.Lo_XYXZS_gin="",X.Sa_XYXZS_veGameData="",X.Ge_XYXZS_tUser="",X.Ip_XYXZS_Block="",X.repo_XYXZS_rtExport="",X.repo_XYXZS_rtImport="",X.getu_XYXZS_serip="";class S{static en_XYXZS_crypt(e){return e}static de_XYXZS_crypt(e){return e}}S.KE_XYXZS_Y="b#63fFJ6AvkK3YT*",S.I_XYXZS_V="J$f4DU%sNL73M&Go";class c{}c.Ap_XYXZS_pID="",c.ResSe_XYXZS_rver="",c.LocalTest_XYXZS_ReServer="subRes",c.Ver_XYXZS_sions="0.0.0",c.onTTMi_XYXZS_niGame=!1;class d{constructor(){this.m_XYXZS_eth="post",this.u_XYXZS_rl="",this.on_XYXZS_Success=null,this.onF_XYXZS_ail=null,this.da_XYXZS_ta={}}}class Z{static req_XYXZS_uest(e){e.u_XYXZS_rl.indexOf("https://")>-1||e.u_XYXZS_rl.indexOf("http://")>-1?e.u_XYXZS_rl=e.u_XYXZS_rl:e.u_XYXZS_rl=X.ser_XYXZS_verUrl+e.u_XYXZS_rl;var t=new Laya.HttpRequest;t.once(Laya.Event.COMPLETE,Z,t=>{console.log(t,"http Success"),e.on_XYXZS_Success&&e.on_XYXZS_Success(t),e.on_XYXZS_Success=null,e=null}),t.once(Laya.Event.ERROR,Z,t=>{console.log(t,"http fail"),e.onF_XYXZS_ail&&e.onF_XYXZS_ail(t),e.onF_XYXZS_ail=null,e=null});JSON.stringify(e.da_XYXZS_ta);Laya.Browser.onMiniGame||c.onTTMi_XYXZS_niGame?e.da_XYXZS_ta.code=h.c_XYXZS_ode:Laya.Browser.onQGMiniGame?e.da_XYXZS_ta.oppotoken=h.c_XYXZS_ode:(Laya.Browser.onQQMiniGame,e.da_XYXZS_ta.code=h.c_XYXZS_ode);var i="time="+String(Date.now()),a=["Content-Type","application/json","state",X.st_XYXZS_ate,"gameid",X.gam_XYXZS_eid,"sign",S.en_XYXZS_crypt(i)];h.to_XYXZS_ken&&(a.push("token"),a.push(h.to_XYXZS_ken)),t.send(e.u_XYXZS_rl,JSON.stringify(e.da_XYXZS_ta),e.m_XYXZS_eth,"json",a)}static log_XYXZS_in(e,t){var i=new d;i.u_XYXZS_rl=X.Lo_XYXZS_gin,i.on_XYXZS_Success=e,i.onF_XYXZS_ail=t,Z.req_XYXZS_uest(i)}static saveGa_XYXZS_meData(e,t,i){var a=new d;a.u_XYXZS_rl=X.Sa_XYXZS_veGameData,a.da_XYXZS_ta.gameData=e,a.on_XYXZS_Success=t,a.onF_XYXZS_ail=i,Z.req_XYXZS_uest(a)}static getGa_XYXZS_meData(e,t){var i=new d;i.u_XYXZS_rl=X.Ge_XYXZS_tUser,i.on_XYXZS_Success=e,i.onF_XYXZS_ail=t,Z.req_XYXZS_uest(i)}static GetI_XYXZS_pBlock(e,t){if(-1!=X.gam_XYXZS_eid){var i=new d;i.u_XYXZS_rl=X.Ip_XYXZS_Block,i.on_XYXZS_Success=e,i.onF_XYXZS_ail=t,Z.req_XYXZS_uest(i)}}static repo_XYXZS_rtExport(e,t,i,a){var o=new d;o.u_XYXZS_rl=X.repo_XYXZS_rtExport,o.da_XYXZS_ta.wbappid=e,o.da_XYXZS_ta.game_name=t,o.on_XYXZS_Success=i,o.onF_XYXZS_ail=a,Z.req_XYXZS_uest(o)}static reportI_XYXZS_mport(e,t,i,a){var o=new d;o.u_XYXZS_rl=X.repo_XYXZS_rtImport,o.da_XYXZS_ta.wbappid=e,o.da_XYXZS_ta.channel=t,o.on_XYXZS_Success=i,o.onF_XYXZS_ail=a,Z.req_XYXZS_uest(o)}static Getu_XYXZS_serip(e,t){var i=new d;i.u_XYXZS_rl=X.getu_XYXZS_serip,i.on_XYXZS_Success=e,i.onF_XYXZS_ail=t,Z.req_XYXZS_uest(i)}}class p{static wxL_XYXZS_ogin(e,t){Laya.Browser.onMiniGame&&Laya.Browser.window.wx.login({success:t=>{if(t.code){let i=t.code;e(i),console.log("登陆成功,获取到code : "+i)}}})}static onRewarde_XYXZS_dVideoAdLoad(){console.log("激励视频 广告加载完成")}static onRewarde_XYXZS_dVideoAdError(e){console.log("激励视频 广告加载失败"+e),p._onRewarde_XYXZS_dVideoAdFailed&&p._onRewarde_XYXZS_dVideoAdFailed()}static onRewarde_XYXZS_dVideoAdClose(e){e&&e.isEnded||null==e?(console.log("激励视频 已完整观看"),p._onRewarde_XYXZS_dVideoAdClose&&p._onRewarde_XYXZS_dVideoAdClose(!0)):(console.log("激励视频 未完整观看"),p._onRewarde_XYXZS_dVideoAdClose&&p._onRewarde_XYXZS_dVideoAdClose(!1))}static regRewarded_XYXZS_VideoAdEvent(e){e.onLoad(p.onRewarde_XYXZS_dVideoAdLoad),e.onError(p.onRewarde_XYXZS_dVideoAdError),e.onClose(p.onRewarde_XYXZS_dVideoAdClose),p._isRegRew_XYXZS_ardedVideoAdEvent=!0}static showRewar_XYXZS_dedVideoAd(e,t){if(Laya.Browser.onMiniGame){p._onRewarde_XYXZS_dVideoAdClose=e,p._onRewarde_XYXZS_dVideoAdFailed=t;var i=Laya.Browser.window.wx.createRewardedVideoAd({adUnitId:p.adU_XYXZS_nitId});p._isRegRew_XYXZS_ardedVideoAdEvent||p.regRewarded_XYXZS_VideoAdEvent(i),i.load().then(()=>{var e=i.show();e.then(()=>console.log("激励视频 广告显示成功")),e.catch(e=>{i.load().then(()=>i.show()).catch(e=>{console.log("激励视频 广告显示失败"),t&&t()})})}).catch(e=>{console.log("激励视频 广告加载失败"),t&&t()})}else e(!0)}static navigateT_XYXZS_oMiniProgram(e,t,i,a,o){Laya.Browser.onMiniGame&&(console.log("跳转游戏： "+e),Laya.Browser.window.wx.navigateToMiniProgram({appId:e,path:t,extraData:{foo:"bar"},envVersion:"release",success(e){i&&i(e)},fail(e){a&&a(e)},complete(e){o&&o(e)}}))}static s_XYXZS_hare(e,t,i){Laya.Browser.onMiniGame&&(p._on_XYXZS_Show=(()=>{Laya.Browser.window.wx.offShow(p._on_XYXZS_Show),p._on_XYXZS_Show=null;Date.now(),this._las_XYXZS_tShareTime;e&&(Date.now()-this._las_XYXZS_tShareTime>2e3?e(!0):e(!1))}),Laya.Browser.window.wx.onShow(p._on_XYXZS_Show),p._las_XYXZS_tShareTime=Date.now(),Laya.Browser.window.wx.shareAppMessage({title:t,imageUrl:i}))}static showInte_XYXZS_rstitialAd(e,t){if(Laya.Browser.onMiniGame){var i=Laya.Browser.window.wx.createInterstitialAd({adUnitId:p.InsA_XYXZS_dUnitId});i.onLoad(()=>{console.log("插屏广告 加载完成"),i.show().catch(e=>{console.log("插屏广告 显示失败 ："+e),t&&t()})}),i.onError(e=>{console.log("插屏广告 加载失败"+e),t&&t()}),i.onClose(()=>{console.log("插屏广告 关闭"),e&&e()})}else e()}static getLaun_XYXZS_chOptionsSync(){if(Laya.Browser.onMiniGame){let e=Laya.Browser.window.wx.getLaunchOptionsSync();console.log("场景值 "+e.scene);let t=JSON.stringify(e.query);console.log("Query参数 "+t);let i=e.query.key;return console.log("Query参数：key "+i),console.log("ShareTicket "+e.shareTicket),console.log("ReferrerInfo.appId "+e.referrerInfo.appId),console.log("ReferrerInfo.extraData "+e.referrerInfo.extraData),e}return{scene:1001,query:"",shareTicket:"",appId:"",extraData:""}}static SetSha_XYXZS_reMenu(e,t,i,a,o){Laya.Browser.onMiniGame&&(console.log("小游戏设置转发按钮"),Laya.Browser.window.wx.showShareMenu({withShareTicket:!1,success:i,fail:a,complete:o}),Laya.Browser.window.wx.onShareAppMessage(function(){return{title:e,imageUrl:t}}))}static chec_XYXZS_kUpdate(){if(Laya.Browser.onMiniGame){var e=Laya.Browser.window.wx.getUpdateManager();e.onCheckForUpdate(function(e){console.log("是否需要更新 : ",e.hasUpdate)}),e.onUpdateReady(function(){Laya.Browser.window.wx.showModal({title:"更新提示",content:"新版本已经准备好，是否重启小游戏？",success:function(t){t.confirm&&e.applyUpdate()}})}),e.onUpdateFailed(function(){console.log("新版本下载失败!!!")})}}}p.adU_XYXZS_nitId="adunit-6e6219236eed9dae",p.bann_XYXZS_erAdUnitId="adunit-2a81056503ffca2c",p.InsA_XYXZS_dUnitId="adunit-440e21cc02c0d282",p._isRegRew_XYXZS_ardedVideoAdEvent=!1,p._onRewarde_XYXZS_dVideoAdFailed=null,p._onRewarde_XYXZS_dVideoAdClose=null,p._on_XYXZS_Show=null,p._las_XYXZS_tShareTime=0;class Y{static get BannerI_XYXZS_nstance(){return Y._ban_XYXZS_ner}static Lo_XYXZS_gin(e,t){Laya.Browser.onQGMiniGame&&Laya.Browser.window.qg.login({success:t=>{let i=t.data.token;for(var a in e(i),console.log("OPPO 登陆成功,获取到 token : "+i),t)console.log(a,t[a])},fail:e=>{for(var t in console.log("OPPO 登陆失败",e),e)console.log(t,e[t])}})}static initA_XYXZS_dService(e,t,i){Laya.Browser.window.qg.initAdService({appId:c.Ap_XYXZS_pID,isDebug:!1,success:function(t){console.log("oppo initAdService success"),e&&e(t)},fail:function(e){console.log("oppo initAdService fail: ",e.code,e.msg),t&&t(e)},complete:function(e){console.log("oppo initAdService complete"),i&&i(e)}})}static showRewa_XYXZS_rdedVideoAd(e,t){if(Laya.Browser.onQGMiniGame){var i=Laya.Browser.window.qg.createRewardedVideoAd({posId:Y.ad_XYXZS_UnitId});i.onLoad(()=>{console.log("oppo 视频广告加载完成"),i.show()}),i.onVideoStart(()=>{console.log("oppo 视频广告开始播放")}),i.onClose(t=>{t.isEnded?(console.log("oppo 视频广告观看 完成"),e(!0)):(console.log("oppo 视频广告观看 未完成"),e(!1)),i.destroy()}),i.onError(e=>{console.log("oppo 视频广告获取失败",e),i.destroy(),t()}),i.load()}else e(!0)}static navigat_XYXZS_eToMiniProgram(e,t,i,a,o,n){if(Laya.Browser.onQGMiniGame){console.log("OPPO 跳转游戏： "+e),Z.repo_XYXZS_rtExport(e,t,e=>{1==e.code?console.log("OPPO 导出上报成功"):console.log("OPPO 导出上报失败",e.msg)},e=>{for(var t in console.log("OPPO 导出上报失败"),e)console.log(t,e[t])});let n=Date.now();for(;Date.now()-n<=500;);Laya.Browser.window.qg.navigateToMiniGame({pkgName:e,path:i,extraData:{from:c.Ap_XYXZS_pID},envVersion:"release",success(e){a&&a(e)},fail(e){o&&o(e)}})}}static showInte_XYXZS_rstitialAd(e,t){if(Laya.Browser.onQGMiniGame){var i=qg.createInsertAd({posId:Y.Ins_XYXZS_AdUnitId});i.load(),i.onLoad(()=>{console.log("插屏广告加载完成"),i.show()}),i.onShow(()=>{console.log("插屏广告显示成功")}),i.onError(e=>{console.log("插屏广告拉取失败",e),i.destroy(),t&&t()})}else e()}static showB_XYXZS_annaer(){if(Y._ban_XYXZS_ner)Y._ban_XYXZS_ner.show();else{var e=qg.createBannerAd({posId:Y.ban_XYXZS_nerAdUnitId});e.show(),Y._ban_XYXZS_ner=e}}static hide_XYXZS_Banner(){Y._ban_XYXZS_ner&&Y._ban_XYXZS_ner.hide()}static getLaunch_XYXZS_OptionsSync(){let e={query:"",referrerInfo:{package:"",extraData:{appid:""}}};if(Laya.Browser.onQGMiniGame){var t=Laya.Browser.window.qg.getLaunchOptionsSync();return null!=t&&""!=t?e=t:console.log("没有启动设置！！！"),e}return e}static s_XYXZS_hare(e,t,i){e(!1)}static createDes_XYXZS_ktopIcon(e,t){Laya.Browser.onQGMiniGame?Laya.Browser.window.qg.hasShortcutInstalled({success:function(i){0==i?Laya.Browser.window.qg.installShortcut({success:function(){e&&e()},fail:function(e){for(var i in t&&t(),console.log("创建桌面图标失败！！！！",e),e)console.log(i,e)},complete:function(){}}):(console.log("桌面图标已存在！！！！"),t&&t())},fail:function(e){for(var i in t&&t(),console.log("判断桌面图标是否存在失败！！！",e),e)console.log(i,e)},complete:function(){}}):t&&t()}}Y.ad_XYXZS_UnitId="134292",Y.ban_XYXZS_nerAdUnitId="134291",Y.Ins_XYXZS_AdUnitId="134294",Y.OpenS_XYXZS_creenAdUnitId="134293",Y._ban_XYXZS_ner=null;class u{static re_XYXZS_quest(e){e.u_XYXZS_rl.indexOf("https://")>-1||e.u_XYXZS_rl.indexOf("http://")>-1?e.u_XYXZS_rl=e.u_XYXZS_rl:e.u_XYXZS_rl=u.ma_XYXZS_inUrl+e.u_XYXZS_rl;var t=new Laya.HttpRequest;if(t.once(Laya.Event.COMPLETE,u,t=>{console.log(t,"MaiLiang http Success"),"200"==(t=JSON.parse(t)).Status?(null!=t.Result.OpenId&&""!=t.Result.OpenId?(u.MaiL_XYXZS_iangOpenId=t.Result.OpenId,u.t_XYXZS_ime=e.da_XYXZS_ta.posttime,console.log("获得买量系统OpenId "+u.MaiL_XYXZS_iangOpenId)):console.log("上报买量系统停留时间成功"),e.on_XYXZS_Success&&e.on_XYXZS_Success(t)):e.onF_XYXZS_ail&&e.onF_XYXZS_ail(t),e.on_XYXZS_Success=null,e=null}),t.once(Laya.Event.ERROR,u,t=>{console.log(t,"MaiLiang http fail"),e.onF_XYXZS_ail&&e.onF_XYXZS_ail(t),e.onF_XYXZS_ail=null,e=null}),"get"==e.m_XYXZS_eth){var i="";for(const t of Object.keys(e.da_XYXZS_ta)){i+=t+"="+e.da_XYXZS_ta[t]+"&"}e.u_XYXZS_rl=e.u_XYXZS_rl+"?"+i,t.send(e.u_XYXZS_rl,null,e.m_XYXZS_eth)}else{i="";for(const t of Object.keys(e.da_XYXZS_ta)){i+=t+"="+e.da_XYXZS_ta[t]+"&"}t.send(e.u_XYXZS_rl,i,e.m_XYXZS_eth,null,["Content-Type","application/x-www-form-urlencoded"])}}static GetMai_XYXZS_LiangOpenId(e,t){if(Laya.Browser.onMiniGame){let i=p.getLaun_XYXZS_chOptionsSync();if(null!=i){let a=i.query.key;if(null!=a&&""!=a&&""!=h.o_XYXZS_penId){u.k_XYXZS_ey=a;let i=new d;i.u_XYXZS_rl=u.ucl_XYXZS_ick,i.on_XYXZS_Success=e,i.onF_XYXZS_ail=t,i.da_XYXZS_ta.appid=c.Ap_XYXZS_pID,i.da_XYXZS_ta.openid="";let o=(new Date).getTime()/1e3;i.da_XYXZS_ta.posttime=o,i.da_XYXZS_ta.auth=0,i.da_XYXZS_ta.key=a,i.da_XYXZS_ta.wxopenid=h.o_XYXZS_penId,i.m_XYXZS_eth="POST",console.log("发送买量数据接口"),u.re_XYXZS_quest(i)}}else console.log("上报买量数据失败"),t(null)}else if(Laya.Browser.onQGMiniGame){let e=Y.getLaunch_XYXZS_OptionsSync();Z.reportI_XYXZS_mport(e.referrerInfo.package,e.referrerInfo.extraData.appid,e=>{1==e.code?console.log("OPPO 上报买量数据成功"):console.log("OPPO 上报买量数据失败",e.msg)},e=>{for(var t in console.log("OPPO 上报买量数据失败"),e)console.log(t,e[t])})}else console.log("不在微信模式下调用，默认上报买量数据失败"),t(null)}static ReportS_XYXZS_tayTime(e,t){if(Laya.Browser.onMiniGame){if(""!=u.MaiL_XYXZS_iangOpenId){let i=new d;i.u_XYXZS_rl=u.st_XYXZS_ay,i.on_XYXZS_Success=e,i.onF_XYXZS_ail=t,i.da_XYXZS_ta.appid=c.Ap_XYXZS_pID,i.da_XYXZS_ta.openid=u.MaiL_XYXZS_iangOpenId;let a=(new Date).getTime()/1e3;i.da_XYXZS_ta.posttime=a;let o=0!=u.t_XYXZS_ime?a-u.t_XYXZS_ime:0;i.da_XYXZS_ta.time=o,i.m_XYXZS_eth="POST",console.log("发送停留时间至买量接口"),u.re_XYXZS_quest(i)}}else console.log("不在微信模式下调用，默认发送停留时间至买量接口失败"),t(null)}}u.ma_XYXZS_inUrl="https://swtj.mrkzx.cn",u.ucl_XYXZS_ick="/v1.1/api/Activity/uclick.html",u.st_XYXZS_ay="/v1.1/api/Activity/stay.html",u.k_XYXZS_ey="",u.MaiL_XYXZS_iangOpenId="",u.t_XYXZS_ime=0;class g{constructor(){this.ver_XYXZS_sion="",this.ba_XYXZS_nner=0,this.wu_XYXZS_dian=0,this.wudi_XYXZS_anAvailableTime={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},this.mai_XYXZS_liang=1,this.mail_XYXZS_ianglist=new Array,this.mailia_XYXZS_ngSceneList=new Array,this.wxWuD_XYXZS_ianBanners=new Array,this.btnMo_XYXZS_veTimer=1,this.banner_XYXZS_MoveTimer=.5,this.banner_XYXZS_FreshTimer=200,this.bannerCr_XYXZS_eateFailNum=3,this.bannerTod_XYXZS_ayBannerMax=10,this.adSw_XYXZS_itch=1,this.wudia_XYXZS_nSceneList=new Array,this.BackAndNex_XYXZS_tBtnDelayTime=2,this.GoOnBtnDe_XYXZS_layTime=2,this.fakeBtn=0}get wudianTi_XYXZS_meAvaliable(){return 1==this.wudi_XYXZS_anAvailableTime[(new Date).getHours()]}}class m{constructor(){this._d_XYXZS_ata=new Array}static getIn_XYXZS_stance(){return null==m._ins_XYXZS_tance&&(m._ins_XYXZS_tance=m.l_XYXZS_oad()),m._ins_XYXZS_tance}static l_XYXZS_oad(){var e=new m,t=Laya.loader.getRes(c.ResSe_XYXZS_rver+"/json/appswitch.json");if(t){for(var i=0;i<t.length;++i){var a=t[i],o=new g;o.ver_XYXZS_sion=String(a.version),o.ba_XYXZS_nner=Number(a.banner),o.wu_XYXZS_dian=Number(a.wudian),o.wudi_XYXZS_anAvailableTime=Object(a.wudianTime),o.mai_XYXZS_liang=Number(a.mailiang);var n=a.mailianglist;if(null!=n)for(var s=0;s<n.length;++s){var _=Number(n[s]);o.mail_XYXZS_ianglist.push(_)}var r=a.mailiangScenelist;if(null!=r)for(s=0;s<r.length;++s){var l=Number(r[s]);o.mailia_XYXZS_ngSceneList.push(l)}var h=a.wxwudianbanners;if(null!=h)for(s=0;s<h.length;++s){var X=String(h[s]);o.wxWuD_XYXZS_ianBanners.push(X)}o.btnMo_XYXZS_veTimer=Number(a.btnMoveTimer),o.banner_XYXZS_MoveTimer=Number(a.bannerMoveTimer),o.bannerCr_XYXZS_eateFailNum=Number(a.createFailNum),o.banner_XYXZS_FreshTimer=Number(a.bannerFreshTimer),o.bannerTod_XYXZS_ayBannerMax=Number(a.todayBannerMax),o.adSw_XYXZS_itch=Number(a.adSwitch);var S=a.wudianSceneList;if(null!=S)for(s=0;s<S.length;++s){var d=Number(S[s]);o.wudia_XYXZS_nSceneList.push(d)}o.BackAndNex_XYXZS_tBtnDelayTime=Number(a[""]),o.GoOnBtnDe_XYXZS_layTime=Number(a[""]),o.fakeBtn=Number(a.fakeBtn),e._d_XYXZS_ata.push(o)}return e}return e._d_XYXZS_ata.push(new g),e}getAppSwi_XYXZS_tchData(){return this._d_XYXZS_ata[0]}}class w{static Lo_XYXZS_gin(e,t){Laya.Browser.onQQMiniGame&&Laya.Browser.window.qq.login({success:t=>{if(t.code){let i=t.code;e(i),console.log("登陆成功,获取到code : "+i)}}})}static onRewarde_XYXZS_dVideoAdLoad(){console.log("激励视频 广告加载完成")}static onRewarded_XYXZS_VideoAdError(e){console.log("激励视频 广告加载失败"+e),w._onRewarded_XYXZS_VideoAdFailed&&w._onRewarded_XYXZS_VideoAdFailed()}static onRewarde_XYXZS_dVideoAdClose(e){e&&e.isEnded||null==e?(console.log("激励视频 已完整观看"),w._onRewardedV_XYXZS_ideoAdClose&&w._onRewardedV_XYXZS_ideoAdClose(!0)):(console.log("激励视频 未完整观看"),w._onRewardedV_XYXZS_ideoAdClose&&w._onRewardedV_XYXZS_ideoAdClose(!1))}static regReward_XYXZS_edVideoAdEvent(e){e.onLoad(w.onRewarde_XYXZS_dVideoAdLoad),e.onError(w.onRewarded_XYXZS_VideoAdError),e.onClose(w.onRewarde_XYXZS_dVideoAdClose),w._isRegRewar_XYXZS_dedVideoAdEvent=!0}static showReward_XYXZS_edVideoAd(e,t){if(Laya.Browser.onQQMiniGame){w._onRewardedV_XYXZS_ideoAdClose=e,w._onRewarded_XYXZS_VideoAdFailed=t;var i=Laya.Browser.window.qq.createRewardedVideoAd({adUnitId:w.adU_XYXZS_nitId});w._isRegRewar_XYXZS_dedVideoAdEvent||w.regReward_XYXZS_edVideoAdEvent(i),i.load().then(()=>{var e=i.show();e.then(()=>console.log("激励视频 广告显示成功")),e.catch(e=>{i.load().then(()=>i.show()).catch(e=>{console.log("激励视频 广告显示失败"),t&&t()})})}).catch(e=>{console.log("激励视频 广告加载失败"),t&&t()})}else e(!0)}static navigateToMi_XYXZS_niProgram(e,t,i,a,o){Laya.Browser.onQQMiniGame&&(console.log("跳转游戏： "+e),Laya.Browser.window.qq.navigateToMiniProgram({appId:e,path:t,extraData:{foo:"bar"},envVersion:"release",success(e){i&&i(e)},fail(e){a&&a(e)},complete(e){o&&o(e)}}))}static sh_XYXZS_are(e,t,i){Laya.Browser.onQQMiniGame&&(w._on_XYXZS_Show=(()=>{Laya.Browser.window.qq.offShow(w._on_XYXZS_Show),w._on_XYXZS_Show=null;Date.now(),this._lastS_XYXZS_hareTime;e&&(Date.now()-this._lastS_XYXZS_hareTime>2e3?e(!0):e(!1))}),Laya.Browser.window.qq.onShow(w._on_XYXZS_Show),w._lastS_XYXZS_hareTime=Date.now(),Laya.Browser.window.qq.shareAppMessage({title:t,imageUrl:i}))}static showInt_XYXZS_erstitialAd(e,t){if(Laya.Browser.onQQMiniGame){var i=Laya.Browser.window.qq.createInterstitialAd({adUnitId:w.InsAd_XYXZS_UnitId});i.onLoad(()=>{console.log("插屏广告 加载完成"),i.show().catch(e=>{console.log("插屏广告 显示失败 ："+e),t&&t()})}),i.onError(e=>{console.log("插屏广告 加载失败"+e),t&&t()}),i.onClose(()=>{console.log("插屏广告 关闭"),e&&e()})}else e()}static Loa_XYXZS_dAppBoxAd(e,t){Laya.Browser.onQQMiniGame?(w.mAp_XYXZS_pboxAd=Laya.Browser.window.qq.createAppBox({adUnitId:w.AppBo_XYXZS_xId}),w.mAp_XYXZS_pboxAd.load().then(()=>{console.log("盒子广告 加载完成")}),w.mAp_XYXZS_pboxAd.onError(e=>{console.log("盒子广告 加载失败"+e),t&&t()}),w.mAp_XYXZS_pboxAd.onClose(()=>{console.log("盒子广告 关闭"),e&&e()})):e()}static show_XYXZS_AppBoxAd(e){w.mAp_XYXZS_pboxAd?(console.log("显示盒子广告"),w.mAp_XYXZS_pboxAd.show().catch(t=>{console.log("盒子广告 显示失败 ："+t),e&&e()})):w.Loa_XYXZS_dAppBoxAd(e=>{},e=>{})}static getLaunc_XYXZS_hOptionsSync(){if(Laya.Browser.onQQMiniGame){let e=Laya.Browser.window.qq.getLaunchOptionsSync();console.log("场景值 "+e.scene);let t=JSON.stringify(e.query);console.log("Query参数 "+t);let i=e.query.key;return console.log("Query参数：key "+i),console.log("ShareTicket "+e.shareTicket),console.log("ReferrerInfo.appId "+e.referrerInfo.appId),console.log("ReferrerInfo.extraData "+e.referrerInfo.extraData),e}return{scene:1001,query:"",shareTicket:"",appId:"",extraData:""}}static SetShar_XYXZS_eMenu(e,t,i,a,o){Laya.Browser.onQQMiniGame&&(console.log("小游戏设置转发按钮"),Laya.Browser.window.qq.showShareMenu({withShareTicket:!1,success:i,fail:a,complete:o}),Laya.Browser.window.qq.onShareAppMessage(function(){return{title:e,imageUrl:t}}))}}w.adU_XYXZS_nitId="",w.bann_XYXZS_erAdUnitId="",w.InsAd_XYXZS_UnitId="",w.AppBo_XYXZS_xId="",w._isRegRewar_XYXZS_dedVideoAdEvent=!1,w._onRewarded_XYXZS_VideoAdFailed=null,w._onRewardedV_XYXZS_ideoAdClose=null,w._on_XYXZS_Show=null,w._lastS_XYXZS_hareTime=0,w.mAp_XYXZS_pboxAd=null;class y{static IpBl_XYXZS_ockFlag(){return y._ipBlo_XYXZS_ckFlag}static Update_XYXZS_IpBlockState(){Z.GetI_XYXZS_pBlock(function(e){console.log("调用IpBlock接口成功,结果为:",e),y._ipBlo_XYXZS_ckFlag=e.code},null)}static GetI_XYXZS_pBlocked(){return 0==y._ipBlo_XYXZS_ckFlag}static GetEntry_XYXZS_Scene(){return 1006==p.getLaun_XYXZS_chOptionsSync().scene}static IsSwi_XYXZS_tchOpen(){let e=1==m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().wu_XYXZS_dian,t=m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().wudianTi_XYXZS_meAvaliable;return console.log("误点Flag状态: ","总开关:",e,"打开时间",t),e&&t}static get Wud_XYXZS_ianFlag(){let e=1==m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().wu_XYXZS_dian,t=null;Laya.Browser.onMiniGame?t=p.getLaun_XYXZS_chOptionsSync().scene:Laya.Browser.onQQMiniGame&&(t=w.getLaunc_XYXZS_hOptionsSync().scene);let i=!0;for(var a=m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().wudia_XYXZS_nSceneList,o=0;o<a.length;++o){t==a[o]&&(i=!1)}let n=m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().wudianTi_XYXZS_meAvaliable,s=0==y._ipBlo_XYXZS_ckFlag;return console.log("误点Flag状态: ","总开关:",e,"场景进入",i,"IP未被屏蔽",s,"打开时间",n),e&&i&&s&&n}static get NoTimeW_XYXZS_udianFlag(){let e=1==m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().wu_XYXZS_dian,t=null;Laya.Browser.onMiniGame?t=p.getLaun_XYXZS_chOptionsSync().scene:Laya.Browser.onQQMiniGame&&(t=w.getLaunc_XYXZS_hOptionsSync().scene);let i=!0;for(var a=m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().wudia_XYXZS_nSceneList,o=0;o<a.length;++o){t==a[o]&&(i=!1)}let n=0==y._ipBlo_XYXZS_ckFlag;return console.log("误点Flag状态: ","总开关:",e,"场景进入",i,"IP未被屏蔽"),e&&i&&n}static get FakeExportBtn(){let e=1==m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().fakeBtn,t=null;Laya.Browser.onMiniGame?t=p.getLaun_XYXZS_chOptionsSync().scene:Laya.Browser.onQQMiniGame&&(t=w.getLaunc_XYXZS_hOptionsSync().scene);let i=!0;for(var a=m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().wudia_XYXZS_nSceneList,o=0;o<a.length;++o){t==a[o]&&(i=!1)}let n=0==y._ipBlo_XYXZS_ckFlag;return console.log("伪退出Flag状态: ","总开关:",e,"场景进入",i,"IP未被屏蔽",n),e&&i&&n}}y._ipBlo_XYXZS_ckFlag=-1;class L{static preloa_XYXZS_dBanner(){for(var e=m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().wxWuD_XYXZS_ianBanners,t=m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().bannerTod_XYXZS_ayBannerMax,i=new Array,a=0;a<e.length;++a)i.push(e[a]);if(i.length>t){var o=i.length-t;for(a=0;a<o;++a)i.splice(Math.floor(Math.random()*i.length),1)}console.log("开始预创建微信Bannaer",i),console.log("Bannaer 最大数限制 ：",t);var n=0;Laya.timer.loop(2e3,L._preL_XYXZS_oopObj,()=>{if(n>=i.length)Laya.timer.clearAll(L._preL_XYXZS_oopObj);else{var e=i[n],t=L._bann_XYXZS_erCache[e];null==t&&null!=(t=L.cr_XYXZS_eate(e))&&(L._bann_XYXZS_erCache[e]=t,console.log("预创建微信Bannaer",e,"完成")),++n}})}static get_XYXZS_Banner(e){if(null==e||""==e)return null;var t=L._bann_XYXZS_erCache[e];return null==t&&null!=(t=L.cr_XYXZS_eate(e))&&(L._bann_XYXZS_erCache[e]=t),t}static cr_XYXZS_eate(e){if(Laya.Browser.onMiniGame){var t=Laya.Browser.window.wx.getSystemInfoSync(),i=t.screenWidth,a=t.screenHeight,o=Laya.Browser.window.wx.createBannerAd({adUnitId:e,adIntervals:30,style:{left:0,top:(Laya.stage.height-300)/Laya.stage.height*a,width:i}});return o&&(o.onLoad(t=>{console.log("CachedWXBanner 广告 加载完成",e),console.log(t)}),o.onError(t=>{console.log("CachedWXBanner 广告 加载失败",e),console.log(t)}),o.onResize(e=>{console.log(o.style.realWidth,o.style.realHeight)})),o}return null}static show(){null!=L._curB_XYXZS_anner&&(L._curB_XYXZS_anner.hide(),L._curB_XYXZS_anner=null);var e=m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().wxWuD_XYXZS_ianBanners,t=e[Math.floor(Math.random()*e.length)],i=L.get_XYXZS_Banner(t);if(i){L._curB_XYXZS_anner=i;var a=Laya.Browser.window.wx.getSystemInfoSync(),o=(a.screenWidth,a.screenHeight);L._curB_XYXZS_anner.style.top=(Laya.stage.height-300)/Laya.stage.height*o,L._curB_XYXZS_anner.show(),console.log("CachedWXBanner 广告显示 bannerid ： ",t)}m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().banner_XYXZS_FreshTimer}static hide(){Laya.timer.clearAll(L),null!=L._curB_XYXZS_anner&&(L._curB_XYXZS_anner.hide(),L._curB_XYXZS_anner=null),console.log("CachedWXBanner 广告隐藏")}static chan_XYXZS_geShow(){null!=L._curB_XYXZS_anner&&(L._curB_XYXZS_anner.hide(),L._curB_XYXZS_anner=null),L.show()}static clear(){for(var e in Laya.timer.clearAll(L),L._bann_XYXZS_erCache){var t=L._bann_XYXZS_erCache[e];null!=t&&t.destroy(),L._bann_XYXZS_erCache[e]=null}}}L._bann_XYXZS_erCache={},L._curB_XYXZS_anner=null,L._preL_XYXZS_oopObj={},function(e){e.N_XYXZS_one="",e.ReportA_XYXZS_dClickSuccess="广告导出成功",e.ReportAd_XYXZS_ClickFail="广告导出失败",e.ReportLau_XYXZS_nchOptions="用户启动参数"}(a||(a={}));class f{static aldSe_XYXZS_ndOpenId(e){Laya.Browser.onMiniGame?(Laya.Browser.window.wx.aldSendOpenid(e),console.log("ALD 上报 openid : ",e)):Laya.Browser.onQQMiniGame&&(Laya.Browser.window.qq.aldSendOpenid(e),console.log("ALD 上报 openid : ",e))}static aldSen_XYXZS_dEvent(e,t){var i=e;Laya.Browser.onMiniGame?Laya.Browser.window.wx.aldSendEvent(i,t):Laya.Browser.onQQMiniGame&&Laya.Browser.window.qq.aldSendEvent(i,t)}static aldSend_XYXZS_ReportAdClickSuccess(e){var t=a.ReportA_XYXZS_dClickSuccess+" "+e.title+":"+String(e.appid);f.aldSen_XYXZS_dEvent(t,{"导出成功":e.title+":"+String(e.appid)})}static aldSend_XYXZS_ReportAdClickFail(e){var t=a.ReportAd_XYXZS_ClickFail+" "+e.title+":"+String(e.appid);f.aldSen_XYXZS_dEvent(t,{"导出失败":e.title+":"+String(e.appid)})}static aldSendRe_XYXZS_portLaunchOptions(e,t,i){var o=a.ReportLau_XYXZS_nchOptions;f.aldSen_XYXZS_dEvent(o,{"场景值：":String(e),"Ip：":String(t),"地区：":JSON.stringify(i)})}}class C{constructor(){this.k_XYXZS_ey=null,this.d_XYXZS_ata={},this.su_XYXZS_ccess=null,this.f_XYXZS_ail=null,this.co_XYXZS_mplete=null}}class T{static setSt_XYXZS_orage(e){let t=JSON.stringify(e.d_XYXZS_ata);Laya.Browser.onMiniGame?wx.setStorage({key:e.k_XYXZS_ey,data:t,success:e.su_XYXZS_ccess,fail:e.f_XYXZS_ail,complete:e.co_XYXZS_mplete}):Laya.LocalStorage.setItem(e.k_XYXZS_ey,t)}static getS_XYXZS_torage(e){var t=null;try{t=Laya.Browser.onMiniGame?wx.getStorageSync(e):Laya.LocalStorage.getItem(e)}catch(e){}return t}}!function(e){e[e.BraceTooth=1]="BraceTooth",e[e.CalculusTooth=2]="CalculusTooth",e[e.CutTooth=3]="CutTooth",e[e.FillingTooth=4]="FillingTooth",e[e.PaintTooth=5]="PaintTooth",e[e.PullTooth=6]="PullTooth"}(o||(o={})),function(e){e[e.Normal=1]="Normal",e[e.PullingTooth=2]="PullingTooth",e[e.SwitchingAni=3]="SwitchingAni"}(n||(n={})),function(e){e[e.PointedHandler=1]="PointedHandler",e[e.NozzleHandler=2]="NozzleHandler",e[e.TweezersHandler=3]="TweezersHandler",e[e.PincersHandler=4]="PincersHandler"}(s||(s={}));class B extends Laya.Script3D{constructor(){super(),this._jawPostion=0,this._toothIndex=0,this._toothActive=!1,this._isCleanned=!1,this._controlDistance=1,this._controlTimer=0}onAwake(){this._ownerSp3D=this.owner,this._ctrLoc=this.owner.getChildByName("CtrLoc"),this.InitTooth()}InitTooth(){}onStart(){}onToothUpdate(e,t){if(this._isCleanned)return!0;if(Laya.Vector3.distanceSquared(this._ownerSp3D.transform.position,e.transform.position)>2)return this._controlTimer=0,!1;this._controlTimer<1e3&&(this._controlTimer+=Laya.timer.delta),this._controlDistance=1+this._controlTimer/1e3*2}}class v{static Le_XYXZS_rp(e,t,i){return e==t?t:e>t?(a=e-i)<=t?t:a:e<t?(a=e+i)>=t?t:a:void 0;var a}static lerpEu_XYXZS_lerAngle(e,t,i){return e=(e=e%360)>=0?e:360+e,t=(t=t%360)>=0?t:360+t,Math.abs(t-e)>180&&(e<t?t-=360:e>t&&(t+=360)),v.Le_XYXZS_rp(e,t,i)}static getRota_XYXZS_tionByDir(e){var t=(e.x*v.poi_XYXZS_nDown.x+e.y*v.poi_XYXZS_nDown.y)/(e.distance(0,0)*v.poi_XYXZS_nDown.distance(0,0)),i=Math.acos(t)/(2*Math.PI)*360;return e.x<0&&(i=-i),i}static getRotat_XYXZS_ionByDirOn3DSpace(e){var t=(e.x*v.poi_XYXZS_nUp.x+e.y*v.poi_XYXZS_nUp.y)/(e.distance(0,0)*v.poi_XYXZS_nUp.distance(0,0)),i=Math.acos(t)/(2*Math.PI)*360;return e.x<0&&(i+=2*(180-i)),i}static getDirBy_XYXZS_Rotation(e){var t=(e-90)*Math.PI/180,i=Math.cos(t),a=Math.sin(t),o=new Laya.Point(i,a);return o.normalize(),o}static getDi_XYXZS_rDirAngle(e,t){var i=(e.x*t.x+e.y*t.y)/(e.distance(0,0)*t.distance(0,0));return Math.acos(i)/(2*Math.PI)*360}static getDirSc_XYXZS_alarLength(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static setSpOnPare_XYXZS_ntCenter(e){if(null!=e.parent){var t=e.parent,i=0,a=(a=0)-e.width/2*e.scaleX+t.width/2;i=i-e.height/2*e.scaleY+t.height/2;e.x=a,e.y=i}}static getPointTo_XYXZS_LineDistance(e,t,i,a){var o=new Laya.Point(e-i.x,t-i.y),n=new Laya.Point(e-a.x,t-a.y),s=new Laya.Point(a.x-i.y,a.y-i.y),_=s.x*o.x+s.y*o.y;if(_<=0)return o.distance(0,0);if(s.x*n.x+s.y*n.y<=0)return n.distance(0,0);var r=o.distance(0,0),l=_/(r*s.distance(0,0)),h=Math.acos(l);return Math.sin(h)*r}static isIp_XYXZS_honeX(){return!!Laya.Browser.onIPhone&&(2436==Laya.Browser.width&&1125==Laya.Browser.height||2436==Laya.Browser.height&&1125==Laya.Browser.width)}static isI_XYXZS_phone(){return Laya.Browser.onIPhone}static getC_XYXZS_hild(e,t){for(var i=0;i<e.numChildren;++i){var a=e.getChildAt(i);if(a.name==t)return a;var o=v.getC_XYXZS_hild(a,t);if(o)return o}return null}static for_XYXZS_EachChild(e,t){for(let i=0;i<e.numChildren;++i){let a=e.getChildAt(i);t(a),v.for_XYXZS_EachChild(a,t)}}}v.OriginSt_XYXZS_ageWidth=1334,v.OriginSt_XYXZS_ageHeight=750,v.grays_XYXZS_caleMat=[.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0],v.grays_XYXZS_caleFilter=new Laya.ColorFilter(v.grays_XYXZS_caleMat),v.poi_XYXZS_nDown=new Laya.Point(0,-1),v.poi_XYXZS_nUp=new Laya.Point(0,1);class A extends B{constructor(){super(),this._calculsPieceList=[],this._tweenPieceList=[],this._time=0,this._ctrTimer=0}onAwake(){super.onAwake()}InitTooth(){this._currentToothParent=this._ownerSp3D.getChildByName("CalculusThooth"),this._calculToothPieceParent=this._currentToothParent.getChildByName("yagou"),this._finishSp=this._currentToothParent.getChildByName("ya"),this._finishSpMat=this._finishSp.getChildAt(0).meshRenderer.material;for(let e=0;e<this._calculToothPieceParent.numChildren;e++){const t=this._calculToothPieceParent.getChildAt(e);this._calculsPieceList.push(t)}for(let e=0;e<this._calculsPieceList.length;e++){const t=this._calculsPieceList[e];let i=Math.random();(v.isI_XYXZS_phone&&i<.3||!v.isI_XYXZS_phone&&i<.1)&&(this._calculsPieceList.splice(e,1),t.destroy(),e--)}}onStart(){this.ResetToothState()}ResetToothState(){for(let e=0;e<this._ownerSp3D.numChildren;e++){const t=this._ownerSp3D.getChildAt(e);t!=this._currentToothParent?"BraceTooth"==t.name||"PaintTooth"==t.name||"CtrLoc"==t.name?t.active=!1:(this._ownerSp3D.removeChild(t),t.destroy(),e--):t.active=!0}}onToothUpdate(e){if(this._currentToothParent.active=!0,this._isCleanned||(this._time+=Laya.timer.delta,this._finishSpMat.albedoColorR=.8+.2*Math.sin(this._time/200),this._finishSpMat.albedoColorG=.8+.2*Math.sin(this._time/200),this._finishSpMat.albedoColorB=.8+.2*Math.sin(this._time/200)),super.onToothUpdate(e))return!0;if(Laya.Vector3.distanceSquared(e.transform.position,this._ctrLoc.transform.position)>.5)return this._ctrTimer=0,!1;if(!(this._ctrTimer<200)){for(let t=0;t<this._calculsPieceList.length;t++){let i=this._calculsPieceList[t];null!=i&&null!=i.transform&&i.active&&(Laya.Vector3.distanceSquared(e.transform.position,i.transform.position)<.05*this._controlDistance&&(this._calculsPieceList.splice(t,1),this._tweenPieceList.push(i),e.event("ShowEffect","CalculusTooth"),t--))}if(this._calculsPieceList.length<=30)for(let e=0;e<this._calculsPieceList.length;e++){const t=this._calculsPieceList[e];this._calculsPieceList.splice(e,1),this._tweenPieceList.push(t),e--}return this._isCleanned=this._calculsPieceList.length<=0,!!this._isCleanned&&(this._finishSpMat.albedoColor=new Laya.Vector4(1,1,1,1),this._currentToothParent.transform.localScale=new Laya.Vector3(.9999,.9999,.9999),!0)}this._ctrTimer+=Laya.timer.delta}onUpdate(){for(let e=0;e<this._tweenPieceList.length;e++){let t=this._tweenPieceList[e],i=t.transform,a=5,o=-7,n=1-2*Math.random();"TopJaw"==this._ownerSp3D.parent.name&&(a=-10,o=-2),Laya.Tween.to(i,{localPositionX:n,localPositionY:a,localPositionZ:o,localRotationEulerX:5*Math.random(),localRotationEulerY:5*Math.random(),localRotationEulerZ:5*Math.random()},1e3,null,Laya.Handler.create(t,()=>{t.destroy()})),this._tweenPieceList.splice(e,1),e--,0}}}class b extends B{constructor(){super(),this._cubeMaterialTimer=0,this._bracerTimer=0}onAwake(){super.onAwake()}InitTooth(){this._currentToothParent=this._ownerSp3D.getChildByName("BraceTooth"),this._cube=this._currentToothParent.getChildByName("Cube"),this._cubeMaterial=this._cube.meshRenderer.material,this._bracer=this._currentToothParent.getChildByName("Bracer");for(let e=0;e<this._ownerSp3D.numChildren;e++){const t=this._ownerSp3D.getChildAt(e);t!=this._currentToothParent?"CalculusThooth"==t.name||"FillTooth"==t.name||"CtrLoc"==t.name?t.active=!1:(this._ownerSp3D.removeChild(t),e--,t.destroy()):(this._bracer.active=!1,this._cubeMaterial.albedoColorA=0,t.active=!0)}}onToothUpdate(e){if(this._currentToothParent.active=!0,super.onToothUpdate(e))return!0;this._cubeMaterialTimer+=Laya.timer.delta/200,this._cubeMaterial.albedoColorA=Math.sin(this._cubeMaterialTimer);let t=Laya.Vector3.distanceSquared(e.transform.position,this._cube.transform.position);return!(Laya.Vector3.distanceSquared(e.transform.position,this._ctrLoc.transform.position)>.5)&&(t<.05*this._controlDistance&&(this._cube.active=!1,this._bracer.active=!0,e.event("SwitchAni"),e.event("ShowEffect","BraceTooth"),this._isCleanned=!0),!1)}}class M extends B{constructor(){super(),this._fillHoleList=[],this._time=0}onAwake(){super.onAwake()}InitTooth(){this._currentToothParent=this._ownerSp3D.getChildByName("FillTooth"),this._fillHoleParent=this._currentToothParent.getChildByName("buya");for(let e=0;e<this._fillHoleParent.numChildren;e++){const t=this._fillHoleParent.getChildAt(e);this._fillHoleList.push(t)}this._fillTooth=this._currentToothParent.getChildByName("yadong"),this._fillSpMat=this._fillTooth.getChildAt(0).meshRenderer.material,this._finishSp=this._currentToothParent.getChildByName("ya"),this._normalMat=this._finishSp.getChildAt(0).meshRenderer.material}onStart(){this.ResetToothState()}ResetToothState(){for(let e=0;e<this._ownerSp3D.numChildren;e++){const t=this._ownerSp3D.getChildAt(e);t!=this._currentToothParent&&("BraceTooth"==t.name||"PaintTooth"==t.name||"CtrLoc"==t.name?t.active=!1:(this._ownerSp3D.removeChild(t),t.destroy(),e--))}this._currentToothParent.active=!0,this._fillTooth.active=!0,this._finishSp.active=!1}onToothUpdate(e){if(this._isCleanned||(this._time+=Laya.timer.delta,this._fillSpMat.albedoColorR=.8+.2*Math.sin(this._time/200),this._fillSpMat.albedoColorG=.8+.2*Math.sin(this._time/200),this._fillSpMat.albedoColorB=.8+.2*Math.sin(this._time/200)),super.onToothUpdate(e))return!0;if(Laya.Vector3.distanceSquared(e.transform.position,this._ctrLoc.transform.position)>.5)return!1;let t=0;for(let i=0;i<this._fillHoleList.length;i++){let a=this._fillHoleList[i];if(Laya.Vector3.distanceSquared(e.transform.position,a.transform.position)<.07*this._controlDistance){let i=a.getChildAt(0);if(i.transform.localScaleX>=7)t++;else{let t=i.transform.localScaleX;e.event("ShowEffect","FillingTooth"),t+=.1,i.transform.localScaleX=t,i.transform.localScaleY=t,i.transform.localScaleZ=t}}}return this._isCleanned=t>=3,this._isCleanned&&(this._fillTooth.active=!1,this._finishSp.active=!0,this._currentToothParent.transform.localScale=new Laya.Vector3(.9999,.9999,.9999)),!1}onUpdate(){}}class k extends B{constructor(){super(),this._paintPieceList=[],this._tweenPieceList=[]}onAwake(){super.onAwake()}InitTooth(){this._currentToothParent=this._ownerSp3D.getChildByName("PaintTooth"),this._paintTooth=this._currentToothParent.getChildByName("yagou"),this._finishSp=this._currentToothParent.getChildByName("ya"),this._finishSpMat=this._finishSp.meshRenderer.material;for(let e=0;e<this._paintTooth.numChildren;e++){const t=this._paintTooth.getChildAt(e);this._paintPieceList.push(t)}for(let e=0;e<this._ownerSp3D.numChildren;e++){const t=this._ownerSp3D.getChildAt(e);t!=this._currentToothParent?"CalculusThooth"==t.name||"FillTooth"==t.name||"CtrLoc"==t.name?t.active=!1:(this._ownerSp3D.removeChild(t),t.destroy(),e--):(this._finishSp.active=!0,this._paintTooth.active=!1)}}onToothUpdate(e){if(this._currentToothParent.active=!0,this._paintTooth.active=!0,super.onToothUpdate(e))return!0;if(Laya.Vector3.distanceSquared(e.transform.position,this._ctrLoc.transform.position)>.5)return!1;for(let t=0;t<this._paintPieceList.length;t++){let i=this._paintPieceList[t];null!=i&&null!=i.transform&&i.active&&(Laya.Vector3.distanceSquared(e.transform.position,i.transform.position)<.05*this._controlDistance&&(this._paintPieceList.splice(t,1),this._tweenPieceList.push(i),e.event("ShowEffect","PaintTooth"),t--))}if(this._paintPieceList.length<=35)for(let e=0;e<this._paintPieceList.length;e++){const t=this._paintPieceList[e];this._paintPieceList.splice(e,1),this._tweenPieceList.push(t),e--}return this._isCleanned=this._paintPieceList.length<=0,!!this._isCleanned}onUpdate(){let e=0;for(let t=0;t<this._tweenPieceList.length;t++){if(e>5)return;let i=this._tweenPieceList[t],a=i.meshRenderer.material,o=i.transform;Laya.Tween.to(a,{albedoColorR:1,albedoColorG:.768,albedoColorB:.141},500),Laya.Tween.from(o,{localPositionZ:-.3},500),this._tweenPieceList.splice(t,1),t--,e++}}}class P extends B{constructor(){super(),this._pullMaterialTimer=0,this._pulling=!1}onAwake(){super.onAwake()}InitTooth(){this._currentToothParent=this._ownerSp3D.getChildByName("PullTooth");for(let e=0;e<this._ownerSp3D.numChildren;e++){const t=this._ownerSp3D.getChildAt(e);t!=this._currentToothParent&&"CtrLoc"!=t.name&&(this._ownerSp3D.removeChild(t),t.destroy(),e--)}this._pullTooth=this._currentToothParent.getChildByName("ya"),this._pullLoc=this._currentToothParent.getChildByName("PullLoc"),this._pullToothMaterial=this._pullTooth.meshRenderer.material,this._pullToothMaterialV4Orignal=this._pullToothMaterial.albedoColor.clone(),this._pullToothMaterial.albedoColor=new Laya.Vector4(.2,.2,.2,1)}onToothUpdate(e,t){if(super.onToothUpdate(e))return!0;if(this._pulling){let i=e.getChildByName("HandlerMeshs").getChildByName("PincersHandler").transform.localPosition.clone();t.upJaw||(i.y*=-1,i.x*=-1),t.progress>=0&&t.progress<1?(e.event("ShowEffect","PullTooth1"),this._pullTooth.transform.localPosition=i):t.progress>=1&&t.progress<1.01?(e.event("ShowEffect","PullTooth2"),this._pullTooth.transform.localPosition=i):t.progress>=1.01&&t.progress<1.02?(this._pullToothMaterial.albedoColor=this._pullToothMaterialV4Orignal,this._pullTooth.transform.localPosition=i):t.progress>=1.02&&t.progress<2?(this._pullToothMaterial.albedoColor=this._pullToothMaterialV4Orignal,this._pullTooth.transform.localPosition=i):t.progress>=2&&(this._pullTooth.transform.localPosition=new Laya.Vector3(0,0,0),this._isCleanned=!0)}else{if(Laya.Vector3.distanceSquared(e.transform.position,this._pullLoc.transform.position)<.1)this._pulling=!0,e.event("PullingTooth",this._pullLoc.transform);else{this._pullMaterialTimer+=Laya.timer.delta/200;let e=.2+.05*Math.sin(this._pullMaterialTimer);this._pullToothMaterial.albedoColor=new Laya.Vector4(e,e,e,1)}}}}class I extends B{constructor(){super(),this._cutPieceList=[],this._tweenPieceList=[],this._time=0,this._ctrTimer=0}onAwake(){super.onAwake()}InitTooth(){this._currentToothParent=this._ownerSp3D.getChildByName("CutTooth"),this._cutTooth=this._currentToothParent.getChildByName("zuanya"),this._finishSp=this._currentToothParent.getChildByName("ya"),this._finishSpMat=this._finishSp.meshRenderer.material;for(let e=0;e<this._cutTooth.numChildren;e++){const t=this._cutTooth.getChildAt(e);this._cutPieceList.push(t)}}onStart(){this.ResetToothState()}ResetToothState(){for(let e=0;e<this._ownerSp3D.numChildren;e++){const t=this._ownerSp3D.getChildAt(e);t!=this._currentToothParent&&"CtrLoc"!=t.name&&(this._ownerSp3D.removeChild(t),t.destroy(),e--)}}onToothUpdate(e){if(this._isCleanned||(this._time+=Laya.timer.delta,this._finishSpMat.albedoColorR=.8+.2*Math.sin(this._time/200),this._finishSpMat.albedoColorG=.8+.2*Math.sin(this._time/200),this._finishSpMat.albedoColorB=.8+.2*Math.sin(this._time/200)),super.onToothUpdate(e))return!0;if(Laya.Vector3.distanceSquared(e.transform.position,this._ctrLoc.transform.position)>.5)return this._ctrTimer=0,!1;if(!(this._ctrTimer<200)){for(let t=0;t<this._cutPieceList.length;t++){let i=this._cutPieceList[t];null!=i&&null!=i.transform&&i.active&&(Laya.Vector3.distanceSquared(e.transform.position,i.transform.position)<.05*this._controlDistance&&(this._cutPieceList.splice(t,1),this._tweenPieceList.push(i),e.event("ShowEffect","CutTooth"),t--))}if(this._cutPieceList.length<=10)for(let e=0;e<this._cutPieceList.length;e++){const t=this._cutPieceList[e];this._cutPieceList.splice(e,1),this._tweenPieceList.push(t),e--}return this._isCleanned=this._cutPieceList.length<=0&&this._tweenPieceList.length<=0,!!this._isCleanned&&(this._finishSpMat.albedoColor=new Laya.Vector4(1,1,1,1),this._currentToothParent.transform.localScale=new Laya.Vector3(.999,.999,.999),!0)}this._ctrTimer+=Laya.timer.delta}onUpdate(){let e=0;for(let t=0;t<this._tweenPieceList.length;t++){if(e>5)return;let i=this._tweenPieceList[t],a=i.transform,o=5,n=-7,s=1-2*Math.random();"TopJaw"==this._ownerSp3D.parent.name&&(o=-10,n=-2),Laya.Tween.to(a,{localPositionX:s,localPositionY:o,localPositionZ:n,localRotationEulerX:5*Math.random(),localRotationEulerY:5*Math.random(),localRotationEulerZ:5*Math.random()},1e3,null,Laya.Handler.create(i,()=>{i.destroy()})),this._tweenPieceList.splice(t,1),t--,e++}}}class D extends Laya.Script3D{constructor(){super(),this._isActive=!1,this._toothList=[],this._toothSp3DList=[],this._cleanedToothCount=0}get ToothStepType(){return this._toothStepType}get ToothList(){return this._toothList}get ToothCount(){return this._toothList.length}get CleandToothCount(){return this._cleanedToothCount}onToothStepUpdate(e,t){let i=!0;this._cleanedToothCount=0;for(let a=0;a<this._toothList.length;a++){this._toothList[a].onToothUpdate(e,t)?this._cleanedToothCount++:i=!1}return i}SetTooth(e,t){this._toothStepType=t,this._toothSp3DList=e;for(let t=0;t<e.length;t++){const i=e[t];let a=null;switch(this._toothStepType){case o.CalculusTooth:a=i.addComponent(A);break;case o.BraceTooth:a=i.addComponent(b);break;case o.FillingTooth:a=i.addComponent(M);break;case o.PaintTooth:a=i.addComponent(k);break;case o.PullTooth:a=i.addComponent(P);break;case o.CutTooth:a=i.addComponent(I)}this._toothList.push(a)}}}class x{static onVideoFail(){console.debug("onVideoFail --------- ------------ "),l.in_XYXZS_stance.disp_XYXZS_atch(i.RewardVideoFail)}static onVideoSuccess(e){console.debug("onVideoSuccess    --------- ------------ "),l.in_XYXZS_stance.disp_XYXZS_atch(i.RewardVideoSuccess,e)}static onInsertVideoEnd(){console.debug("onInsertVideoEnd    --------- ------------ "),l.in_XYXZS_stance.disp_XYXZS_atch(i.InsertVideoEnd)}static CallNativeFunc(e){Laya.Browser.onAndroid?window.PlatformClass.createClass("demo.JSBridge").call(e):Laya.Browser.onIOS}}x.NowVideoType="",x.conchIOS="Conch-ios",x.conchAndroid="Conch-android",x.os="";class R{static vibr_XYXZS_ateShort(){R.isE_XYXZS_nable&&(Laya.Browser.onMiniGame?Laya.Browser.window.wx.vibrateShort():Laya.Browser.onQGMiniGame?Laya.Browser.window.qg.vibrateShort():Laya.Browser.onQQMiniGame?Laya.Browser.window.qq.vibrateShort():x.CallNativeFunc("vibrateShort"))}static ibra_XYXZS_teLong(){R.isE_XYXZS_nable&&(Laya.Browser.onMiniGame?Laya.Browser.window.wx.vibrateLong():Laya.Browser.onQGMiniGame?Laya.Browser.window.qg.vibrateLong():Laya.Browser.onQQMiniGame?Laya.Browser.window.qq.vibrateLong():x.CallNativeFunc("vibrateLong"))}static vibr_XYXZS_ate(e){if(R.isE_XYXZS_nable)if(Laya.Browser.onMiniGame){let t=e/15,i=0,a={count:t,index:i};Laya.timer.loop(16,a,function(){R.vibr_XYXZS_ateShort(),++i>t&&Laya.timer.clearAll(a)})}else if(Laya.Browser.onQGMiniGame){let t=e/20,i=0,a={count:t,index:i};Laya.timer.loop(21,a,function(){R.vibr_XYXZS_ateShort(),++i>t&&Laya.timer.clearAll(a)})}else if(Laya.Browser.onQQMiniGame){let t=e/20,i=0,a={count:t,index:i};Laya.timer.loop(21,a,function(){R.vibr_XYXZS_ateShort(),++i>t&&Laya.timer.clearAll(a)})}}}R.isE_XYXZS_nable=!0;class V{constructor(){this._en_XYXZS_abled=!0}get Enab_XYXZS_led(){return this._en_XYXZS_abled}set Enab_XYXZS_led(e){e||this.stop_XYXZS_BGM(),this._en_XYXZS_abled=e}getS_XYXZS_oundUrl(e){return V.sound_XYXZS_ResPath+e+".ogg"}play_XYXZS_Sound(e){if(this._en_XYXZS_abled){var t=this.getS_XYXZS_oundUrl(e);if(Laya.Browser.onMiniGame){var i=Laya.Pool.getItem(e);null==i&&((i=wx.createInnerAudioContext()).src=V.sound_XYXZS_ResPath+e+".ogg",i.onEnded(()=>{Laya.Pool.recover(e,i),i.offEnded()})),i.play()}else Laya.SoundManager.playSound(t,1)}}play_XYXZS_BGM(e){if(!this._en_XYXZS_abled)return;let t=this.getS_XYXZS_oundUrl(e);Laya.Browser.onMiniGame?(this.b_XYXZS_gm||(this.b_XYXZS_gm=wx.createInnerAudioContext()),this.b_XYXZS_gm.pause(),this.b_XYXZS_gm.src=t,this.b_XYXZS_gm.loop=!0,this.b_XYXZS_gm.play()):Laya.SoundManager.playMusic(t,0)}stop_XYXZS_BGM(){Laya.Browser.onMiniGame?this.b_XYXZS_gm&&this.b_XYXZS_gm.pause():Laya.SoundManager.stopMusic()}}V.sound_XYXZS_ResPath="subRes/sound/",V.ins_XYXZS_tance=new V;class N extends Laya.Script3D{constructor(){super(),this._cameraCurRotate=0,this._cameraCurUpDownOffset=0,this._cameraLockRotate=0,this._cameraCurOffset=new Laya.Vector3,this._handleCurRotate=0,this._handleCurUpCurDownOffset=0,this._handleCurOffset=new Laya.Vector3,this._cleanEffectTimer=0,this._aniTimer=0,this._isGameOver=!1,this._soundTimer=0,this._startMoveTimer=0,this._enableInput=!1,this._pullingProgress=0}get Sprite3D(){return this._handlerSp}onAwake(){this._scene=H.Instance.CurrentScene,this._tongueAni=this._scene.getChildByName("Face").getChildByName("Toung").getComponent(Laya.Animator),this._tonsilAni=this._scene.getChildByName("Face").getChildByName("Tonsil").getComponent(Laya.Animator),this._gameOverEffect=this._scene.getChildByName("Effect"),this._gameOverEffect.active=!1,this._handlerSp=this.owner,this._cameraCenter=this._scene.getChildByName("CameraCenter"),this._camera=this._scene.getChildByName("Main Camera"),this._handlerMeshs=this._handlerSp.getChildByName("HandlerMeshs"),this._pointedHandlerSp3D=this._handlerMeshs.getChildByName("PointedHandler"),this._pincersHandlerSp3d=this._handlerMeshs.getChildByName("PincersHandler"),this._tweezersHandlerSp3d=this._handlerMeshs.getChildByName("TweezersHandler"),this._nozzleHandlerSp3d=this._handlerMeshs.getChildByName("NozzleHandler"),this._pointedHandlerSp3D.active=!1,this._pincersHandlerSp3d.active=!1,this._pincersHandlerAni=this._pincersHandlerSp3d.getComponent(Laya.Animator),this._pincersHandlerAni.play("Idle"),this._tweezersHandlerSp3d.active=!1,this._nozzleHandlerSp3d.active=!1,this._camera.transform.position=new Laya.Vector3(0,0,0),this._handlerSp.transform.position=new Laya.Vector3(0,0,0),Laya.Vector3.add(this._cameraCenter.transform.position,H.CameraOrigOffset,this._camera.transform.position),Laya.Vector3.add(this._cameraCenter.transform.position,H.HandleOrigOffset,this._handlerSp.transform.position),this._camera.transform.position=this._camera.transform.position,this._handlerSp.transform.position=this._handlerSp.transform.position,this._cameraCurOffset=H.CameraOrigOffset.clone(),this._handleCurOffset=H.HandleOrigOffset.clone(),this._handlerSp.on("SwitchAni",this,this.SwitchOutIn),this._handlerSp.on("PullingTooth",this,this.ClippingTooth),this._handlerSp.on("ShowEffect",this,this.ShowEffect)}onStart(){Laya.timer.once(500,this,()=>{this.Input(0,0)})}SetHandlerType(e,t){this._handlerType=e,this.SwitchHandler(t)}onUpdate(){this.SetHandlerMove(),this.UpdateEffect(),this.UpdateCamere()}StartGameMove(){this._cameraLockRotate=60,Laya.timer.once(1e3,this,()=>{this._cameraLockRotate=-60}),Laya.timer.once(2e3,this,()=>{this._cameraLockRotate=0,this._enableInput=!0})}UpdateEffect(){null==this._cleanEffect?this._cleanEffectTimer=0:this._cleanEffectTimer<150?(this._cleanEffectTimer+=Laya.timer.delta,this._cleanEffect.active=!0):this._cleanEffect.active=!1,this._aniTimer<500?(this._aniTimer+=Laya.timer.delta,this._tongueAni.speed=1,this._tonsilAni.speed=1):(this._tongueAni.speed=0,this._tonsilAni.speed=0),this._soundTimer+=Laya.timer.delta}UpdateCamere(){let e=0;this._cameraLockRotate>this._cameraCurRotate?(e=this._isGameOver||!this._enableInput?Laya.timer.delta/1e3*180:1+.05*(this._cameraLockRotate-this._cameraCurRotate),this._cameraCurRotate+=e,this._cameraLockRotate<this._cameraCurRotate&&(this._cameraCurRotate=this._cameraLockRotate)):this._cameraLockRotate<this._cameraCurRotate&&(e=this._isGameOver||!this._enableInput?Laya.timer.delta/1e3*180:1+.05*(this._cameraCurRotate-this._cameraLockRotate),this._cameraCurRotate-=e,this._cameraLockRotate>this._cameraCurRotate&&(this._cameraCurRotate=this._cameraLockRotate)),this.SetPosByRotateAndOffset(this._cameraCurRotate,0,H.CameraOrigOffset,this._cameraCurOffset),Laya.Vector3.add(this._cameraCenter.transform.position,this._cameraCurOffset,this._camera.transform.position),this._camera.transform.position=this._camera.transform.position,this._camera.transform.lookAt(this._cameraCenter.transform.position,new Laya.Vector3(0,1,0))}ShowEffect(e){if(this._cleanEffectTimer=0,this._aniTimer=0,R.vibr_XYXZS_ateShort(),this._soundTimer>30){let t=Math.random();"CalculusTooth"==e?(V.ins_XYXZS_tance.play_XYXZS_Sound("除垢"),this._soundTimer=-1500):"PullTooth1"==e?(V.ins_XYXZS_tance.play_XYXZS_Sound("拔牙夹住牙齿"),this._soundTimer=-1500):"PullTooth2"==e?(Math.random()<.3&&V.ins_XYXZS_tance.play_XYXZS_Sound("拔牙1"),Math.random()<.6?V.ins_XYXZS_tance.play_XYXZS_Sound("拔牙2"):V.ins_XYXZS_tance.play_XYXZS_Sound("拔牙3"),this._soundTimer=-1e3):"PaintTooth"==e?(V.ins_XYXZS_tance.play_XYXZS_Sound("包金牙"),this._soundTimer=-1e3):"FillingTooth"==e?(V.ins_XYXZS_tance.play_XYXZS_Sound("虫牙补洞"),this._soundTimer=-800):"BraceTooth"==e?t<.5?V.ins_XYXZS_tance.play_XYXZS_Sound("下牙支架链接2"):V.ins_XYXZS_tance.play_XYXZS_Sound("上牙支架链接1"):"CutTooth"==e&&(V.ins_XYXZS_tance.play_XYXZS_Sound("磨牙和洗牙垢"),this._soundTimer=-1200)}}PullingToothInputProgress(e,t){this._pullingProgress<1&&(this._handleCurUpCurDownOffset>0?(this._pullingProgress+=t>0?1*t/10:-1*t/10,this._currentHanderSp3D.transform.localPositionY=-5*this._pullingProgress):(this._pullingProgress+=t<0?-1*t/10:1*t/10,this._currentHanderSp3D.transform.localPositionY=5*this._pullingProgress)),this._pullingProgress>.18&&this._pullingProgress<1&&(this._pullingProgress=1,this.PullToothOut()),this._pullingProgress>=1.02&&(this._handleCurUpCurDownOffset>0?(this._pullingProgress+=t<0?-1*t/10:1*t/10,this._currentHanderSp3D.transform.localPositionY=5*(this._pullingProgress-1.2)):(this._pullingProgress+=t>0?1*t/10:-1*t/10,this._currentHanderSp3D.transform.localPositionY=-5*(this._pullingProgress-1.2))),this._pullingProgress>1.2&&(this._pullingProgress=2,this._currentHanderSp3D.transform.localPosition=new Laya.Vector3(0,0,0),Laya.timer.once(100,this,()=>{this._pullingProgress=0,this.SwitchOutIn()}))}PullToothOut(){this._handlerState=n.SwitchingAni;let e=0;e=this._handleCurRotate>0?-5:5,Laya.Tween.to(this._currentHanderSp3D.transform,{localPositionX:e,localPositionZ:-5},500,null,Laya.Handler.create(this,()=>{this._pullingProgress=1.01,this.PullToothIn()}))}PullToothIn(){Laya.Tween.to(this._currentHanderSp3D.transform,{localPositionX:0,localPositionZ:0},300,null,Laya.Handler.create(this,()=>{this._pullingProgress=1.02,this._handlerState=n.PullingTooth}))}ClippingTooth(e){this._handlerState=n.SwitchingAni,Laya.Tween.to(this._handlerSp.transform.position,{x:e.position.x,y:e.position.y,z:e.position.z},500),Laya.Tween.to(this._currentHanderSp3D.transform.localRotationEuler,{x:0,y:0,z:0},500),Laya.Tween.to(this._currentHanderSp3D.transform.localPosition,{x:0,y:0,z:0},500,null,Laya.Handler.create(this,this.PlayPincersAni))}PlayPincersAni(){this._pincersHandlerAni.play("Clipping"),Laya.timer.once(600,this,()=>{this._handlerState=n.PullingTooth})}PullingToothSwitchAni(){let e=0;e=this._handleCurRotate>0?-5:5}SwitchHandler(e){if(this._toothName=e,null==this._currentHanderSp3D){switch(this._handlerType){case s.PointedHandler:this._currentHanderSp3D=this._pointedHandlerSp3D,"CalculusTooth"==this._toothName?(this._cleanEffect=this._currentHanderSp3D.getChildByName("Xiya"),this._currentHanderSp3D.getChildByName("Zuanya").active=!1):"CutTooth"==this._toothName?(this._cleanEffect=this._currentHanderSp3D.getChildByName("Zuanya"),this._currentHanderSp3D.getChildByName("Xiya").active=!1):"FillingTooth"==this._toothName?(this._cleanEffect=this._currentHanderSp3D.getChildByName("Xiya"),this._currentHanderSp3D.getChildByName("Zuanya").active=!1):this._cleanEffect=null,null!=this._cleanEffect&&(this._cleanEffect.active=!1);break;case s.NozzleHandler:this._currentHanderSp3D=this._nozzleHandlerSp3d,this._cleanEffect=this._currentHanderSp3D.getChildByName("Effect"),this._cleanEffect.active=!1;break;case s.TweezersHandler:this._currentHanderSp3D=this._tweezersHandlerSp3d,this._cleanEffect=null;break;case s.PincersHandler:this._currentHanderSp3D=this._pincersHandlerSp3d,this._cleanEffect=null}this.SwitchIn()}else this.SwitchOutIn()}GameOver(){this._handlerMeshs.active=!1,this._handlerSp.getChildByName("Select").active=!1,this._handlerState=n.SwitchingAni,this._cameraLockRotate=0,this._isGameOver=!0,Laya.Tween.to(this._camera,{fieldOfView:70},1e3),Laya.timer.once(500,this,()=>{this._gameOverEffect.active=!0})}SwitchOutIn(){this._handlerState=n.SwitchingAni;let e=0;e=this._handleCurRotate>0?-5:5,this._currentHanderSp3D.transform.localRotationEuler=new Laya.Vector3,Laya.Tween.to(this._currentHanderSp3D.transform,{localPositionX:e,localPositionZ:-5},500,null,Laya.Handler.create(this,()=>{switch(this._currentHanderSp3D.transform.localPositionX=0,this._currentHanderSp3D.transform.localPositionY=0,this._currentHanderSp3D.transform.localPositionZ=0,this._currentHanderSp3D.active=!1,this._handlerType){case s.PointedHandler:this._currentHanderSp3D=this._pointedHandlerSp3D,"CalculusTooth"==this._toothName?(this._cleanEffect=this._currentHanderSp3D.getChildByName("Xiya"),this._currentHanderSp3D.getChildByName("Zuanya").active=!1):"CutTooth"==this._toothName?(this._cleanEffect=this._currentHanderSp3D.getChildByName("Zuanya"),this._currentHanderSp3D.getChildByName("Xiya").active=!1):"FillingTooth"==this._toothName?(this._cleanEffect=this._currentHanderSp3D.getChildByName("Xiya"),this._currentHanderSp3D.getChildByName("Zuanya").active=!1):this._cleanEffect=null,null!=this._cleanEffect&&(this._cleanEffect.active=!1);break;case s.NozzleHandler:this._currentHanderSp3D=this._nozzleHandlerSp3d,this._cleanEffect=this._currentHanderSp3D.getChildByName("Effect"),this._cleanEffect.active=!1;break;case s.TweezersHandler:this._currentHanderSp3D=this._tweezersHandlerSp3d,this._cleanEffect=null;break;case s.PincersHandler:this._currentHanderSp3D=this._pincersHandlerSp3d,this._cleanEffect=null}this.SwitchIn()}))}SwitchIn(){let e=0;e=this._handleCurRotate>0?-5:5,this._currentHanderSp3D.active=!0,this._currentHanderSp3D.transform.localPositionX=e,this._currentHanderSp3D.transform.localPositionZ=-5,Laya.timer.once(50,this,()=>{this._handlerState=n.Normal}),this._handleCurUpCurDownOffset=0,this.SetPosByRotateAndOffset(this._handleCurRotate,this._handleCurUpCurDownOffset,H.HandleOrigOffset,this._handleCurOffset),Laya.Vector3.add(this._cameraCenter.transform.position,this._handleCurOffset,this._handlerSp.transform.position),this._handlerSp.transform.position=this._handlerSp.transform.position,Laya.Tween.to(this._currentHanderSp3D.transform,{localPositionX:0,localPositionZ:0,localPositionY:0},300,null,Laya.Handler.create(this,()=>{})),Laya.Tween.to(this._currentHanderSp3D.transform,{localRotationEulerX:0,localRotationEulerY:0,localRotationEulerZ:0},300,null,Laya.Handler.create(this,()=>{})),Laya.Tween.to(this._handlerMeshs.transform,{localPositionX:0,localPositionZ:0,localPositionY:0},100,null,Laya.Handler.create(this,()=>{})),Laya.Tween.to(this._handlerMeshs.transform,{localRotationEulerX:0,localRotationEulerY:0,localRotationEulerZ:0},100,null,Laya.Handler.create(this,()=>{}))}Input(e,t){if(this._enableInput&&this._handlerState!=n.SwitchingAni)switch(this._handlerType){case s.NozzleHandler:case s.PointedHandler:case s.TweezersHandler:this.NormalMoveHandler(e,t);break;case s.PincersHandler:this._handlerState==n.Normal&&this.NormalMoveHandler(e,t),this._handlerState==n.PullingTooth&&this.PullingToothInputProgress(e,t)}}NormalMoveHandler(e,t){{this._handleCurRotate+=e,this._handleCurRotate=Math.max(-1*H.MaxHandleRotateAngle,Math.min(H.MaxHandleRotateAngle,this._handleCurRotate));let t=this._handleCurRotate;if(Math.abs(t-this._cameraLockRotate)>20){let e=this._handleCurRotate>this._cameraLockRotate?-1:1;this._cameraLockRotate-=20*e}}this._handleCurUpCurDownOffset-=t,this._handleCurUpCurDownOffset=Math.max(-1*H.MaxHandleUpDownOffset,Math.min(H.MaxHandleUpDownOffset,this._handleCurUpCurDownOffset)),this.SetPosByRotateAndOffset(this._handleCurRotate,this._handleCurUpCurDownOffset,H.HandleOrigOffset,this._handleCurOffset),Laya.Vector3.add(this._cameraCenter.transform.position,this._handleCurOffset,this._handlerSp.transform.position),this._handlerSp.transform.position=this._handlerSp.transform.position;let i=new Laya.Vector3;Laya.Vector3.subtract(this._handlerSp.transform.position,this._cameraCenter.transform.position,i),Laya.Vector3.add(i,this._handlerSp.transform.position,i),i.y=this._handlerSp.transform.position.y,this._handlerSp.transform.lookAt(i,new Laya.Vector3(0,1,0))}SetHandlerMove(){switch(this._handlerType){case s.PincersHandler:this.PincersHandlerMove();break;case s.TweezersHandler:this.TweezersHandler();break;case s.PointedHandler:case s.NozzleHandler:this.PointedHandlerMove()}}TweezersHandler(){this._currentHanderSp3D.transform.localPositionZ=-.6*Math.abs(this._handleCurRotate/H.MaxHandleRotateAngle),this._currentHanderSp3D.transform.localPositionY=this._handleCurUpCurDownOffset/H.MaxHandleUpDownOffset*-.1,this._currentHanderSp3D.transform.localRotationEulerZ=65*this._handleCurRotate/H.MaxHandleRotateAngle}PincersHandlerMove(){let e=this._handleCurUpCurDownOffset/H.MaxHandleUpDownOffset;this._currentHanderSp3D.transform.localRotationEulerZ=e>0?90-90*Math.min(1,2*e):90+90*Math.min(1,2*-e),this._handlerSp.transform.position=this._handlerSp.transform.position,this._currentHanderSp3D.transform.localRotationEuler=this._currentHanderSp3D.transform.localRotationEuler,this._currentHanderSp3D.transform.localPosition=this._currentHanderSp3D.transform.localPosition}PointedHandlerMove(){let e=this._handlerSp.transform.localRotationEuler.y;e=e>0?(90-e)/90*45:(e+90)/90*-45;let t=this._currentHanderSp3D.transform.localRotationEulerY;t>e?(t-=3)<e&&(t=e):t<e&&(t+=3)>e&&(t=e);{let e=Math.abs(this._handleCurRotate)/H.MaxHandleRotateAngle;this._currentHanderSp3D.transform.localRotationEulerX=10*this._handleCurUpCurDownOffset*-e}{let e=this._handleCurRotate/H.MaxHandleRotateAngle;this._currentHanderSp3D.transform.localRotationEulerZ=t+30*this._handleCurUpCurDownOffset*e}this._currentHanderSp3D.transform.localRotationEulerY=t}SetPosByRotateAndOffset(e,t,i,a){let o=i.z,n=e*Math.PI/180,s=Math.cos(n)*o,_=Math.sin(n)*o;a.x=_,a.z=s,a.y=t}UpdateCleanTooth(e){switch(this._handlerState){case n.SwitchingAni:return this._handlerType==s.PincersHandler&&e.onToothStepUpdate(this._handlerSp,{progress:this._pullingProgress,upJaw:this._handleCurUpCurDownOffset>0});case n.Normal:return e.onToothStepUpdate(this._handlerSp);case n.PullingTooth:return e.onToothStepUpdate(this._handlerSp,{progress:this._pullingProgress,upJaw:this._handleCurUpCurDownOffset>0})}}}class H extends Laya.Script{constructor(){super(),this._toothStepList=[],this._currentToothStepIndex=0,this._topToothList=[],this._bottomToothList=[],this._allToothList=[],this._isGameOver=!1,this._currentLevel=0,this._cleanStepCount=0,this._calculusToothList=[],this._fillingToothList=[],this._pullToothList=[],this._cutToothList=[],this._braceToothList=[],this._paintToothList=[],this._normalToothList=[]}static get Instance(){return this._instance}get CurrentScene(){return this._scene}get IsGameOver(){return this._isGameOver}get CurrentToothStep(){return this._currentToothSteep}get CurrentToothStepIndex(){return this._currentToothStepIndex}get ToothStepList(){return this._toothStepList}onAwake(){H._instance=this,this.InitObjects(),this.RandomSetToothStep()}StartGame(){this._handleScript.StartGameMove()}Input(e,t){this._handleScript.Input(e,t)}SetGameOver(){this._handleScript.GameOver()}InitObjects(){this._scene=this.owner,this._faceSp3D=this._scene.getChildByName("Face"),this._topJaw=this._faceSp3D.getChildByName("TopJaw");for(let e=0;e<this._topJaw.numChildren;e++){const t=this._topJaw.getChildAt(e);this._topToothList.push(t)}this._bottomJaw=this._faceSp3D.getChildByName("BottomJaw");for(let e=0;e<this._bottomJaw.numChildren;e++){const t=this._bottomJaw.getChildAt(e);this._bottomToothList.push(t)}this._allToothList=this._topToothList.concat(this._bottomToothList),this._handleScript=this._scene.getChildByName("Handler").addComponent(N),this._currentLevel=G.getIns_XYXZS_tance().Curr_XYXZS_entLevel}RandomSetToothStep(){this._normalToothList=this._allToothList.concat();let e=null,t=null,i=null,a=null,o=null,n=null;if(1==this._currentLevel)o=this.SetCalculusToothStep();else if(2==this._currentLevel)n=this.SetFillingTooth();else if(3==this._currentLevel)t=this.SetPaintToothStep(),o=this.SetCalculusToothStep();else if(4==this._currentLevel)e=this.SetBraceToothStep(),n=this.SetFillingTooth();else if(5==this._currentLevel)i=this.SetPullToothStep(),t=this.SetPaintToothStep();else if(6==this._currentLevel)e=this.SetBraceToothStep(),a=this.SetCutToothStep();else{let s=0;Math.random()>.4&&null!=(e=this.SetBraceToothStep())&&s++,(Math.random()>.4||null==e)&&null!=(t=this.SetPaintToothStep())&&s++,(Math.random()>.4||null==e||null==t)&&null!=(a=this.SetCutToothStep())&&s++,Math.random()>.8&&s<4&&(Math.random()>.4||null==e||null==t)&&null!=(i=this.SetPullToothStep())&&s++,(s<4||s>2&&Math.random()>.3)&&(o=this.SetCalculusToothStep(),s++),(s<4||s>2&&Math.random()>.3)&&(n=this.SetFillingTooth(),s++)}let s=Math.random();s<.3?(null!=o&&this._toothStepList.push(o),null!=n&&this._toothStepList.push(n),null!=e&&this._toothStepList.push(e),null!=a&&this._toothStepList.push(a),null!=t&&this._toothStepList.push(t),null!=i&&this._toothStepList.push(i)):s<.66?(null!=o&&this._toothStepList.push(o),null!=n&&this._toothStepList.push(n),null!=i&&this._toothStepList.push(i),null!=t&&this._toothStepList.push(t),null!=a&&this._toothStepList.push(a),null!=e&&this._toothStepList.push(e)):(null!=o&&this._toothStepList.push(o),null!=n&&this._toothStepList.push(n),null!=e&&this._toothStepList.push(e),null!=t&&this._toothStepList.push(t),null!=i&&this._toothStepList.push(i),null!=a&&this._toothStepList.push(a)),this.RemoveUnusedTooth()}onUpdate(){if(!this._isGameOver){if(null==this._currentToothSteep||this._currentToothSteep!=this._toothStepList[this._currentToothStepIndex])switch(this._currentToothSteep=this._toothStepList[this._currentToothStepIndex],this._currentToothSteep.ToothStepType){case o.CalculusTooth:this._handleScript.SetHandlerType(s.PointedHandler,"CalculusTooth");case o.CutTooth:this._handleScript.SetHandlerType(s.PointedHandler,"CutTooth");break;case o.FillingTooth:this._handleScript.SetHandlerType(s.PointedHandler,"FillingTooth");break;case o.PaintTooth:this._handleScript.SetHandlerType(s.NozzleHandler);break;case o.BraceTooth:this._handleScript.SetHandlerType(s.TweezersHandler);break;case o.PullTooth:this._handleScript.SetHandlerType(s.PincersHandler)}this._handleScript.UpdateCleanTooth(this._currentToothSteep)&&(this._currentToothStepIndex++,this._currentToothStepIndex>=this._toothStepList.length?(console.log("所有流程结束"),V.ins_XYXZS_tance.play_XYXZS_Sound("全部完成展示"),this._handleScript.GameOver(),this._isGameOver=!0):(V.ins_XYXZS_tance.play_XYXZS_Sound("小节完成"),console.log("游戏进入下一步")))}}SetBraceToothStep(){let e=[];e=Math.random()>.4?this._topToothList.concat():this._bottomToothList.concat();for(let t=0;t<e.length;t++){const i=e[t];for(let e=0;e<this._normalToothList.length;e++){if(this._normalToothList[e]==i){this._normalToothList.splice(e,1),e--;break}}}if(e.length>0){let t=new D;return this._cleanStepCount++,this._braceToothList=e,t.SetTooth(e,o.BraceTooth),t}return null}SetPullToothStep(){let e=this._normalToothList.concat();for(let t=0;t<e.length;t++){const i=e[t];"4"!=i.name&&"5"!=i.name&&"6"!=i.name&&"7"!=i.name&&(e.splice(t,1),t--)}if(e.length>3){let t=Math.floor(Math.random()*(e.length-3));e.sort(()=>Math.random()-.5),e.splice(0,t)}for(let t=0;t<e.length;t++){const i=e[t];for(let e=0;e<this._normalToothList.length;e++){if(this._normalToothList[e]==i){this._normalToothList.splice(e,1),e--;break}}}if(e.length>0){let t=new D;return this._cleanStepCount++,this._pullToothList=e,t.SetTooth(e,o.PullTooth),t}return null}SetCutToothStep(){let e=this._normalToothList.concat();for(let t=0;t<e.length;t++){const i=e[t];"4"!=i.name&&"5"!=i.name&&"6"!=i.name&&"7"!=i.name&&(e.splice(t,1),t--)}if(e.length>3){let t=Math.floor(Math.random()*(e.length-3));e.sort(()=>Math.random()-.5),e.splice(0,t)}for(let t=0;t<e.length;t++){const i=e[t];for(let e=0;e<this._normalToothList.length;e++){if(this._normalToothList[e]==i){this._normalToothList.splice(e,1),e--;break}}}if(e.length>0){let t=new D;return this._cleanStepCount++,this._cutToothList=e,t.SetTooth(e,o.CutTooth),t}return null}SetPaintToothStep(){let e=this._normalToothList.concat();for(let t=0;t<e.length;t++){const i=e[t];"4"!=i.name&&"5"!=i.name&&"6"!=i.name&&"7"!=i.name&&(e.splice(t,1),t--)}if(v.isI_XYXZS_phone){if(e.length>5){let t=e.length-5;e.sort(()=>Math.random()-.5),e.splice(0,t)}}else if(e.length>3){let t=Math.floor(Math.random()*(e.length-3));e.sort(()=>Math.random()-.5),e.splice(0,t)}for(let t=0;t<e.length;t++){const i=e[t];for(let e=0;e<this._normalToothList.length;e++){if(this._normalToothList[e]==i){this._normalToothList.splice(e,1),e--;break}}}if(e.length>0){let t=new D;return this._cleanStepCount++,this._paintToothList=e,t.SetTooth(e,o.PaintTooth),t}return null}SetCalculusToothStep(){let e=this._normalToothList.concat();e.concat(this._braceToothList),e.concat(this._paintToothList);for(let t=0;t<this._fillingToothList.length;t++){const i=this._fillingToothList[t];for(let t=0;t<e.length;t++){if(e[t]==i){e.splice(t,1),t--;break}}}if(v.isI_XYXZS_phone){if(e.length>5){let t=e.length-5;e.sort(()=>Math.random()-.5),e.splice(0,t)}}else if(e.length>3){let t=Math.floor(Math.random()*(e.length-3));e.sort(()=>Math.random()-.5),e.splice(0,t)}for(let t=0;t<e.length;t++){const i=e[t];for(let e=0;e<this._normalToothList.length;e++){if(this._normalToothList[e]==i){this._normalToothList.splice(e,1),e--;break}}}if(e.length>0){let t=new D;return this._cleanStepCount++,this._calculusToothList=e,t.SetTooth(e,o.CalculusTooth),t}return null}SetFillingTooth(){let e=this._normalToothList.concat();e.concat(this._braceToothList),e.concat(this._paintToothList);for(let t=0;t<this._calculusToothList.length;t++){const i=this._calculusToothList[t];for(let t=0;t<e.length;t++){if(e[t]==i){e.splice(t,1),t--;break}}}if(e.length>4){let t=Math.floor(3*Math.random())+4,i=e.length-Math.min(e.length,t);e.sort(()=>Math.random()-.5),e.splice(0,i)}for(let t=0;t<e.length;t++){const i=e[t];for(let e=0;e<this._normalToothList.length;e++){if(this._normalToothList[e]==i){this._normalToothList.splice(e,1),e--;break}}}if(e.length>0){this._cleanStepCount++;let t=new D;return this._fillingToothList=e,t.SetTooth(e,o.FillingTooth),t}return null}RemoveUnusedTooth(){for(let e=0;e<this._allToothList.length;e++){const t=this._allToothList[e];if(null==t.getComponent(M)){let e=t.getChildByName("FillTooth");e&&e.destroy()}if(null==t.getComponent(A)){let e=t.getChildByName("CalculusThooth");e&&e.getChildByName("yagou").destroy()}if(null==t.getComponent(P)){let e=t.getChildByName("PullTooth");e&&e.destroy()}if(null==t.getComponent(b)){let e=t.getChildByName("BraceTooth");e&&e.destroy()}if(null==t.getComponent(I)){let e=t.getChildByName("CutTooth");e&&e.destroy()}if(null==t.getComponent(k)){let e=t.getChildByName("PaintTooth");e&&e.destroy()}}}}H.CameraOrigOffset=new Laya.Vector3(0,.5,-11),H.MaxHandleRotateAngle=60,H.HandleOrigOffset=new Laya.Vector3(0,0,-2.3),H.MaxHandleUpDownOffset=1.5;class O{constructor(){this.openBanner=1,this.openVideo=1,this.openInsert=1}static getInstance(){return null==O._instance&&(O._instance=new O),O._instance}static load(){""!=O.resUrl?Laya.loader.load(O.resUrl,Laya.Handler.create(this,e=>{if(e){for(const t of Object.keys(e))O._instance[t]=e[t];O._instance.SetBannerActive()}})):O._instance.SetBannerActive()}hideBanner(){x.CallNativeFunc("hideBanner")}SetBannerActive(){1==this.openBanner?x.CallNativeFunc("showBanner"):x.CallNativeFunc("hideBanner")}}O.resUrl="";class G extends Laya.Script{constructor(){super(),this.isLo_XYXZS_adOver=!1,this._curr_XYXZS_entLevel=0,G._inst_XYXZS_ance=this}static getIns_XYXZS_tance(){return G._inst_XYXZS_ance}get Curre_XYXZS_ntScene(){return this._curr_XYXZS_entScene}get Curr_XYXZS_entLevel(){return this._curr_XYXZS_entLevel+1}onAwake(){u.GetMai_XYXZS_LiangOpenId(function(e){console.log("GameUI 买量数据上报成功"),Laya.Browser.window.wx.onShow(function(){u.GetMai_XYXZS_LiangOpenId(null,null)}),Laya.Browser.window.wx.onHide(function(){u.ReportS_XYXZS_tayTime(null,null)})},function(e){console.log("GameUI 买量数据上报失败")}),p.SetSha_XYXZS_reMenu("","",()=>{},()=>{},()=>{}),y.Update_XYXZS_IpBlockState(),L.preloa_XYXZS_dBanner(),this.repor_XYXZS_tLaunchOptions()}onStart(){this.preCre_XYXZS_ateGame()}preCre_XYXZS_ateGame(){O.getInstance().SetBannerActive(),t.inst_XYXZS_ance.open_XYXZS_View(e.Main_XYXZS_View,null,e=>{l.in_XYXZS_stance.disp_XYXZS_atch(i.App_Close_XYXZS_FirstLoadingView)}),this.GetStorageData(),this.CreatGameScene()}save_XYXZS_GameData(){Laya.LocalStorage.setItem("Game_Data",h.getSa_XYXZS_veData())}repor_XYXZS_tLaunchOptions(){Z.Getu_XYXZS_serip(e=>{if(1==e.code){console.log("获取玩家ip,地区成功 ：",e.data.dqip,e.data.ipxq);let t=null;Laya.Browser.onMiniGame?t=p.getLaun_XYXZS_chOptionsSync():Laya.Browser.onQQMiniGame&&(t=w.getLaunc_XYXZS_hOptionsSync()),null!=t&&f.aldSendRe_XYXZS_portLaunchOptions(t.scene,e.data.dqip,e.data.ipxq)}},e=>{console.log("获取玩家ip,地区失败");let t=null;Laya.Browser.onMiniGame?t=p.getLaun_XYXZS_chOptionsSync():Laya.Browser.onQQMiniGame&&(t=w.getLaunc_XYXZS_hOptionsSync()),null!=t&&f.aldSendRe_XYXZS_portLaunchOptions(t.scene,"","")})}StorageState(){var e=new C;e.k_XYXZS_ey="CurrentLevel",e.d_XYXZS_ata=null!=this._curr_XYXZS_entLevel?this._curr_XYXZS_entLevel:0,T.setSt_XYXZS_orage(e)}GetStorageData(){let e=T.getS_XYXZS_torage("CurrentLevel");null!=e&&""!=e||(e="0"),this._curr_XYXZS_entLevel=parseInt(e)}CreatNextGameScene(){this._curr_XYXZS_entLevel++,this.isLo_XYXZS_adOver=!1,this.CreatGameScene()}CreatGameScene(){this.StorageState();this._curr_XYXZS_entScene&&this._curr_XYXZS_entScene.destroy(),Laya.Scene3D.load("subRes/LayaScene_Test/Conventional/Test.ls",Laya.Handler.create(this,e=>{this._curr_XYXZS_entScene=e,Laya.stage.addChildAt(this._curr_XYXZS_entScene,0),this._curr_XYXZS_entScene.addComponent(H),this.isLo_XYXZS_adOver=!0,l.in_XYXZS_stance.disp_XYXZS_atch(i.App_Close_XYXZS_FirstLoadingView)}))}}G._inst_XYXZS_ance=null;class E{static refr_XYXZS_eshAd(e){}static ge_XYXZS_tADVs(e,t,i,a,o=!0){}static reportUs_XYXZS_erClick(e){}static getRand_XYXZS_omADPosID(){return E.AdLoca_XYXZS_tionids[Math.floor(Math.random()*E.AdLoca_XYXZS_tionids.length)]}static req_XYXZS_uest(e){}static getAd_XYXZS_PosData(e,t){}static reqUs_XYXZS_erClick(e,t,i){}static getA_XYXZS_DVData(e,t,i){}static Rando_XYXZS_mJump(e=1){}static isNee_XYXZS_dShowAd(){return!1}static sort_XYXZS_Datas(e){return[]}}E.mai_XYXZS_nUrl="",E.getA_XYXZS_dPostion="",E.get_XYXZS_Adv="",E.use_XYXZS_rClick="",E.LoopA_XYXZS_dLocationID=270,E.Banner_XYXZS_AdLocationID=272,E.Insert_XYXZS_AdLocationID=271,E.AniAd_XYXZS_LocationID=-1,E.Histo_XYXZS_ryLocationID=273,E.UseRa_XYXZS_ndomAdPos=!1,E.AdLoca_XYXZS_tionids=[],E._adP_XYXZS_osition={},E._a_XYXZS_dv={},E._iphon_XYXZS_eIgnoreAppIds=[];class U extends Laya.Script{constructor(){super(...arguments),this.AdP_XYXZS_osID=-10086,this._da_XYXZS_tas=[],this._d_XYXZS_ata=null}get Sp_XYXZS_rite(){return this.owner}get Da_XYXZS_ta(){return this._d_XYXZS_ata}re_XYXZS_fres(e){let t=this;E.ge_XYXZS_tADVs(this.AdP_XYXZS_osID,i=>{null!=i&&(t._da_XYXZS_tas=i,t._d_XYXZS_ata=t._da_XYXZS_tas[Math.floor(Math.random()*i.length)],null!=e&&e())},!1)}navigateT_XYXZS_oMiniProgram(e){var t=null==e?this._d_XYXZS_ata:e;t&&(console.log("跳转游戏： "+t.title),Laya.Browser.onMiniGame?p.navigateT_XYXZS_oMiniProgram(t.appid,t.url,e=>{console.log("跳转成功"),E.reportUs_XYXZS_erClick(t.appid),f.aldSend_XYXZS_ReportAdClickSuccess(t)},e=>{console.log("跳转失败"),l.in_XYXZS_stance.disp_XYXZS_atch(i.AD_OnShare_XYXZS_AdFail),"navigateToMiniProgram:fail cancel"==e.errMsg&&(console.log("用户取消跳转"),f.aldSend_XYXZS_ReportAdClickFail(t))},e=>{console.log("跳转完成")}):Laya.Browser.onQGMiniGame?Y.navigat_XYXZS_eToMiniProgram(t.appid,t.title,t.url,e=>{console.log("跳转成功"),E.reportUs_XYXZS_erClick(t.appid)},e=>{console.log("跳转失败"),l.in_XYXZS_stance.disp_XYXZS_atch(i.AD_OnShare_XYXZS_AdFail)},e=>{console.log("跳转完成")}):Laya.Browser.onQQMiniGame&&w.navigateToMi_XYXZS_niProgram(t.appid,t.url,e=>{console.log("跳转成功"),E.reportUs_XYXZS_erClick(t.appid)},e=>{console.log("跳转失败"),l.in_XYXZS_stance.disp_XYXZS_atch(i.AD_OnShare_XYXZS_AdFail)},e=>{console.log("跳转完成")}))}show(){this.Sp_XYXZS_rite.visible=!0}hide(){this.Sp_XYXZS_rite.visible=!1}autoScr_XYXZS_ollText(e){if(e.overflow!=Laya.Text.SCROLL)return;let t=!0,i=0;Laya.timer.frameLoop(1,e,()=>{let a=Laya.timer.delta/1e3*10;(i+=a)>=e.textWidth/2&&(t=!t,i=0),t?e.scrollX+=a:e.scrollX-=a})}}class F extends U{constructor(){super(...arguments),this._originW=170,this._originH=170}onAwake(){this._displaySp=this.owner.getChildByName("Display"),this._originW=this._displaySp.width,this._originH=this._displaySp.height}onStart(){}onEnable(){this.Sp_XYXZS_rite.on(Laya.Event.CLICK,this,this.onCl_XYXZS_ickAd)}onDisable(){this.Sp_XYXZS_rite.off(Laya.Event.CLICK,this,this.onCl_XYXZS_ickAd)}onCl_XYXZS_ickAd(){this.navigateT_XYXZS_oMiniProgram()}set_XYXZS_Data(e){if(this._d_XYXZS_ata=e,null!=this._d_XYXZS_ata){let e=this;this._displaySp.loadImage(this._d_XYXZS_ata.logo,Laya.Handler.create(this,function(){e._displaySp.destroyed||(e._displaySp.width=e._originW,e._displaySp.height=e._originH)}))}}}class z extends U{constructor(){super(...arguments),this._scrollForward=!0,this._cellSize=new Laya.Point}get Clip(){return this.owner}onAwake(){this.AdP_XYXZS_osID=E.LoopA_XYXZS_dLocationID,this._list=this.owner.getChildByName("List"),this._list.renderHandler=Laya.Handler.create(this,this.onListRender,null,!1),this._list.hScrollBarSkin=""}onStart(){let e=this;this._list.width=e.Clip.width,this._list.height=e.Clip.height,e.refresh(()=>{let t=this._list.cells[0];e._cellSize.x=t.width,e._cellSize.y=t.height,setTimeout(()=>{e._list.scrollBar&&(e._list.scrollBar.value=0,e.move())},2e3)})}refresh(e){let t=this;E.ge_XYXZS_tADVs(this.AdP_XYXZS_osID,i=>{null!=i&&(t._da_XYXZS_tas=i,t._list.array=t._da_XYXZS_tas,null!=e&&e())})}onListRender(e,t){var i=this._list.array[t];e.getComponent(F).set_XYXZS_Data(i)}move(){let e=this._cellSize.x+this._list.spaceX,t=0;if(this._scrollForward?t=this._list.scrollBar.value%e:(e*=-1,t=(this._list.scrollBar.max-this._list.scrollBar.value)%e*-1),this._list.scrollBar){this._list.scrollBar.stopScroll();let i=e;0!=t&&(i=2*e-t);let a=this;Laya.Tween.to(a._list.scrollBar,{value:a._list.scrollBar.value+i},1e3,null,Laya.Handler.create(a,()=>{})),Laya.timer.once(1010,a,()=>{a._list.scrollBar.value>=a._list.scrollBar.max?a._scrollForward=!1:a._list.scrollBar.value<=0&&(a._scrollForward=!0),Laya.timer.once(3e3,a,()=>{a._list.scrollBar&&a.move()})})}}}class Q extends z{onAwake(){this._list=this.owner.getChildByName("List"),this._list.renderHandler=Laya.Handler.create(this,this.onListRender,null,!1),this._list.vScrollBarSkin=""}move(){let e=this._cellSize.y+this._list.spaceY,t=0;if(this._scrollForward?t=this._list.scrollBar.value%e:(e*=-1,t=(this._list.scrollBar.max-this._list.scrollBar.value)%e*-1),this._list.scrollBar){this._list.scrollBar.stopScroll();let i=e;0!=t&&(i=2*e-t);let a=this;Laya.Tween.to(a._list.scrollBar,{value:a._list.scrollBar.value+i},1e3,null,Laya.Handler.create(a,()=>{})),Laya.timer.once(1010,a,()=>{a._list.scrollBar.value>=a._list.scrollBar.max?a._scrollForward=!1:a._list.scrollBar.value<=0&&(a._scrollForward=!0),Laya.timer.once(3e3,a,()=>{a._list.scrollBar&&a.move()})})}}}class q extends U{constructor(){super(...arguments),this._wxB_XYXZS_anner=null}get C_XYXZS_lip(){return this.owner}onAwake(){this.AdP_XYXZS_osID=E.Banner_XYXZS_AdLocationID}onStart(){this.re_XYXZS_fres()}onEnable(){this.Sp_XYXZS_rite.on(Laya.Event.CLICK,this,this.onCl_XYXZS_ickAd)}onDisable(){this.Sp_XYXZS_rite.off(Laya.Event.CLICK,this,this.onCl_XYXZS_ickAd)}onCl_XYXZS_ickAd(){this.navigateT_XYXZS_oMiniProgram()}re_XYXZS_fres(e){super.re_XYXZS_fres(()=>{1==m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().ba_XYXZS_nner?null==this._wxB_XYXZS_anner&&this.refres_XYXZS_hWXBanner():this.refres_XYXZS_hBanner()})}refres_XYXZS_hBanner(){if(this.Sp_XYXZS_rite.visible&&null!=this._d_XYXZS_ata){let e=this;this.Sp_XYXZS_rite.loadImage(this._d_XYXZS_ata.logo,Laya.Handler.create(this,function(){null==e.Sp_XYXZS_rite||e.Sp_XYXZS_rite.destroyed||(e.Sp_XYXZS_rite.width=600,e.Sp_XYXZS_rite.height=205)}))}}refres_XYXZS_hWXBanner(){if(!Laya.Browser.onMiniGame||!this.Sp_XYXZS_rite.visible)return;this.clear_XYXZS_WXBaner();let e=this,t=Laya.Browser.window.wx.getSystemInfoSync(),i=t.screenWidth,a=t.screenHeight,o=this.Sp_XYXZS_rite.localToGlobal(new Laya.Point(0,0)),n=(i*(e.Sp_XYXZS_rite.width/Laya.stage.width)-300)/2,s=o.x/Laya.stage.width*i+n,_=o.y/Laya.stage.height*a;this._wxB_XYXZS_anner=Laya.Browser.window.wx.createBannerAd({adUnitId:p.bann_XYXZS_erAdUnitId,adIntervals:30,style:{left:s,top:_,width:300}}),e._wxB_XYXZS_anner.onLoad(e=>{console.log("KRQ  WXBanner广告 加载完成 : ",p.bann_XYXZS_erAdUnitId),console.log(e)}),null!=this._wxB_XYXZS_anner?(this._wxB_XYXZS_anner.onError(t=>{console.log("KRQ WXBanner广告 加载失败 : ",p.bann_XYXZS_erAdUnitId),console.log(t),e.refres_XYXZS_hBanner(),e.clear_XYXZS_WXBaner()}),this._wxB_XYXZS_anner.onResize(e=>{}),this._wxB_XYXZS_anner.show()):this.refres_XYXZS_hBanner()}clear_XYXZS_WXBaner(){this._wxB_XYXZS_anner&&this._wxB_XYXZS_anner.destroy(),this._wxB_XYXZS_anner=null}onView__XYXZS_XYXZS_Show(){1==m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().ba_XYXZS_nner&&null==this._wxB_XYXZS_anner&&this.refres_XYXZS_hWXBanner()}onViewHide(){this.clear_XYXZS_WXBaner()}onDestroy(){this.clear_XYXZS_WXBaner()}show(){super.show(),this.onView__XYXZS_XYXZS_Show()}hide(){super.hide(),this.onViewHide()}}class W extends Laya.Script{constructor(){super(...arguments),this.onShow=null,this.onHide=null}get Sprite(){return this.owner}show(){this.Sprite.visible=!0,null!=this.onShow&&this.onShow()}hide(){this.Sprite.visible=!1,null!=this.onHide&&this.onHide()}}class K extends W{constructor(){super(...arguments),this.onContinu_XYXZS_eBtnClick=null,this._to_XYXZS_pZone=null,this._bac_XYXZS_kBtn=null,this._cen_XYXZS_terZone=null,this._cont_XYXZS_inueBtn=null}get Ba_XYXZS_ckBtn(){return null==this._bac_XYXZS_kBtn&&(this._bac_XYXZS_kBtn=this.Sprite.getChildByName("TopZone").getChildByName("BackBtn")),this._bac_XYXZS_kBtn}get Con_XYXZS_tinueBtn(){return null==this._cont_XYXZS_inueBtn&&(this._cont_XYXZS_inueBtn=this.Sprite.getChildByName("CenterZone").getChildByName("ContinueBtn")),this._cont_XYXZS_inueBtn}onAwake(){this._to_XYXZS_pZone=this.Sprite.getChildByName("TopZone"),v.isIp_XYXZS_honeX()&&(this._to_XYXZS_pZone.top=this._to_XYXZS_pZone.top+75),this._bac_XYXZS_kBtn=this._to_XYXZS_pZone.getChildByName("BackBtn"),this._cen_XYXZS_terZone=this.Sprite.getChildByName("CenterZone"),v.isIp_XYXZS_honeX()&&(this._cen_XYXZS_terZone.top=this._cen_XYXZS_terZone.top+75),this._cont_XYXZS_inueBtn=this._cen_XYXZS_terZone.getChildByName("ContinueBtn")}onEnable(){this._bac_XYXZS_kBtn.on(Laya.Event.CLICK,this,this.on_XYXZS_BackBtn),this._cont_XYXZS_inueBtn.on(Laya.Event.CLICK,this,this.onCo_XYXZS_ntinueBtn)}onDisable(){this._bac_XYXZS_kBtn.off(Laya.Event.CLICK,this,this.on_XYXZS_BackBtn),this._cont_XYXZS_inueBtn.off(Laya.Event.CLICK,this,this.onCo_XYXZS_ntinueBtn)}on_XYXZS_BackBtn(){this.hide()}onCo_XYXZS_ntinueBtn(){null!=this.onContinu_XYXZS_eBtnClick&&this.onContinu_XYXZS_eBtnClick()}}class j extends U{constructor(){super(...arguments),this._or_XYXZS_iginW=300,this._ori_XYXZS_ginH=300}onAwake(){this.AdP_XYXZS_osID=E.LoopA_XYXZS_dLocationID,this._dis_XYXZS_play=this.Sp_XYXZS_rite.getChildByName("Display"),this._t_XYXZS_ext=this.Sp_XYXZS_rite.getChildByName("Text"),this._t_XYXZS_ext.overflow=Laya.Text.SCROLL,this._t_XYXZS_ext.text=""}onEnable(){this.Sp_XYXZS_rite.on(Laya.Event.CLICK,this,this.onCli_XYXZS_ckAd)}onDisable(){this.Sp_XYXZS_rite.off(Laya.Event.CLICK,this,this.onCli_XYXZS_ckAd)}onStart(){this.autoScr_XYXZS_ollText(this._t_XYXZS_ext),this.re_XYXZS_fresh()}re_XYXZS_fresh(e){let t=this;E.ge_XYXZS_tADVs(this.AdP_XYXZS_osID,i=>{if(null!=i){if(t._d_XYXZS_ata=null,t._da_XYXZS_tas=i,t.Sp_XYXZS_rite&&!t.Sp_XYXZS_rite.destroyed){for(let e=0;e<t._da_XYXZS_tas.length;++e){let i=!1,a=t._da_XYXZS_tas[e];for(let e=0;e<j._repeatC_XYXZS_heckList.length;++e){if(j._repeatC_XYXZS_heckList[e]==a.appid){i=!0;break}}if(!i){t.clea_XYXZS_rRepeat(),t._d_XYXZS_ata=a;break}}if(null==t._d_XYXZS_ata&&(t._d_XYXZS_ata=t._d_XYXZS_ata[Math.floor(Math.random()*i.length)]),null!=t._d_XYXZS_ata){t._dis_XYXZS_play.loadImage(t._d_XYXZS_ata.logo,Laya.Handler.create(t,function(){t._dis_XYXZS_play.destroyed||(t.Sp_XYXZS_rite.visible=!0,e&&e())}));var a=t._d_XYXZS_ata.title;t._t_XYXZS_ext.text=a;let i=!1;for(let e=0;e<j._repeatC_XYXZS_heckList.length;++e){if(j._repeatC_XYXZS_heckList[e]==t._d_XYXZS_ata.appid){i=!0;break}}i||j._repeatC_XYXZS_heckList.push(t._d_XYXZS_ata.appid)}else t.Sp_XYXZS_rite.visible=!1,e&&e()}}else t.Sp_XYXZS_rite.visible=!1,e&&e()})}hide(){this.Sp_XYXZS_rite.visible=!1,this.clea_XYXZS_rRepeat()}clea_XYXZS_rRepeat(){if(null!=this._d_XYXZS_ata)for(let e=0;e<j._repeatC_XYXZS_heckList.length;++e){if(j._repeatC_XYXZS_heckList[e]==this._d_XYXZS_ata.appid){j._repeatC_XYXZS_heckList.splice(e,1);break}}}onCli_XYXZS_ckAd(){this.navigateT_XYXZS_oMiniProgram(),this.re_XYXZS_fresh()}onDestroy(){this.clea_XYXZS_rRepeat()}}j._repeatC_XYXZS_heckList=new Array;class J extends j{pl_XYXZS_ayAni(e){let t=this;t.Sp_XYXZS_rite.rotation=0,Laya.Tween.to(t.Sp_XYXZS_rite,{rotation:20},250,Laya.Ease.linearNone,Laya.Handler.create(t,()=>{Laya.Tween.to(t.Sp_XYXZS_rite,{rotation:0},250,Laya.Ease.linearNone,Laya.Handler.create(t,()=>{t.Sp_XYXZS_rite.rotation=0,null!=e&&e()}))}))}}class $ extends W{constructor(){super(...arguments),this._cent_XYXZS_erZone=null,this._rock_XYXZS_SingleAds=new Array,this._aniS_XYXZS_paceing=3e3}onAwake(){this._cent_XYXZS_erZone=this.Sprite.getChildByName("CenterZone");for(let e=0;e<this._cent_XYXZS_erZone.numChildren;++e){let t=this._cent_XYXZS_erZone.getChildAt(e);if(t.visible){let e=t.getComponent(J);this._rock_XYXZS_SingleAds.push(e)}}}onStart(){let e=this;e.pla_XYXZS_yAni(),Laya.timer.loop(this._rock_XYXZS_SingleAds.length*(this._aniS_XYXZS_paceing+500),this,()=>{e.pla_XYXZS_yAni(()=>{e.refr_XYXZS_eshAd()})})}refr_XYXZS_eshAd(){for(let e=0;e<this._rock_XYXZS_SingleAds.length;++e){let t=this._rock_XYXZS_SingleAds[e];null==t.Da_XYXZS_ta&&(t.Sp_XYXZS_rite.visible=!1),t.re_XYXZS_fres()}}pla_XYXZS_yAni(e){let t=this._rock_XYXZS_SingleAds.length;for(let i=0;i<this._rock_XYXZS_SingleAds.length;++i){let a=i,o=this._rock_XYXZS_SingleAds[a];Laya.timer.once(this._aniS_XYXZS_paceing*i,o,()=>{a==t-1?o.pl_XYXZS_ayAni(e):o.pl_XYXZS_ayAni()})}}}class ee extends j{constructor(){super(...arguments),this._ori_XYXZS_ginX=null}onAwake(){super.onAwake(),this._ori_XYXZS_ginX=this.Sp_XYXZS_rite.x,this.Sp_XYXZS_rite.x-=Laya.stage.width}pla_XYXZS_yAni(e){let t=this._ori_XYXZS_ginX,i=t-Laya.stage.width;this.Sp_XYXZS_rite.x=i,Laya.Tween.to(this.Sp_XYXZS_rite,{rotation:360},500,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{this.Sp_XYXZS_rite.rotation=0})),Laya.Tween.to(this.Sp_XYXZS_rite,{x:t},500,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{this.Sp_XYXZS_rite.x=t,null!=e&&e()}))}}class te extends W{constructor(){super(...arguments),this._cent_XYXZS_erZone=null,this._rollSing_XYXZS_leAds=new Array}onAwake(){this._cent_XYXZS_erZone=this.Sprite.getChildByName("CenterZone");for(let e=0;e<this._cent_XYXZS_erZone.numChildren;++e){let t=this._cent_XYXZS_erZone.getChildAt(e).getComponent(ee);this._rollSing_XYXZS_leAds.push(t)}}onStart(){for(let e=0;e<this._rollSing_XYXZS_leAds.length;++e){let t=this._rollSing_XYXZS_leAds[e];Laya.timer.once(150*(this._rollSing_XYXZS_leAds.length-e),this,()=>{t.pla_XYXZS_yAni()})}}}class ie extends W{constructor(){super(...arguments),this._krqV_XYXZS_LoopAd=null,this._pul_XYXZS_lBtn=null}onAwake(){this._krqV_XYXZS_LoopAd=this.Sprite.getChildByName("KRQ_VLoopAd").getComponent(Q),this._pul_XYXZS_lBtn=this._krqV_XYXZS_LoopAd.Sp_XYXZS_rite.getChildByName("PullBtn"),this._krqV_XYXZS_LoopAd.Sp_XYXZS_rite.x=-this._krqV_XYXZS_LoopAd.Sp_XYXZS_rite.width}onEnable(){this._pul_XYXZS_lBtn.on(Laya.Event.CLICK,this,this.onPu_XYXZS_llBtn)}onDisable(){this._pul_XYXZS_lBtn.off(Laya.Event.CLICK,this,this.onPu_XYXZS_llBtn)}onPu_XYXZS_llBtn(){this._krqV_XYXZS_LoopAd.Sp_XYXZS_rite.x<0?this.pu_XYXZS_ll():this.pu_XYXZS_sh()}pu_XYXZS_ll(){Laya.Tween.to(this._krqV_XYXZS_LoopAd.Sp_XYXZS_rite,{x:0},200,Laya.Ease.linearNone,null,0,!0)}pu_XYXZS_sh(){Laya.Tween.to(this._krqV_XYXZS_LoopAd.Sp_XYXZS_rite,{x:-this._krqV_XYXZS_LoopAd.Sp_XYXZS_rite.width},200,Laya.Ease.linearNone,null,0,!0)}onSha_XYXZS_reAdFail(){this.pu_XYXZS_ll()}}class ae extends U{constructor(){super(...arguments),this._ic_XYXZS_on=null,this._t_XYXZS_ext=null,this._m_XYXZS_ark=null}onAwake(){this._ic_XYXZS_on=this.Sp_XYXZS_rite.getChildByName("Icon"),this._t_XYXZS_ext=this.Sp_XYXZS_rite.getChildByName("Text"),this._t_XYXZS_ext.overflow=Laya.Text.SCROLL,this._t_XYXZS_ext.text="",this._m_XYXZS_ark=this.Sp_XYXZS_rite.getChildByName("Mark"),this._m_XYXZS_ark.visible=!1}onStart(){this.autoScr_XYXZS_ollText(this._t_XYXZS_ext)}onEnable(){this.Sp_XYXZS_rite.on(Laya.Event.CLICK,this,this.onCli_XYXZS_ckAd)}onDisable(){this.Sp_XYXZS_rite.off(Laya.Event.CLICK,this,this.onCli_XYXZS_ckAd)}onCli_XYXZS_ckAd(){this.navigateT_XYXZS_oMiniProgram()}set_XYXZS_Data(e,t){if(this._d_XYXZS_ata=e,null!=this._d_XYXZS_ata){var i=this;this._ic_XYXZS_on.loadImage(this._d_XYXZS_ata.logo,Laya.Handler.create(this,function(){i._ic_XYXZS_on.destroyed||(i._ic_XYXZS_on.width=100,i._ic_XYXZS_on.height=100)}));var a=String(this._d_XYXZS_ata.title);this._t_XYXZS_ext.text=a,this._m_XYXZS_ark.visible=t}}}class oe extends U{constructor(){super(...arguments),this.OnBackB_XYXZS_tnClick=null,this._to_XYXZS_pZone=null,this._ba_XYXZS_ckBtn=null,this._sta_XYXZS_rtList=new Array}onAwake(){this.AdP_XYXZS_osID=E.Histo_XYXZS_ryLocationID,this._to_XYXZS_pZone=this.Sp_XYXZS_rite.getChildByName("TopZone"),this._ba_XYXZS_ckBtn=this._to_XYXZS_pZone.getChildByName("BackBtn"),this._l_XYXZS_ist=this.Sp_XYXZS_rite.getChildByName("List"),this._l_XYXZS_ist.renderHandler=Laya.Handler.create(this,this.onListRender,null,!1),this._l_XYXZS_ist.vScrollBarSkin=""}onStart(){this.re_XYXZS_fres()}onEnable(){this._ba_XYXZS_ckBtn.on(Laya.Event.CLICK,this,this.onBa_XYXZS_ckBtn)}onDisable(){this._ba_XYXZS_ckBtn.off(Laya.Event.CLICK,this,this.onBa_XYXZS_ckBtn)}re_XYXZS_fres(e){let t=this;E.ge_XYXZS_tADVs(this.AdP_XYXZS_osID,e=>{if(null!=e){t._da_XYXZS_tas=e,t._sta_XYXZS_rtList.splice(0);for(let e=0;e<t._da_XYXZS_tas.length;++e)t._sta_XYXZS_rtList.push(!1);let i=Math.floor(.33*t._sta_XYXZS_rtList.length);for(;i>0;){let e=Math.floor(Math.random()*t._sta_XYXZS_rtList.length);0==t._sta_XYXZS_rtList[e]&&(t._sta_XYXZS_rtList[e]=!0,--i)}t._l_XYXZS_ist.array=t._da_XYXZS_tas}})}onListRender(e,t){let i=this._l_XYXZS_ist.array[t],a=this._sta_XYXZS_rtList[t];e.getComponent(ae).set_XYXZS_Data(i,a)}onBa_XYXZS_ckBtn(){this.hide(),null!=this.OnBackB_XYXZS_tnClick&&this.OnBackB_XYXZS_tnClick()}show(){super.show(),this.re_XYXZS_fres()}}class ne extends W{constructor(){super(...arguments),this._top_XYXZS_Zone=null,this._hist_XYXZS_oryBtn=null,this._krqLo_XYXZS_opAd=null,this._bott_XYXZS_omZone=null,this._krqB_XYXZS_anner=null,this._krq_XYXZS_History=null}onAwake(){this._top_XYXZS_Zone=this.Sprite.getChildByName("TopZone"),this._hist_XYXZS_oryBtn=this._top_XYXZS_Zone.getChildByName("HistoryBtn"),v.isIp_XYXZS_honeX()&&(this._top_XYXZS_Zone.top=this._top_XYXZS_Zone.top+75),this._krqLo_XYXZS_opAd=this.Sprite.getChildByName("KRQ_HLoopAd").getComponent(z),this._krqB_XYXZS_anner=this.Sprite.getChildByName("KRQ_Banner").getComponent(q),this._krq_XYXZS_History=this.Sprite.getChildByName("KRQ_History").getComponent(oe);let e=this;this._krq_XYXZS_History.OnBackB_XYXZS_tnClick=(()=>{e._krqB_XYXZS_anner.show()}),Laya.stage.width/Laya.stage.height<.5?(this._krqLo_XYXZS_opAd.Clip.top=100,v.isIp_XYXZS_honeX()&&(this._krqLo_XYXZS_opAd.Clip.top=this._krqLo_XYXZS_opAd.Clip.top+75),this._krqB_XYXZS_anner.Sp_XYXZS_rite.visible=!0):(this._krqLo_XYXZS_opAd.Clip.top=Laya.stage.height-280,this._krqB_XYXZS_anner.Sp_XYXZS_rite.visible=!1)}onEnable(){this._hist_XYXZS_oryBtn.on(Laya.Event.CLICK,this,this.onHis_XYXZS_toryBtn)}onDisable(){this._hist_XYXZS_oryBtn.off(Laya.Event.CLICK,this,this.onHis_XYXZS_toryBtn)}onHis_XYXZS_toryBtn(){this._krq_XYXZS_History.show(),this._krqB_XYXZS_anner.hide()}}class se extends Laya.Script{constructor(){super(),this.TwinkleSpeed=1e3,this.TwinkleMinSize=.95,this.TwinkleMaxSize=1.05,this._ani_XYXZS_Forward=!1,this._fon_XYXZS_tSize=25,this._ori_XYXZS_ginSize=1}onAwake(){this._dis_XYXZS_playSp=this.owner,this._dis_XYXZS_Text=this.owner.getChildByName("TitelText"),this._ori_XYXZS_ginSize=this._dis_XYXZS_playSp.scaleX,null!=this._dis_XYXZS_Text&&(this._dis_XYXZS_Text.text="",this._fon_XYXZS_tSize=this._dis_XYXZS_Text.fontSize)}onEnable(){this._dis_XYXZS_playSp.scale(this._ori_XYXZS_ginSize,this._ori_XYXZS_ginSize)}onDisable(){}onUpdate(){this.disp_XYXZS_layAni()}disp_XYXZS_layAni(){if(this._ani_XYXZS_Forward){e=this._dis_XYXZS_playSp.scaleX+Laya.timer.delta/this.TwinkleSpeed;e=Math.min(e,this.TwinkleMaxSize*this._ori_XYXZS_ginSize),this._dis_XYXZS_playSp.scale(e,e),this._dis_XYXZS_playSp.scaleX>=this.TwinkleMaxSize*this._ori_XYXZS_ginSize&&(this._ani_XYXZS_Forward=!1)}else{var e=this._dis_XYXZS_playSp.scaleX-Laya.timer.delta/this.TwinkleSpeed;e=Math.max(e,this.TwinkleMinSize*this._ori_XYXZS_ginSize),this._dis_XYXZS_playSp.scale(e,e),this._dis_XYXZS_playSp.scaleX<=this.TwinkleMinSize*this._ori_XYXZS_ginSize&&(this._ani_XYXZS_Forward=!0)}}}function isIView_XYXZS_StateListener(e){return null!=e.onViewShow&&"function"==typeof e.onViewShow&&null!=e.onViewHide&&"function"==typeof e.onViewHide}class _e extends Laya.Script{constructor(){super(...arguments),this.onCloseEvent=null,this.onOpenEvent=null,this._viewBase=!0,this._viewDef=e.No_XYXZS_ne,this._data={}}onAwake(){this.owner.autoDestroyAtClosed=!0,this.owner.height=Laya.stage.height}onEnable(){this.addEvent()}onDisable(){this.removeEvent()}onDestroy(){this.removeEvent()}openView(e){this._data=e,this.show(),l.in_XYXZS_stance.disp_XYXZS_atch(i.Game_OnV_XYXZS_iewOpen,{view:this._viewDef}),this.onOpenEvent&&this.onOpenEvent()}addEvent(){}removeEvent(){Laya.timer.clearAll(this)}closeView(){t.inst_XYXZS_ance.clos_XYXZS_eView(this._viewDef)}hide(){this.owner.visible=!1,this.onHide(),v.for_XYXZS_EachChild(this.owner,e=>{let t=e._components;if(t)for(let e=0;e<t.length;e++){const i=t[e];isIView_XYXZS_StateListener(i)&&i.onViewHide(this)}})}show(){this.owner.visible=!0,this.onShow(),v.for_XYXZS_EachChild(this.owner,e=>{let t=e._components;if(t)for(let e=0;e<t.length;e++){const i=t[e];isIView_XYXZS_StateListener(i)&&i.onView__XYXZS_XYXZS_Show(this)}})}viewIsHide(){return this.owner.visible}onHide(){}onShow(){}onClose(){Laya.timer.clearAll(this),Laya.Tween.clearAll(this),l.in_XYXZS_stance.disp_XYXZS_atch(i.Game_OnVi_XYXZS_ewClose,{view:this._viewDef}),this.onCloseEvent&&this.onCloseEvent()}}class re extends _e{constructor(){super(),this._totalCl_XYXZS_ickTimer=22,this._needCl_XYXZS_ickTime=10,this._banne_XYXZS_rClickTime=7}onAwake(){this._cli_XYXZS_ck_Btn=this.owner.getChildByName("Click_Btn"),this._cli_XYXZS_ck_Btn.on(Laya.Event.CLICK,this,this.Butto_XYXZS_nClicked),this._ar_XYXZS_row_Img=this._cli_XYXZS_ck_Btn.getChildByName("Arrow_Img"),this._b_XYXZS_g=this.owner.getChildByName("BG"),this._op_XYXZS_en_Btn=this._b_XYXZS_g.getChildByName("Open_Btn"),this._getP_XYXZS_rize_View=this.owner.getChildByName("GetPrize_View"),this._pri_XYXZS_zeCount_Text=this._getP_XYXZS_rize_View.getChildByName("PrizeCount_Text"),this._con_XYXZS_firm_Btn=this._getP_XYXZS_rize_View.getChildByName("Confirm_Btn"),this._getP_XYXZS_rize_View.visible=!1,this._cli_XYXZS_ckTime_PBar=this._b_XYXZS_g.getChildByName("ClickTime_PBar"),this._clic_XYXZS_kTime_PBar$Bar=this._cli_XYXZS_ckTime_PBar.getChildByName("ClickTime_PBar$Bar"),this._clic_XYXZS_kBarOriginalWidth=this._clic_XYXZS_kTime_PBar$Bar.width,this._ban_XYXZS_nerAd_View=this.owner.getChildByName("BannerAd_View"),this._clic_XYXZS_kTime_PBar$Bar.width=0,this._cli_XYXZS_ckTime=0,this._tota_XYXZS_lClickTime=0}onUpdate(){if(this._arr_XYXZS_owUp?(this._ar_XYXZS_row_Img.top+=Laya.timer.delta/5,this._ar_XYXZS_row_Img.top>-140&&(this._arr_XYXZS_owUp=!1)):(this._ar_XYXZS_row_Img.top-=Laya.timer.delta/5,this._ar_XYXZS_row_Img.top<-180&&(this._arr_XYXZS_owUp=!0)),!this._bann_XYXZS_erClicked){let e=2+this._clic_XYXZS_kTime_PBar$Bar.width/this._clic_XYXZS_kBarOriginalWidth*6;this._clic_XYXZS_kTime_PBar$Bar.width>=e&&(this._clic_XYXZS_kTime_PBar$Bar.width-=e),this._clic_XYXZS_kTime_PBar$Bar.width/this._clic_XYXZS_kBarOriginalWidth+.1<this._cli_XYXZS_ckTime/this._needCl_XYXZS_ickTime&&this._cli_XYXZS_ckTime--}}openView(e){this._comp_XYXZS_eletFunction=e.Complete,this._pri_XYXZS_zeCount=e.PrizeCount,super.openView(e)}OpenPri_XYXZS_zeWindow(){this._b_XYXZS_g.visible=!1;let e=this;this._pri_XYXZS_zeCount_Text.text=this._pri_XYXZS_zeCount.toString(),this._getP_XYXZS_rize_View.visible=!0,this._con_XYXZS_firm_Btn.once(Laya.Event.CLICK,this,function(){e._comp_XYXZS_eletFunction&&e._comp_XYXZS_eletFunction(),e.closeView()})}ShowB_XYXZS_anner(){console.log("AD_WudianBanner_Show"),L.show()}Butto_XYXZS_nClicked(){this._cli_XYXZS_ckTime++,this._tota_XYXZS_lClickTime++,this._cli_XYXZS_ckTime>this._needCl_XYXZS_ickTime&&(this._cli_XYXZS_ckTime=this._needCl_XYXZS_ickTime),this._cli_XYXZS_ckTime>=this._banne_XYXZS_rClickTime?(this._cli_XYXZS_ckTime>=this._needCl_XYXZS_ickTime&&(this._cli_XYXZS_ckTime=this._needCl_XYXZS_ickTime-1),this._bann_XYXZS_erClicked=!0,console.log("误点Banner套路启动"),this.ShowB_XYXZS_anner(),Laya.timer.once(2e3,this,function(){this.BannerClicked()})):this._tota_XYXZS_lClickTime>this._totalCl_XYXZS_ickTimer&&(console.log("用户一直没点到，放他一马",this._tota_XYXZS_lClickTime),this.Banner_XYXZS_Clicked());let e=this._cli_XYXZS_ckTime/this._needCl_XYXZS_ickTime*this._clic_XYXZS_kBarOriginalWidth;this._clic_XYXZS_kTime_PBar$Bar.width=e}Banner_XYXZS_Clicked(){l.in_XYXZS_stance.disp_XYXZS_atch(i.AD_WudianB_XYXZS_anner_Hide),this._bann_XYXZS_erClicked=!0,this._cli_XYXZS_ckTime=this._needCl_XYXZS_ickTime,this._clic_XYXZS_kTime_PBar$Bar.width=this._clic_XYXZS_kBarOriginalWidth,this._cli_XYXZS_ck_Btn.visible=!1,this._op_XYXZS_en_Btn.visible=!0,this.OpenPri_XYXZS_zeWindow()}onDestroy(){super.onDestroy(),L.hide()}}class le extends Laya.Script{constructor(){super(),this.use_XYXZS_Sound=!0}onAwake(){this.owner.on(Laya.Event.MOUSE_DOWN,this,this.onD_XYXZS_own),this.owner.on(Laya.Event.MOUSE_UP,this,this.o_XYXZS_nUp),this.owner.on(Laya.Event.MOUSE_OUT,this,this.o_XYXZS_nUp)}onDisable(){this.owner.offAll(),Laya.Tween.clearAll(this)}onD_XYXZS_own(){Laya.Tween.to(this.owner,{scaleX:.9,scaleY:.9},50),this.use_XYXZS_Sound&&V.ins_XYXZS_tance.play_XYXZS_Sound("anniu")}o_XYXZS_nUp(){Laya.Tween.to(this.owner,{scaleX:1,scaleY:1},50)}}class he extends Laya.Script{onAwake(){this._sk=this.owner,(new Laya.Skeleton).load("subRes/longgu/NewProject.sk",Laya.Handler.create(this,e=>{this._sk.addChild(e),e.play(0,!0)}))}}class Xe extends _e{onAwake(){this._centerZone=this.owner.getChildByName("CenterAd"),this._btns=this.owner.getChildByName("Btns"),this._nextLeverBtn=this._btns.getChildByName("NextLeverBtn"),this._showWin=this.owner.getChildByName("ShowWin"),Laya.timer.once(2e3,this,()=>{this._showWin.visible=!1,this.BtnsShow()})}onStart(){Laya.timer.once(500,this,()=>{G.getIns_XYXZS_tance().CreatNextGameScene()})}onEnable(){super.onEnable(),l.in_XYXZS_stance.reg_XYXZS_OnceEvent(i.InsertVideoEnd,this,this.onInsertVideoEnd)}onInsertVideoEnd(){t.inst_XYXZS_ance.open_XYXZS_View(e.Main_XYXZS_View),this.closeView(),V.ins_XYXZS_tance.play_XYXZS_BGM("BGM"),x.CallNativeFunc("loadNextAd")}addEvent(){this._nextLeverBtn.once(Laya.Event.CLICK,this,this.onNextLeverBtn)}removeEvent(){this._nextLeverBtn.off(Laya.Event.CLICK,this,this.onNextLeverBtn)}onCloseBtn(){}onNextLeverBtn(){var i=Math.random();console.log("随机数值 ==========="+i),(Laya.Browser.onAndroid||Laya.Browser.onIOS)&&i>.4?(x.CallNativeFunc("showInsertVideo"),x.NowVideoType="insertAd",V.ins_XYXZS_tance.stop_XYXZS_BGM()):(t.inst_XYXZS_ance.open_XYXZS_View(e.Main_XYXZS_View),this.closeView())}BtnsShow(){y.Wud_XYXZS_ianFlag?(L.hide(),this.InduceClick()):L.show()}InduceClick(){this._btns.bottom=0,this._btns.mouseEnabled=!1;let e=1e3*m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().btnMo_XYXZS_veTimer,t=1e3*m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().banner_XYXZS_MoveTimer;Laya.timer.once(t,this,this.InduceMethod),Laya.timer.once(e,this,this.MoveUp)}InduceMethod(){L.show()}MoveUp(){console.log("MoveUp"),this._btns.mouseEnabled=!0,this._btns.bottom=284}CenterAdMoveShow(){Laya.Tween.to(this._centerZone,{x:0},1e3,Laya.Ease.circIn,Laya.Handler.create(this,()=>{}),null,!0)}onClose(){super.onClose(),L.hide()}}class Se extends Laya.Script{constructor(){super(),this._x=0,this._y=0}onMouseDown(){this._mouseDown=!0,this._x=Laya.stage.mouseX}onMouseUp(){this._mouseDown=!1}onMouseMove(){if(this._mouseDown){let e=(Laya.stage.mouseX-this._x)/5,t=(Laya.stage.mouseY-this._y)/100;e=Math.min(Math.max(-5,e),5),t=Math.min(Math.max(-.15,t),.15),this._x=Laya.stage.mouseX,this._y=Laya.stage.mouseY,H.Instance.Input(e,t)}}}class ce extends _e{onAwake(){Laya.stage.width,Laya.stage.height}onStart(){H.Instance.StartGame(),V.ins_XYXZS_tance.play_XYXZS_BGM("BGM")}onUpdate(){H.Instance.IsGameOver&&Laya.timer.once(2e3,this,()=>{this.onBtn()})}addEvent(){}removeEvent(){}onBtn(){this.closeView(),t.inst_XYXZS_ance.open_XYXZS_View(e.Game_XYXZS_Over)}}class de extends _e{onAwake(){this._goldText=this.owner.getChildByName("GoldText"),this.SetGoldAmount(321),this.owner.visible=!1}SetGoldAmount(e){this._goldText.text=e.toString()}}class Ze extends Laya.Script{constructor(){super(...arguments),this.TwinkleSpeed=4e3,this.TwinkleMinSize=1.45,this.TwinkleMaxSize=1.55,this._aniForward=!1,this._originSize=1.45,this._badToothArray=new Array(6)}onAwake(){this._displaySp=this.owner,this._originSize=this._displaySp.scaleX,this._badToothArray[o.PaintTooth]=this.owner.getChildByName("GoldTooth"),this._badToothArray[o.CalculusTooth]=this.owner.getChildByName("YaGou"),this._badToothArray[o.PullTooth]=this.owner.getChildByName("BaYa"),this._badToothArray[o.BraceTooth]=this.owner.getChildByName("GuYa"),this._badToothArray[o.FillingTooth]=this.owner.getChildByName("CongYa"),this._badToothArray[o.CutTooth]=this.owner.getChildByName("ZhuangYa"),this._numberBg=this.owner.getChildByName("Number"),this._numberText=this._numberBg.getChildByName("Text"),this._over=this.owner.getChildByName("Over"),this._numberBg.visible=!1,this._displaySp.scale(this._originSize,this._originSize)}onUpdate(){this._numberBg.visible&&this.displayAni()}displayAni(){if(this._aniForward){e=this._displaySp.scaleX+Laya.timer.delta/this.TwinkleSpeed;e=Math.min(e,this.TwinkleMaxSize*this._originSize),this._displaySp.scale(e,e),this._displaySp.scaleX>=this.TwinkleMaxSize*this._originSize&&(this._aniForward=!1)}else{var e=this._displaySp.scaleX-Laya.timer.delta/this.TwinkleSpeed;e=Math.max(e,this.TwinkleMinSize*this._originSize),this._displaySp.scale(e,e),this._displaySp.scaleX<=this.TwinkleMinSize*this._originSize&&(this._aniForward=!0)}}ShowNumber(){this._numberBg.visible=!0}SetToothNumber(e){if(e>0){this._numberBg.visible=!0;var t="X"+e;this._numberText.text=t,Laya.Tween.to(this._numberText,{scaleX:1.3,scaleY:1.3},100),Laya.timer.once(150,this,()=>{Laya.Tween.to(this._numberText,{scaleX:1,scaleY:1},100)})}else{this._numberBg.visible=!1;for(var i=1;i<this._badToothArray.length;i++)this._badToothArray[i].visible=!1;this._over.visible=!0,Laya.Tween.to(this.owner,{scaleX:.6,scaleY:.6},500)}}SetToothImage(e){this._over.visible=!1;for(var t=1;t<this._badToothArray.length;++t)this._badToothArray[t].visible=e==t}}class pe extends Laya.Script{constructor(){super(...arguments),this._totalProgress=0,this._currentProgress=0,this.badTypeArray=new Array}onAwake(){this._progress_Bar=this.owner.getChildByName("Progress").getChildByName("Progress_Bar"),this._badTooth1=this.owner.getChildByName("BadTooth1"),this._badTooth2=this.owner.getChildByName("BadTooth2"),this._badTooth3=this.owner.getChildByName("BadTooth3"),this._badTooth4=this.owner.getChildByName("BadTooth4"),this._Smile=this.owner.getChildByName("Smile"),this._toothShow1=this._badTooth1.getComponent(Ze),this._toothShow2=this._badTooth2.getComponent(Ze),this._toothShow3=this._badTooth3.getComponent(Ze),this._toothShow4=this._badTooth4.getComponent(Ze),this._guider=this.owner.getChildByName("Guider"),(new Laya.Skeleton).load("subRes/guider/NewProject.sk",Laya.Handler.create(this,e=>{this._guider.addChild(e),e.x=250,e.y=100,e.play(0,!0)})),this._guider.on(Laya.Event.MOUSE_OVER,this,()=>{this._guider.visible=!1})}onStart(){for(var e=0;e<H.Instance.ToothStepList.length;e++)this.badTypeArray.push(H.Instance.ToothStepList[e].ToothStepType),this._totalProgress+=H.Instance.ToothStepList[e].ToothCount;this.initBadTooth(this.badTypeArray),this._toothShow1.SetToothNumber(H.Instance.CurrentToothStep.ToothList.length-H.Instance.CurrentToothStep.CleandToothCount),this._badStepNumber=H.Instance.CurrentToothStep.ToothList.length-H.Instance.CurrentToothStep.CleandToothCount,this.ShowBadTooth(1),this._toothShow1.SetToothNumber(this._badStepNumber),this._progress_Bar.width=0}onUpdate(){if(this._badStepNumber!=H.Instance.CurrentToothStep.ToothList.length-H.Instance.CurrentToothStep.CleandToothCount)if(this._badStepNumber=H.Instance.CurrentToothStep.ToothList.length-H.Instance.CurrentToothStep.CleandToothCount,H.Instance.CurrentToothStep.ToothList.length-H.Instance.CurrentToothStep.CleandToothCount==0){switch(R.ibra_XYXZS_teLong(),H.Instance.CurrentToothStepIndex){case 1:this._toothShow1.SetToothNumber(this._badStepNumber),this.ShowBadTooth(2);break;case 2:this._toothShow2.SetToothNumber(this._badStepNumber),this.ShowBadTooth(3);break;case 3:this._toothShow3.SetToothNumber(this._badStepNumber),this.ShowBadTooth(4);break;case 4:this._toothShow4.SetToothNumber(this._badStepNumber)}H.Instance.IsGameOver?this._currentProgress=this._totalProgress:this._guider.visible=!0,this.showSmile()}else{switch(R.vibr_XYXZS_ateShort(),H.Instance.CurrentToothStepIndex){case 0:this._toothShow1.SetToothNumber(this._badStepNumber);break;case 1:this._toothShow2.SetToothNumber(this._badStepNumber);break;case 2:this._toothShow3.SetToothNumber(this._badStepNumber);break;case 3:this._toothShow4.SetToothNumber(this._badStepNumber)}V.ins_XYXZS_tance.play_XYXZS_Sound("单个完成"),this._currentProgress++}this._progress_Bar.width=this._currentProgress/this._totalProgress*490}showSmile(){this._Smile.x=Math.min(Math.max(130,750*Math.random()),500),this._Smile.y=Math.min(Math.max(430,750*Math.random()),850),Laya.Tween.to(this._Smile,{alpha:1},500),Laya.timer.once(1e3,this,()=>{Laya.Tween.to(this._Smile,{alpha:0},500)})}initBadTooth(e){var t=e.length,i=Laya.stage.width/2;1==t?(this._badTooth1.x=i,this._badTooth2.visible=!1,this._badTooth3.visible=!1,this._badTooth4.visible=!1,this._toothShow1.SetToothImage(e[0])):2==t?(this._badTooth1.x=i-75,this._badTooth2.x=i+75,this._badTooth3.visible=!1,this._badTooth4.visible=!1,this._toothShow1.SetToothImage(e[0]),this._toothShow2.SetToothImage(e[1])):3==t?(this._badTooth1.x=i-150,this._badTooth2.x=i,this._badTooth3.x=i+150,this._badTooth4.visible=!1,this._toothShow1.SetToothImage(e[0]),this._toothShow2.SetToothImage(e[1]),this._toothShow3.SetToothImage(e[2])):4==t&&(this._badTooth1.x=i-225,this._badTooth2.x=i-75,this._badTooth3.x=i+75,this._badTooth4.x=i+225,this._toothShow1.SetToothImage(e[0]),this._toothShow2.SetToothImage(e[1]),this._toothShow3.SetToothImage(e[2]),this._toothShow4.SetToothImage(e[3]))}ShowBadTooth(e){switch(e){case 1:Laya.Tween.to(this._badTooth1,{scaleX:1,scaleY:1},200,null,Laya.Handler.create(this,()=>{this._toothShow1.ShowNumber()}),null,!0);break;case 2:Laya.Tween.to(this._badTooth2,{scaleX:1,scaleY:1},200,null,Laya.Handler.create(this,()=>{this._toothShow2.ShowNumber()}),null,!0),this._toothShow2.ShowNumber();break;case 3:Laya.Tween.to(this._badTooth3,{scaleX:1,scaleY:1},200,null,Laya.Handler.create(this,()=>{this._toothShow3.ShowNumber()}),null,!0),this._toothShow3.ShowNumber();break;case 4:Laya.Tween.to(this._badTooth4,{scaleX:1,scaleY:1},200,null,Laya.Handler.create(this,()=>{this._toothShow4.ShowNumber()}),null,!0),this._toothShow4.ShowNumber()}}}class Ye extends Laya.Script{constructor(){super(...arguments),this._x=1}onAwake(){this._leverIndexOne=this.owner.getChildByName("leverIndexOne"),this._leverIndexTwo=this.owner.getChildByName("leverIndexTwo"),this._leverIndexOne.clipX=10,this._leverIndexTwo.clipX=10,this.SetClipLever(G.getIns_XYXZS_tance().Curr_XYXZS_entLevel)}SetClipLever(e){e<10?this._leverIndexOne.index=e:e<100?(this._leverIndexOne.index=e%10,this._leverIndexTwo.index=(e-e%10)/10):(this._leverIndexOne.index=9,this._leverIndexTwo.index=9)}}class ue extends _e{constructor(){super(...arguments),this._proc_XYXZS_essWidth=0}onAwake(){this._b_XYXZS_g=this.owner.getChildByName("Bg"),this._proce_XYXZS_ssBarBg=this._b_XYXZS_g.getChildByName("processBarBg"),this._proce_XYXZS_ssBarBg?(this._proc_XYXZS_essBar=this._proce_XYXZS_ssBarBg.getChildByName("processBar"),this._proc_XYXZS_essWidth=this._proc_XYXZS_essBar.width):(this._proc_XYXZS_essBar=this._b_XYXZS_g.getChildByName("processBar"),this._proc_XYXZS_essWidth=Laya.stage.width)}onEnable(){super.onEnable()}addEvent(){super.addEvent()}removeEvent(){super.removeEvent()}onUpdate(){this._b_XYXZS_g.width=Laya.stage.width,this._b_XYXZS_g.height=Laya.stage.height,this._proce_XYXZS_ssBarBg||(this._proc_XYXZS_essWidth=Laya.stage.width)}setP_XYXZS_rocess(e){e<0&&(e=0),e>1&&(e=1);var t=this._proc_XYXZS_essWidth*e;t<1&&(t=1),this._proc_XYXZS_essBar.width=t}}class ge extends Laya.Script{onAwake(){this._sk=this.owner,(new Laya.Skeleton).load("subRes/longgu/NewProject.sk",Laya.Handler.create(this,e=>{this._sk.addChild(e),e.play(1,!0)}))}}class me extends Laya.Script{constructor(){super(),this.TwinkleSpeed=1e3,this.TwinkleMinSize=.95,this.TwinkleMaxSize=1.05,this._timer=0,this._angle=0,this._orY=0}onAwake(){this._ownerSprite=this.owner,this._orY=this._ownerSprite.y}onEnable(){}onDisable(){}onUpdate(){this.displayAni()}displayAni(){this._timer<1e3?this._timer+=Laya.timer.delta:(this._angle+=Laya.timer.delta/1e3*360,this._ownerSprite.y=this._orY-Math.abs(50*Math.sin(this._angle*Math.PI/180)),this._angle>360&&(this._angle=0,this._timer=0))}}class we extends _e{onAwake(){this._centerZone=this.owner.getChildByName("CenterZone"),this._startGameBrn=this._centerZone.getChildByName("StartGameBtn"),this._topZone=this.owner.getChildByName("TopZone"),V.ins_XYXZS_tance.play_XYXZS_BGM("BGM")}addEvent(){this._startGameBrn.on(Laya.Event.CLICK,this,this.onStartGameBtn)}removeEvent(){this._startGameBrn.off(Laya.Event.CLICK,this,this.onStartGameBtn)}onStartGameBtn(){G.getIns_XYXZS_tance().isLo_XYXZS_adOver&&(t.inst_XYXZS_ance.open_XYXZS_View(e.Game_XYXZS_View),this.closeView())}onCloseBtn(){t.inst_XYXZS_ance.open_XYXZS_View(e.Game_XYXZS_Over)}}!function(e){e[e.mainView=0]="mainView",e[e.gameView=1]="gameView"}(_||(_={}));class ye extends _e{onAwake(){this._continueBtn=this.owner.getChildByName("ContinueGameBtn"),this._continueBtn.visible=!1,Laya.timer.once(2e3,this,()=>{this._continueBtn.visible=!0})}addEvent(){this._continueBtn.once(Laya.Event.CLICK,this,this.onContinueBtn)}onCloseBtn(){}onContinueBtn(){t.inst_XYXZS_ance.open_XYXZS_View(e.Main_XYXZS_View),this.closeView()}}class Le extends _e{constructor(){super()}onAwake(){this._b_XYXZS_g=this.owner.getChildByName("Bg"),this._b_XYXZS_g.x=Laya.stage.width/2-this._b_XYXZS_g.width/2,this._tips_XYXZS_Text=this._b_XYXZS_g.getChildByName("Text")}openView(e){super.openView(e),this.setTi_XYXZS_psMsg(e),Laya.timer.clearAll(this);var t=this;Laya.timer.once(3e3,this,function(){t.closeView()})}setTi_XYXZS_psMsg(e){this._tips_XYXZS_Text.text=e}}class fe extends Laya.Script{constructor(){super(...arguments),this._d_XYXZS_ata=null,this._or_XYXZS_iginW=150,this._or_XYXZS_iginH=150,this._fon_XYXZS_tSize=25}onAwake(){this._disp_XYXZS_laySp=this.owner.getChildByName("Display"),this._or_XYXZS_iginW=this._disp_XYXZS_laySp.width,this._or_XYXZS_iginH=this._disp_XYXZS_laySp.height,this._dis_XYXZS_Text=this.owner.getChildByName("TitelText"),this._dis_XYXZS_Text.text="",this._fon_XYXZS_tSize=this._dis_XYXZS_Text.fontSize}onEnable(){this._disp_XYXZS_laySp.on(Laya.Event.CLICK,this,this.onSp_XYXZS_Click)}onDisable(){this._disp_XYXZS_laySp.off(Laya.Event.CLICK,this,this.onSp_XYXZS_Click)}setData(e){if(e){var t=this;this._disp_XYXZS_laySp.loadImage(e.logo,Laya.Handler.create(this,function(){t._disp_XYXZS_laySp.destroyed||(t._disp_XYXZS_laySp.width=t._or_XYXZS_iginW,t._disp_XYXZS_laySp.height=t._or_XYXZS_iginH)}));var i=String(e.title),a=i.length;a=Math.max(5,a);var o=Math.floor(5/a*this._fon_XYXZS_tSize);this._dis_XYXZS_Text.fontSize=o,this._dis_XYXZS_Text.text=i,this._d_XYXZS_ata=e}}onSp_XYXZS_Click(){var e=this._d_XYXZS_ata;e&&(console.log("跳转游戏： "+e.title),Laya.Browser.onMiniGame?p.navigateT_XYXZS_oMiniProgram(e.appid,e.url,t=>{console.log("跳转成功"),E.reportUs_XYXZS_erClick(e.appid),f.aldSend_XYXZS_ReportAdClickSuccess(e)},t=>{console.log("跳转失败"),l.in_XYXZS_stance.disp_XYXZS_atch(i.AD_OnShare_XYXZS_AdFail),"navigateToMiniProgram:fail cancel"==t.errMsg&&(console.log("用户取消跳转"),f.aldSend_XYXZS_ReportAdClickFail(e))},e=>{console.log("跳转完成")}):Laya.Browser.onQGMiniGame?Y.navigat_XYXZS_eToMiniProgram(e.appid,e.title,e.url,t=>{console.log("跳转成功"),E.reportUs_XYXZS_erClick(e.appid)},e=>{console.log("跳转失败"),l.in_XYXZS_stance.disp_XYXZS_atch(i.AD_OnShare_XYXZS_AdFail)},e=>{console.log("跳转完成")}):Laya.Browser.onQQMiniGame&&w.navigateToMi_XYXZS_niProgram(e.appid,e.url,t=>{console.log("跳转成功"),E.reportUs_XYXZS_erClick(e.appid)},e=>{console.log("跳转失败"),l.in_XYXZS_stance.disp_XYXZS_atch(i.AD_OnShare_XYXZS_AdFail)},e=>{console.log("跳转完成")}))}}class Ce extends Laya.Script{constructor(){super(...arguments),this.AdP_XYXZS_osID=E.LoopA_XYXZS_dLocationID,this._scrol_XYXZS_lForward=!0}onAwake(){this._l_XYXZS_ist=this.owner.getChildByName("List"),this._l_XYXZS_ist.renderHandler=Laya.Handler.create(this,this.onListRender,null,!1),this._l_XYXZS_ist.hScrollBarSkin=""}onEnable(){var e=this;E.ge_XYXZS_tADVs(this.AdP_XYXZS_osID,t=>{if(e.owner&&!e.owner.destroyed)if(t&&t.length>0&&t.length<50){for(var i=[],a=0,o=0;o<50;++o)a>=t.length&&(a=0),i.push(t[a]),++a;var n=t.length;for(o=0;o<i.length;++o){var s=Math.floor(o/n)*n,_=Math.floor(Math.random()*n)+s,r=i[o],l=i[_];i[_]=r,i[o]=l}this._l_XYXZS_ist.array=i}else this._l_XYXZS_ist.array=t})}onDisable(){}onUpdate(){this._scrol_XYXZS_lForward?(this._l_XYXZS_ist.scrollBar.value+=100*Laya.timer.delta/1e3,this._l_XYXZS_ist.scrollBar.value>=this._l_XYXZS_ist.scrollBar.max&&(this._scrol_XYXZS_lForward=!1)):(this._l_XYXZS_ist.scrollBar.value-=100*Laya.timer.delta/1e3,this._l_XYXZS_ist.scrollBar.value<=0&&(this._scrol_XYXZS_lForward=!0))}onListRender(e,t){var i=this._l_XYXZS_ist.array[t];e.getComponent(fe).setData(i)}}class Te extends Laya.Script{constructor(){super(...arguments),this.AdPo_XYXZS_sID=E.Banner_XYXZS_AdLocationID,this._d_XYXZS_ata=null,this._wxB_XYXZS_anner=null}onAwake(){this._d_XYXZS_isplaySp=this.owner.getChildByName("Display"),null==this._d_XYXZS_isplaySp&&(this._d_XYXZS_isplaySp=this.owner)}onEnable(){this._d_XYXZS_isplaySp.on(Laya.Event.CLICK,this,this.onSpC_XYXZS_lick);var e=m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().ba_XYXZS_nner;0==e?this.refresh_XYXZS_BannerDis():1==e&&this.refresh_XYXZS_WXBanner()}onDisable(){this._d_XYXZS_isplaySp.off(Laya.Event.CLICK,this,this.onSpC_XYXZS_lick),this.clear_XYXZS_WXBaner()}refresh_XYXZS_BannerDis(){var e=this;E.ge_XYXZS_tADVs(this.AdPo_XYXZS_sID,t=>{if(t&&t.length>0){var i=t[Math.floor(Math.random()*t.length)];e._d_XYXZS_isplaySp.loadImage(i.logo,Laya.Handler.create(e,function(){e._d_XYXZS_isplaySp.destroyed})),e._d_XYXZS_ata=i}},!1)}onSpC_XYXZS_lick(){var e=this._d_XYXZS_ata;e&&(console.log("跳转游戏： "+e.title),Laya.Browser.onMiniGame?p.navigateT_XYXZS_oMiniProgram(e.appid,e.url,t=>{console.log("跳转成功"),E.reportUs_XYXZS_erClick(e.appid),f.aldSend_XYXZS_ReportAdClickSuccess(e)},t=>{console.log("跳转失败"),l.in_XYXZS_stance.disp_XYXZS_atch(i.AD_OnShare_XYXZS_AdFail),"navigateToMiniProgram:fail cancel"==t.errMsg&&(console.log("用户取消跳转"),f.aldSend_XYXZS_ReportAdClickFail(e))},e=>{console.log("跳转完成")}):Laya.Browser.onQGMiniGame?Y.navigat_XYXZS_eToMiniProgram(e.appid,e.title,e.url,t=>{console.log("跳转成功"),E.reportUs_XYXZS_erClick(e.appid)},e=>{console.log("跳转失败"),l.in_XYXZS_stance.disp_XYXZS_atch(i.AD_OnShare_XYXZS_AdFail)},e=>{console.log("跳转完成")}):Laya.Browser.onQQMiniGame&&w.navigateToMi_XYXZS_niProgram(e.appid,e.url,t=>{console.log("跳转成功"),E.reportUs_XYXZS_erClick(e.appid)},e=>{console.log("跳转失败"),l.in_XYXZS_stance.disp_XYXZS_atch(i.AD_OnShare_XYXZS_AdFail)},e=>{console.log("跳转完成")}))}refresh_XYXZS_WXBanner(){if(Laya.Browser.onMiniGame&&this.owner.visible){this.clear_XYXZS_WXBaner();var e=this,t=Laya.Browser.window.wx.getSystemInfoSync(),i=t.screenWidth,a=t.screenHeight,o=this._d_XYXZS_isplaySp.localToGlobal(new Laya.Point(0,0)),n=o.x/Laya.stage.width*i,s=o.y/Laya.stage.height*a,_=this.WXBann_XYXZS_erWidth?this.WXBann_XYXZS_erWidth/Laya.stage.width*i:i;this._wxB_XYXZS_anner=Laya.Browser.window.wx.createBannerAd({adUnitId:p.bann_XYXZS_erAdUnitId,adIntervals:30,style:{left:n,top:s,width:_}}),e._wxB_XYXZS_anner.onLoad(e=>{console.log("WXBanner广告 加载完成"),console.log(e)}),this._wxB_XYXZS_anner.onError(t=>{console.log("WXBanner广告 加载失败"),console.log(t),e.refresh_XYXZS_BannerDis(),e.clear_XYXZS_WXBaner()}),this._wxB_XYXZS_anner.onResize(t=>{console.log(e._wxB_XYXZS_anner.style.realWidth,e._wxB_XYXZS_anner.style.realHeight)}),e._wxB_XYXZS_anner.show()}}clear_XYXZS_WXBaner(){this._wxB_XYXZS_anner&&this._wxB_XYXZS_anner.destroy(),this._wxB_XYXZS_anner=null}onView__XYXZS_XYXZS_Show(){1==m.getIn_XYXZS_stance().getAppSwi_XYXZS_tchData().ba_XYXZS_nner&&null==this._wxB_XYXZS_anner&&this.refresh_XYXZS_WXBanner()}onViewHide(){this.clear_XYXZS_WXBaner()}}class Be extends Laya.Script{onAwake(){this._owne_XYXZS_rSprite=this.owner,this._aut_XYXZS_oZone=this._owne_XYXZS_rSprite.getChildByName("AutoZone"),this._loop_XYXZS_ADZone=this._owne_XYXZS_rSprite.getChildByName("LoopAD"),this._bann_XYXZS_erADZone=this._owne_XYXZS_rSprite.getChildByName("BannerAD"),this._bann_XYXZS_erAd=this._bann_XYXZS_erADZone.getComponent(Te)}onEnable(){Laya.stage.width/Laya.stage.height<.5?(this._aut_XYXZS_oZone.bottom=this._loop_XYXZS_ADZone.height+this._bann_XYXZS_erADZone.height,this._loop_XYXZS_ADZone.bottom=this._bann_XYXZS_erADZone.height,this._bann_XYXZS_erADZone.visible=!0):(this._aut_XYXZS_oZone.bottom=this._loop_XYXZS_ADZone.height,this._loop_XYXZS_ADZone.bottom=0,this._bann_XYXZS_erADZone.visible=!1)}onDisable(){}onUpdate(){this._bann_XYXZS_erADZone.visible||this._bann_XYXZS_erAd.clear_XYXZS_WXBaner()}}class ve{constructor(){}static init(){var e=Laya.ClassUtils.regClass;e("Mgr/GameMgr.ts",G),e("KRQ/Com/KRQ_LoopAd/KRQ_LoopAdBox.ts",F),e("KRQ/Com/KRQ_LoopAd/KRQ_VLoopAd.ts",Q),e("KRQ/Com/KRQ_Banner.ts",q),e("KRQ/ViewCom/KRQ_Export.ts",K),e("KRQ/Com/KRQ_RockSingleAd.ts",J),e("KRQ/ViewCom/KRQ_Floating.ts",$),e("KRQ/Com/KRQ_RollSingleAd.ts",ee),e("KRQ/ViewCom/KRQ_GameOver.ts",te),e("KRQ/ViewCom/KRQ_SidePull.ts",ie),e("KRQ/Com/KRQ_LoopAd/KRQ_HLoopAd.ts",z),e("KRQ/ViewCom/KRQ_Main.ts",ne),e("KRQ/Com/KRQ_History/KRQ_HistoryBox.ts",ae),e("KRQ/Com/KRQ_History/KRQ_History.ts",oe),e("KRQ/Com/KRQ_SingleAd.ts",j),e("View/TwinkleSprite.ts",se),e("View/ClickGetPrize/ClickGetPrize.ts",re),e("View/ButtonAnim.ts",le),e("Scrips/MyView/GameView/MainView/SkeletonPlayWin.ts",he),e("Scrips/MyView/GameView/GameOverView/GameOverView.ts",Xe),e("Script/GameView/Controller.ts",Se),e("Scrips/MyView/GameView/GameView/GameView.ts",ce),e("Scrips/MyView/GameView/MainView/Gold.ts",de),e("Scrips/MyView/GameView/GameView/BadTooth.ts",Ze),e("Scrips/MyView/GameView/GameView/ToothShow.ts",pe),e("Scrips/MyView/GameView/MainView/ShowLever.ts",Ye),e("View/LoadingView/LoadingView.ts",ue),e("Scrips/MyView/GameView/MainView/SkeletonPlay.ts",ge),e("Scrips/MyView/GameView/MainView/JumpButton.ts",me),e("Scrips/MyView/GameView/MainView/MainView.ts",we),e("Scrips/MyView/GameView/MoreGameView/MoreGameView.ts",ye),e("View/TipsView/TipsView.ts",Le),e("ShareAd/View/LoopAdBox.ts",fe),e("ShareAd/View/HorizontalLoopAdView.ts",Ce),e("ShareAd/View/BannerAdView.ts",Te),e("View/Common/UniversalBottomZone.ts",Be)}}ve.width=750,ve.height=1334,ve.scaleMode="fixedwidth",ve.screenMode="vertical",ve.alignV="middle",ve.alignH="center",ve.startScene="GameMain.scene",ve.sceneRoot="",ve.debug=!1,ve.stat=!1,ve.physicsDebug=!1,ve.exportSceneToJson=!0,ve.init();var Ae,be=Laya.ClassUtils.regClass;!function(e){!function(e){class t extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(t.uiView)}}t.uiView={type:"View",props:{width:750,top:0,right:0,left:0,height:1334,bottom:0},compId:2,child:[{type:"Sprite",props:{y:0,x:0,texture:"切图/loading/loading背景.png"},compId:39},{type:"Box",props:{top:0,right:0,name:"Bg",left:0,bottom:0},compId:6,child:[{type:"Image",props:{x:49,top:150,skin:"切图/loading/logo.png",centerX:0},compId:37},{type:"Image",props:{width:725,skin:"切图/loading/loading下条.png",sizeGrid:"10,23,10,23",name:"processBarBg",height:54,centerX:0,bottom:250},compId:8,child:[{type:"Clip",props:{width:713,skin:"切图/loading/loading上条.png",sizeGrid:"12,28,10,26",pivotY:22,name:"processBar",left:6,height:42,bottom:7},compId:5},{type:"Sprite",props:{y:-53,x:280,texture:"切图/loading/LOADING.png"},compId:38}]}]},{type:"Script",props:{y:0,x:0,runtime:"View/LoadingView/LoadingView.ts"},compId:7}],loadList:["切图/loading/loading背景.png","切图/loading/logo.png","切图/loading/loading下条.png","切图/loading/loading上条.png","切图/loading/LOADING.png"],loadList3D:[]},e.LoadingUI=t,be("ui.View.LoadingUI",t)}(e.View||(e.View={}))}(Ae||(Ae={}));class Me{static tt_XYXZS_Login(e,t){c.onTTMi_XYXZS_niGame&&Laya.Browser.window.tt.login({success:t=>{if(t.code){let i=t.code;e(i),console.log("登陆成功,获取到code : "+i)}}}),Me.init_XYXZS_Record()}static onRewarde_XYXZS_dVideoAdLoad(){console.log("激励视频 广告加载完成")}static onRewar_XYXZS_dedVideoAdError(e){console.log("激励视频 广告加载失败"+e),Me._onRewarded_XYXZS_VideoAdFailed&&Me._onRewarded_XYXZS_VideoAdFailed()}static onRewar_XYXZS_dedVideoAdClose(e){e&&e.isEnded||null==e?(console.log("激励视频 已完整观看"),Me._onRewarded_XYXZS_VideoAdClose&&Me._onRewarded_XYXZS_VideoAdClose(!0)):(console.log("激励视频 未完整观看"),Me._onRewarded_XYXZS_VideoAdClose&&Me._onRewarded_XYXZS_VideoAdClose(!1))}static regRewar_XYXZS_dedVideoAdEvent(e){e.onLoad(Me.onRewarde_XYXZS_dVideoAdLoad),e.onError(Me.onRewar_XYXZS_dedVideoAdError),e.onClose(Me.onRewar_XYXZS_dedVideoAdClose),Me._isRegReward_XYXZS_edVideoAdEvent=!0}static showRewar_XYXZS_dedVideoAd(e,t){if(c.onTTMi_XYXZS_niGame){Me._onRewarded_XYXZS_VideoAdClose=e,Me._onRewarded_XYXZS_VideoAdFailed=t;var i=Laya.Browser.window.tt.createRewardedVideoAd({adUnitId:Me.adUn_XYXZS_itId});Me._isRegReward_XYXZS_edVideoAdEvent||Me.regRewar_XYXZS_dedVideoAdEvent(i),i.load().then(()=>{var e=i.show();e.then(()=>console.log("激励视频 广告显示成功")),e.catch(e=>{i.load().then(()=>i.show()).catch(e=>{console.log("激励视频 广告显示失败"),t&&t()})})}).catch(e=>{console.log("激励视频 广告加载失败"),t&&t()})}else e(!0)}static init_XYXZS_Record(){Me.re_XYXZS_cord=Laya.Browser.window.tt.getGameRecorderManager(),null!=Me.re_XYXZS_cord&&(Me.re_XYXZS_cord.onStart(e=>{console.log("录屏开始"),Me.rec_XYXZS_ordRes=""}),Me.re_XYXZS_cord.onStop(e=>{console.log("录屏结束"),Me.rec_XYXZS_ordRes=e.videoPath}))}static start_XYXZS_Record(e=300){c.onTTMi_XYXZS_niGame&&Me.re_XYXZS_cord.start({duration:e})}static stop_XYXZS_Record(){c.onTTMi_XYXZS_niGame&&Me.re_XYXZS_cord.stop()}static sha_XYXZS_reRecord(e=null){c.onTTMi_XYXZS_niGame&&(""!=Me.rec_XYXZS_ordRes?window.tt.shareAppMessage({channel:"video",extra:{videoPath:Me.rec_XYXZS_ordRes,videoTopics:["快来和我一起玩吧！"]},success(){null!=e&&e(),console.log("分享视频成功")},fail(e){console.log("分享视频失败")}}):console.log("分享视频为空"))}static s_XYXZS_hare(e=null){c.onTTMi_XYXZS_niGame&&window.tt.shareAppMessage({templateId:Me._tem_XYXZS_plateId,success(){null!=e&&e()},fail(){console.log("分享失败")}})}static show_XYXZS_Banner(){}}Me.adUn_XYXZS_itId="",Me.bann_XYXZS_erAdUnitId="",Me.Ins_XYXZS_AdUnitId="",Me._tem_XYXZS_plateId="",Me.rec_XYXZS_ordRes="",Me._b_XYXZS_anner=null,Me._isRegReward_XYXZS_edVideoAdEvent=!1,Me._onRewarded_XYXZS_VideoAdFailed=null,Me._onRewarded_XYXZS_VideoAdClose=null;new class{constructor(){this._loadingUI=null,this._loadingView=null,this._preLoadRes=new Array,window.Laya3D?Laya3D.init(ve.width,ve.height):Laya.init(ve.width,ve.height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=ve.scaleMode,Laya.stage.screenMode=ve.screenMode,Laya.stage.alignV=ve.alignV,Laya.stage.alignH=ve.alignH,Laya.URL.exportSceneToJson=ve.exportSceneToJson,(ve.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),ve.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),ve.stat&&Laya.Stat.show(),Laya.alertGlobalError(!0),1==c.onTTMi_XYXZS_niGame&&(Laya.Browser.onMiniGame=!1),Laya.Browser.onMiniGame||Laya.Browser.onQGMiniGame||Laya.Browser.onQQMiniGame||c.onTTMi_XYXZS_niGame,Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}onConfigLoaded(){Laya.loader.maxLoader=50,this.initLoadingView();var e=[{url:c.ResSe_XYXZS_rver+"/json/appswitch.json",type:Laya.Loader.JSON}],t=this;Laya.loader.load(e,Laya.Handler.create(this,()=>{t.loadRes()})),l.in_XYXZS_stance.reg_XYXZS_OnceEvent(i.App_Close_XYXZS_FirstLoadingView,this,this.closeloadingUI)}initLoadingView(){this._loadingUI=new Ae.View.LoadingUI,Laya.stage.addChild(this._loadingUI),this._loadingUI.width=Laya.stage.width,this._loadingUI.height=Laya.stage.height,this._loadingView=this._loadingUI.getComponent(ue),this._loadingView.setP_XYXZS_rocess(0)}postResToOpenDataContext(e){Laya.Browser.onMiniGame?(console.log("开始透传资源数据到开放域"),Laya.loader.load(["openRes/Rank.atlas"],Laya.Handler.create(null,function(){Laya.MiniAdpter.sendAtlasToOpenDataContext("openRes/Rank.atlas"),console.log("透传资源数据到开放域  完毕！！！"),e&&e()}))):e&&e()}preLoad(){}loadRes(){this.preLoad();var e=this._preLoadRes,t=this;Laya.Browser.onMiniGame?Laya.Browser.window.wx.loadSubpackage({name:"subRes",success:i=>{e.length>0?Laya.loader.load(e,Laya.Handler.create(this,()=>{t.onLoadResComplate()}),Laya.Handler.create(this,e=>{t._loadingView.setP_XYXZS_rocess(e/2+.5)})):t.onLoadResComplate()},fail:e=>{this.loadRes()}}).onProgressUpdate(e=>{t._loadingView.setP_XYXZS_rocess(e/2)}):Laya.Browser.onQGMiniGame?Laya.Browser.window.qg.loadSubpackage({name:"subRes",success:i=>{e.length>0?Laya.loader.load(e,Laya.Handler.create(this,()=>{t.onLoadResComplate()}),Laya.Handler.create(this,e=>{t._loadingView.setP_XYXZS_rocess(e/2+.5)})):t.onLoadResComplate()},fail:e=>{this.loadRes()}}).onProgressUpdate(e=>{var i=e.progress;e.totalBytesWritten,e.totalBytesExpectedToWrite,t._loadingView.setP_XYXZS_rocess(i/2)}):Laya.Browser.onQQMiniGame?Laya.Browser.window.qq.loadSubpackage({name:"subRes",success:i=>{e.length>0?Laya.loader.load(e,Laya.Handler.create(this,()=>{t.onLoadResComplate()}),Laya.Handler.create(this,e=>{t._loadingView.setP_XYXZS_rocess(e/2+.5)})):t.onLoadResComplate()},fail:e=>{this.loadRes()}}).onProgressUpdate(e=>{t._loadingView.setP_XYXZS_rocess(e/2)}):e.length>0?Laya.loader.load(e,Laya.Handler.create(this,()=>{t.onLoadResComplate()}),Laya.Handler.create(this,e=>{t._loadingView.setP_XYXZS_rocess(e)})):t.onLoadResComplate()}onLoadResComplate(){this._loadingView.setP_XYXZS_rocess(1),Laya.Browser.onMiniGame?p.wxL_XYXZS_ogin(function(e){h.c_XYXZS_ode=e,Z.log_XYXZS_in(e=>{1==e.code?(console.log("登陆成功！！！"),h.to_XYXZS_ken=e.data.token,h.o_XYXZS_penId=e.data.openid,f.aldSe_XYXZS_ndOpenId(h.o_XYXZS_penId),Z.getGa_XYXZS_meData(e=>{console.log("获取用户数据成功！！！"),1==e.code?h.init_XYXZS_iUser(e.data):h.init_XYXZS_iUser(null),ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){}))},e=>{console.log("获取用户数据失败！！！"),h.to_XYXZS_ken="",h.o_XYXZS_penId="",h.init_XYXZS_iUser(null),ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){}))})):(console.log("登陆失败！！！"+e),h.init_XYXZS_iUser(null),ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){})))},e=>{console.log("登陆失败！！！"+e),h.init_XYXZS_iUser(null),ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){}))})},null):Laya.Browser.onQGMiniGame?(Y.initA_XYXZS_dService(()=>{},()=>{},()=>{}),Y.Lo_XYXZS_gin(function(e){h.c_XYXZS_ode=e,Z.log_XYXZS_in(e=>{1==e.code?(console.log("登陆成功！！！"),h.to_XYXZS_ken=e.data.token,h.o_XYXZS_penId=e.data.openid,Z.getGa_XYXZS_meData(e=>{if(console.log("获取用户数据成功！！！"),1==e.code){for(var t in h.init_XYXZS_iUser(e.data),console.log("获取用户数据--------------------Start"),e.data)console.log(t,e.data[t]);console.log("获取用户数据--------------------End")}else h.init_XYXZS_iUser(null);ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){}))},e=>{console.log("获取用户数据失败！！！"),h.to_XYXZS_ken="",h.o_XYXZS_penId="",h.init_XYXZS_iUser(null),ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){}))})):(console.log("登陆失败！！！",e),h.init_XYXZS_iUser(null),ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){})))},e=>{console.log("登陆失败！！！",e),h.init_XYXZS_iUser(null),ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){}))})},null)):Laya.Browser.onQQMiniGame?w.Lo_XYXZS_gin(function(e){h.c_XYXZS_ode=e,Z.log_XYXZS_in(e=>{1==e.code?(console.log("登陆成功！！！"),h.to_XYXZS_ken=e.data.token,h.o_XYXZS_penId=e.data.openid,f.aldSe_XYXZS_ndOpenId(h.o_XYXZS_penId),Z.getGa_XYXZS_meData(e=>{console.log("获取用户数据成功！！！"),1==e.code?h.init_XYXZS_iUser(e.data):h.init_XYXZS_iUser(null),ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){}))},e=>{console.log("获取用户数据失败！！！"),h.to_XYXZS_ken="",h.o_XYXZS_penId="",h.init_XYXZS_iUser(null),ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){}))})):(console.log("登陆失败！！！"+e),h.init_XYXZS_iUser(null),ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){})))},e=>{console.log("登陆失败！！！"+e),h.init_XYXZS_iUser(null),ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){}))})},null):c.onTTMi_XYXZS_niGame?Me.tt_XYXZS_Login(function(e){h.c_XYXZS_ode=e,Z.log_XYXZS_in(e=>{1==e.code?(console.log("登陆成功！！！"),h.to_XYXZS_ken=e.data.token,h.o_XYXZS_penId=e.data.openid,Z.getGa_XYXZS_meData(e=>{console.log("获取用户数据成功！！！"),1==e.code?h.init_XYXZS_iUser(e.data):h.init_XYXZS_iUser(null),ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){}))},e=>{console.log("获取用户数据失败！！！"),h.to_XYXZS_ken="",h.o_XYXZS_penId="",h.init_XYXZS_iUser(null),ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){}))})):(console.log("登陆失败！！！"+e),h.init_XYXZS_iUser(null),ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){})))},e=>{console.log("登陆失败！！！"+e),h.init_XYXZS_iUser(null),ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){}))})},null):(h.testIn_XYXZS_itUser(),ve.startScene&&Laya.Scene.open(ve.startScene,!1,Laya.Handler.create(this,function(){})))}closeloadingUI(){this._loadingUI&&!this._loadingUI.destroyed&&this._loadingUI.destroy()}},Laya.Browser.window&&(Laya.Browser.window.NativeCallback=x)}();