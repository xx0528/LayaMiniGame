!function(){"use strict";var e,a,t,o=Laya.EventDispatcher;class n extends o{constructor(){super()}dispatch(e,a){n.event_tippy_Dispatcher.event(e,a)}regEvemt(e,a,t,o){n.event_tippy_Dispatcher.on(e,a,t,null==o?null:[o])}regOnceEvent(e,a,t,o){n.event_tippy_Dispatcher.once(e,a,t,null==o?null:[o])}removeEvent(e,a,t,o){n.event_tippy_Dispatcher.off(e,a,t)}}n.event_tippy_Dispatcher=new o,n.ins_tippy_tance=new n,function(e){e[e.None=0]="None",e[e.App_CloseFirstLoadingView=500]="App_CloseFirstLoadingView",e[e.AD__tippy_OnShareAdFail=501]="AD__tippy_OnShareAdFail",e[e.Game__tippy_OnViewOpen=600]="Game__tippy_OnViewOpen",e[e.Game__tippy_OnViewClose=601]="Game__tippy_OnViewClose",e[e.Game__tippy_OnUserMoneyChange=701]="Game__tippy_OnUserMoneyChange",e[e.Game__tippy_OnUserCrystalChange=702]="Game__tippy_OnUserCrystalChange",e[e.Game__tippy_OnLevelStart=1e3]="Game__tippy_OnLevelStart",e[e.Game__tippy_OnLevelComplate=1001]="Game__tippy_OnLevelComplate",e[e.AD_WudianBanner_LoadComplete=2217]="AD_WudianBanner_LoadComplete",e[e.AD_WudianBanner_Show=2218]="AD_WudianBanner_Show",e[e.AD_WudianBanner_Hide=2219]="AD_WudianBanner_Hide",e[e.AD_WudianBanner_PreLoad=2220]="AD_WudianBanner_PreLoad",e[e.RewardVideoSuccess=20010]="RewardVideoSuccess",e[e.RewardVideoFail=20011]="RewardVideoFail",e[e.InsertVideoEnd=20012]="InsertVideoEnd"}(e||(e={}));class i extends Laya.Script{static get isLogin(){return""!=i.co_tippy_de||""!=i.tok_tippy_en}static getSave_tippy_Data(){return JSON.stringify(i._game_tippy_Data)}static testInit_tippy_User(){var e=Laya.LocalStorage.getItem("Game_Data");console.log("读取存储数据 str----"+e);var a=JSON.parse(e);if(null==a)return i._game_tippy_Data.levelNum=1,i._game_tippy_Data.moneyNum=0,void(i._game_tippy_Data.crystalNum=0);i._game_tippy_Data.levelNum=a.levelNum,i._game_tippy_Data.moneyNum=a.moneyNum,i._game_tippy_Data.crystalNum=a.crystalNum}static initi_tippy_User(e){e&&0!=e&&(i._game_tippy_Data.levelNum=e.levelNum,i._game_tippy_Data.moneyNum=e.moneyNum,i._game_tippy_Data.crystalNum=e.crystalNum)}static setLeve_tippy_Num(e){i._game_tippy_Data.levelNum=e}static getLeve_tippy_Num(){return i._game_tippy_Data.levelNum}static add_tippy_Money(a){a=Math.ceil(a);var t=i._game_tippy_Data.moneyNum;i._game_tippy_Data.moneyNum+=a,n.ins_tippy_tance.dispatch(e.Game__tippy_OnUserMoneyChange,{curr:i._game_tippy_Data.moneyNum,last:t})}static sub_tippy_Money(a){a=Math.ceil(a);var t=i._game_tippy_Data.moneyNum;i._game_tippy_Data.moneyNum-=a,i._game_tippy_Data.moneyNum<0&&(i._game_tippy_Data.moneyNum=0),n.ins_tippy_tance.dispatch(e.Game__tippy_OnUserMoneyChange,{curr:i._game_tippy_Data.moneyNum,last:t})}static get_tippy_Money(){return i._game_tippy_Data.moneyNum}static add_tippy_Crystal(a){a=Math.ceil(a);var t=i._game_tippy_Data.crystalNum;i._game_tippy_Data.crystalNum+=a,n.ins_tippy_tance.dispatch(e.Game__tippy_OnUserCrystalChange,{curr:i._game_tippy_Data.crystalNum,last:t})}static sub_tippy_Crystal(a){a=Math.ceil(a);var t=i._game_tippy_Data.crystalNum;i._game_tippy_Data.crystalNum-=a,i._game_tippy_Data.crystalNum<0&&(i._game_tippy_Data.crystalNum=0),n.ins_tippy_tance.dispatch(e.Game__tippy_OnUserCrystalChange,{curr:i._game_tippy_Data.crystalNum,last:t})}static get_tippy_Crystal(){return i._game_tippy_Data.crystalNum}}i.co_tippy_de="",i.open_tippy_Id="",i.tok_tippy_en=null,i.nick_tippy_Name="",i.gen_tippy_der=0,i.is_tippy_Login=!1,i._game_tippy_Data=new class{constructor(){this.levelNum=1,this.moneyNum=0,this.crystalNum=0}};class s extends Laya.Script3D{constructor(){super(),this.intType=1e3,this.numType=1e3,this.strType="hello laya",this.boolType=!0,this.swichss=!1,this.moverotate=!1,this.lastpos={x:null,y:null}}onAwake(){console.log("设置相机移动"),this.cam=this.owner,this.initcam()}initcam(){this.Mainscenesp=H.mainsp,this.player=this.Mainscenesp.player;let e=this.player.transform.localPosition;this.cam.transform.localPosition=new Laya.Vector3(e.x-11,e.y+7,e.z)}onEnable(){}onDisable(){}setcamaermove(){Laya.stage.on(Laya.Event.KEY_DOWN,this,e=>{65==e.keyCode?this.cam.transform.translate(new Laya.Vector3(-.2,0,0),!0):68==e.keyCode?this.cam.transform.translate(new Laya.Vector3(.2,0,0),!0):87==e.keyCode?this.cam.transform.translate(new Laya.Vector3(0,0,-.2),!0):83==e.keyCode?this.cam.transform.translate(new Laya.Vector3(0,0,.2),!0):66==e.keyCode&&(this.swichss=!this.swichss)}),Laya.stage.on(Laya.Event.MOUSE_DOWN,this,e=>{this.moverotate=!0}),Laya.stage.on(Laya.Event.MOUSE_UP,this,()=>{this.moverotate=!1,this.lastpos.x=null,this.lastpos.y=null}),Laya.stage.on(Laya.Event.MOUSE_MOVE,this,e=>{if(this.moverotate)return null==this.lastpos.x?(this.lastpos.x=e.stageX,void(this.lastpos.y=e.stageY)):void this.countrota(e.stageX,e.stageY)})}countrota(e,a){if(!this.swichss)return;let t=(e-this.lastpos.x)/5,o=(a-this.lastpos.y)/5;this.cam.transform.rotate(new Laya.Vector3(-o,0,0),!0,!1),this.cam.transform.rotate(new Laya.Vector3(0,-t,0),!1,!1),this.lastpos.x=e,this.lastpos.y=a}onLateUpdate(){if(this.Mainscenesp.iswin)this.movetoplayer();else{let e=this.player.transform.localPosition;this.cam.transform.localPosition=new Laya.Vector3(e.x-11,e.y+7,e.z)}}movetoplayer(){let e=this.player.transform.localPosition;this.cam.transform.localPosition.x>=e.x-5||(this.cam.transform.localPositionX+=.1),this.cam.transform.localPosition.y<=e.y+4||(this.cam.transform.localPositionY-=.05)}onUpdate(){}}class r extends Laya.Script3D{constructor(){super(),this.intType=1e3,this.numType=1e3,this.strType="hello laya",this.boolType=!0}static getabpos(e,a){let t=e.transform,o=a.transform;return Math.pow(Math.pow(t.localPositionX-o.localPositionX,2)+Math.pow(t.localPositionZ-o.localPositionZ,2),.5)}static rotateto(e,a,t,o,n){e&&Laya.timer.clearAll(this);let i={x:0,y:0,z:0};i.x=a.x-t.transform.localRotationEulerX,i.y=a.y-t.transform.localRotationEulerY,i.z=a.z-t.transform.localRotationEulerZ;let s=0,r=o/n,l=i.x/r,c=i.y/r,h=i.z/r,d=()=>{s+=1,t.transform.localRotationEulerX+=l,t.transform.localRotationEulerY+=c,t.transform.localRotationEulerZ+=h,s>=r&&(t.transform.localRotationEulerX=a.x,t.transform.localRotationEulerY=a.y,t.transform.localRotationEulerZ=a.z,Laya.timer.clear(this,d))};Laya.timer.loop(n,this,d)}static fadeshow(e,a,t,o){let n,i=t/30,s=0,r=a.meshRenderer.material.albedoColor;a.active=!0,n=1==e?(1-r.w)/i:-r.w/i,a.meshRenderer.material.albedoColor=r;let l=()=>{s+=1,r.w+=n,a.meshRenderer.material.albedoColor=r,s>=i&&(o&&o(),Laya.timer.clear(this,l))};Laya.timer.loop(30,this,l)}}class l{constructor(){this._enabled=!0}get Enabled(){return this._enabled}set Enabled(e){e||this.stop_tippy_BGM(),this._enabled=e}get_tippy_SoundUrl(e){return l.soundResPath+e+".ogg"}play_tippy_Sound(e){if(this._enabled){var a=this.get_tippy_SoundUrl(e);if(Laya.Browser.onMiniGame){var t=Laya.Pool.getItem(e);null==t&&((t=wx.createInnerAudioContext()).src=l.soundResPath+e+".ogg",t.onEnded(()=>{Laya.Pool.recover(e,t),t.offEnded()})),t.play()}else Laya.SoundManager.playSound(a,1)}}play_tippy_BGM(e){if(!this._enabled)return;let a=this.get_tippy_SoundUrl(e);Laya.Browser.onMiniGame?(this.bg_tippy_m||(this.bg_tippy_m=wx.createInnerAudioContext()),this.bg_tippy_m.stop(),this.bg_tippy_m.src=a,this.bg_tippy_m.loop=!0,this.bg_tippy_m.play()):Laya.SoundManager.playMusic(a,0)}stop_tippy_BGM(){Laya.Browser.onMiniGame?this.bg_tippy_m&&this.bg_tippy_m.stop():Laya.SoundManager.stopMusic()}}l.soundResPath="subRes/sound/",l.instance=new l;class c{static onVideoFail(){console.debug("onVideoFail --------- ------------ "),n.ins_tippy_tance.dispatch(e.RewardVideoFail),l.instance.play_tippy_BGM("bgmusic")}static onVideoSuccess(a){console.debug("onVideoSuccess    --------- ------------ "),n.ins_tippy_tance.dispatch(e.RewardVideoSuccess,a),l.instance.play_tippy_BGM("bgmusic")}static onInsertVideoEnd(){console.debug("onInsertVideoEnd    --------- ------------ "),n.ins_tippy_tance.dispatch(e.InsertVideoEnd)}static CallNativeFunc(e){window.conch&&(Laya.Browser.onAndroid?window.PlatformClass.createClass("demo.JSBridge").call(e):Laya.Browser.onIOS)}}c.NowVideoType="",c.conchIOS="Conch-ios",c.conchAndroid="Conch-android",c.os="";class h{static vibrate_tippy_Short(){h.isEnable&&(Laya.Browser.onMiniGame?Laya.Browser.window.wx.vibrateShort():Laya.Browser.onQGMiniGame?Laya.Browser.window.qg.vibrateShort():Laya.Browser.onQQMiniGame?Laya.Browser.window.qq.vibrateShort():c.CallNativeFunc("vibrateShort"))}static ibrate_tippy_Long(){h.isEnable&&(Laya.Browser.onMiniGame?Laya.Browser.window.wx.vibrateLong():Laya.Browser.onQGMiniGame?Laya.Browser.window.qg.vibrateLong():Laya.Browser.onQQMiniGame?Laya.Browser.window.qq.vibrateLong():c.CallNativeFunc("vibrateLong"))}static vib_tippy_rate(e){if(h.isEnable)if(Laya.Browser.onMiniGame){let a=e/15,t=0,o={count:a,index:t};Laya.timer.loop(16,o,function(){h.vibrate_tippy_Short(),++t>a&&Laya.timer.clearAll(o)})}else if(Laya.Browser.onQGMiniGame){let a=e/20,t=0,o={count:a,index:t};Laya.timer.loop(21,o,function(){h.vibrate_tippy_Short(),++t>a&&Laya.timer.clearAll(o)})}else if(Laya.Browser.onQQMiniGame){let a=e/20,t=0,o={count:a,index:t};Laya.timer.loop(21,o,function(){h.vibrate_tippy_Short(),++t>a&&Laya.timer.clearAll(o)})}else if(Laya.Browser.onAndroid||Laya.Browser.onIOS){let a=e/20,t=0,o={count:a,index:t};Laya.timer.loop(21,o,function(){h.vibrate_tippy_Short(),++t>a&&Laya.timer.clearAll(o)})}}}h.isEnable=!0;class d extends Laya.Script3D{constructor(){super(),this.intType=1e3,this.numType=1e3,this.strType="hello laya",this.boolType=!0,this.isrotate=!1,this.hitcotime=0,this.playerinfo={x:0,y:.75,z:0,rx:0,ry:-90,rz:0},this.looptime=0,this.havein=!1,this.movespeed=.03,this.basespeed=.015,this.nowstay=1,this.laststay="up",this.readtorota=!1,this.isleft=!1,this.hitResult=new Laya.HitResult,this.hitResult2=new Laya.HitResult,this.hitResult3=new Laya.HitResult,this.hitResult4=new Laya.HitResult,this.checkresult=new Laya.HitResult,this.checkresult2=new Laya.HitResult}onAwake(){this.Mainscenesp=H.mainsp;let e=this.owner.getComponent(Laya.Rigidbody3D);e.isTrigger=!1,this.nodes=this.owner,e.isKinematic=!0,e.gravity=new Laya.Vector3(0,-10,0),e.angularFactor=new Laya.Vector3(0,0,0),this.rigid=e,console.log(this.nodes.transform.localPositionY,"a啊啊啊"),console.log(this.nodes.transform.localRotationEulerY),this.Mainscenesp.playerinitinfo={posx:0,posy:.75,posz:0,rotx:0,roty:-90,rotz:0},console.log(this.owner.getChildAt(0),"动画信息"),this.anmantor=this.owner.getChildAt(0).getChildAt(0).getComponent(Laya.Animator),this.anmantor.play("ANIM_Char_Idlewalk"),this.nodes.getChildAt(0).getChildAt(0).getChildAt(0).skinnedMeshRenderer.castShadow=!0}initplace(e){this.nodes.getChildAt(0).getChildAt(0).getChildAt(0).skinnedMeshRenderer.castShadow=!0,this.rigid.isKinematic=!1,this.loopstant(),e?(this.nodes.transform.localPositionX=this.playerinfo.x,this.nodes.transform.localPositionY=this.playerinfo.y,this.nodes.transform.localPositionZ=this.playerinfo.z,this.nodes.transform.localRotationEulerX=this.playerinfo.rx,this.nodes.transform.localRotationEulerY=this.playerinfo.ry,this.nodes.transform.localRotationEulerZ=this.playerinfo.rz):(this.nodes.transform.localPositionX=this.Mainscenesp.playerinitinfo.posx,this.nodes.transform.localPositionY=this.Mainscenesp.playerinitinfo.posy,this.nodes.transform.localPositionZ=this.Mainscenesp.playerinitinfo.posz,this.nodes.transform.localRotationEulerX=this.Mainscenesp.playerinitinfo.rotx,this.nodes.transform.localRotationEulerY=this.Mainscenesp.playerinitinfo.roty,this.nodes.transform.localRotationEulerZ=this.Mainscenesp.playerinitinfo.rotz)}loopstant(){if(this.Mainscenesp.havestart)return;if(this.havein)return;let e;this.havein=!0,this.anmantor.speed=.7,this.looptime++,this.looptime<=5?(this.anmantor.crossFade("ANIM_Char_Stant",.3,0),e=this.anmantor.getCurrentAnimatorPlayState(),setTimeout(()=>{this.loopstant()},600/this.anmantor.speed)):(this.looptime=0,this.anmantor.crossFade("ANIM_Char_Stant2",.3,0),e=this.anmantor.getCurrentAnimatorPlayState(),setTimeout(()=>{this.loopstant()},700/this.anmantor.speed))}saveinfo(e,a){this.playerinfo.x=e.x,this.playerinfo.y=e.y,this.playerinfo.z=e.z,this.playerinfo.rx=a.x,this.playerinfo.ry=a.y,this.playerinfo.rz=a.z}onCollisionEnter(e){e.other.haveuse||(e.other.haveuse=!0,"ci"==e.other.owner.name&&(console.log("踩到刺了"),this.anmantor.crossFade("ANIM_Char_Idlewalk",.4,0),this.Mainscenesp.fuhuochance>=1?this.Mainscenesp.pausegame():this.Mainscenesp.losegame()))}onCollisionExit(e){}onTriggerEnter(e){console.log("触发开始");let a=e.owner.parent;if(a.haveactive)return;this.Mainscenesp.playsound("getd.ogg"),a.haveactive=!0;let t=e.owner.parent.getChildAt(1);t.active=!0,h.vibrate_tippy_Short(),e.owner.active=!1,setTimeout(()=>{t.active=!1},1600),this.Mainscenesp.gameuicontrosp.addzuanshi()}onEnable(){}onDisable(){}onUpdate(){this.move(),this.raycast()}onLateUpdate(){}onStart(){this.nodes.transform.localPositionY=.75}move(){if(!this.Mainscenesp.havestart)return;if(this.readtorota){return this.nodes.transform.translate(new Laya.Vector3(0,0,1.5*this.basespeed)),r.getabpos(this.nodes,this.Mainscenesp.conbox.parent)<=2.1?(this.readtorota=!1,void this.rotate(this.isleft)):void 0}if(this.isrotate)return;this.getstay();let e=1;0==this.nowstay?("up"!=this.laststay&&(this.laststay="up",this.animachange()),this.nodes.transform.translate(new Laya.Vector3(0,0,this.basespeed))):this.nowstay==this.facedata.left?"left"!=this.laststay&&(this.laststay="left",this.animachange()):this.nowstay==this.facedata.right?"right"!=this.laststay&&(this.laststay="right",this.animachange()):this.nowstay==this.facedata.down?("down"!=this.laststay&&(this.laststay="down",this.animachange()),e=.4):this.nowstay==this.facedata.up&&("upg"!=this.laststay&&(this.laststay="upg",this.animachange()),this.nodes.transform.translate(new Laya.Vector3(0,0,this.basespeed/2))),this.nodes.transform.localPositionX+=this.movespeed*-this.Mainscenesp.bili.y*e,this.nodes.transform.localPositionZ+=this.movespeed*this.Mainscenesp.bili.x*e,this.changespeed()}getstay(){this.Mainscenesp.bili.y>0?this.Mainscenesp.bili.y+.2>Math.abs(this.Mainscenesp.bili.x)?this.nowstay=1:this.Mainscenesp.bili.x>0?this.nowstay=3:this.Mainscenesp.bili.x<0&&(this.nowstay=2):this.Mainscenesp.bili.y<0?Math.abs(this.Mainscenesp.bili.y)+.2>Math.abs(this.Mainscenesp.bili.x)?this.nowstay=4:this.Mainscenesp.bili.x>0?this.nowstay=3:this.Mainscenesp.bili.x<0&&(this.nowstay=2):0==this.Mainscenesp.bili.y&&(0==this.Mainscenesp.bili.x?this.nowstay=0:this.Mainscenesp.bili.x>0?this.nowstay=3:this.Mainscenesp.bili.x<0&&(this.nowstay=2))}rotateface(){let e={up:4,down:1,left:2,right:3,movez:3};console.log(this.nodes.transform.localRotationEulerY),this.saveinfo(this.nodes.transform.localPosition,this.nodes.transform.localRotationEuler);let a=this.nodes.transform.localRotationEulerY/90;1==(a=Number(a.toFixed(0)))||-3==a?e={up:4,down:1,left:2,right:3,movez:3}:2==a||-2==a?e={up:2,down:3,left:1,right:4,movez:2}:3==a||-1==a?e={up:1,down:4,left:3,right:2,movez:1}:4!=a&&0!=a||(e={up:3,down:2,left:4,right:1,movez:4}),this.facedata=e}changespeed(){let e=1.8*Math.pow(Math.pow(this.Mainscenesp.bili.x,2)+Math.pow(this.Mainscenesp.bili.y,2),.5);e<1.3&&(e=1.3),this.anmantor.speed=e}animachange(){"down"==this.laststay?this.anmantor.crossFade("ANIM_Char_FallBack",.5,0):"right"==this.laststay?this.anmantor.crossFade("ANIM_Char_StrafeRight",.5,0):"left"==this.laststay?this.anmantor.crossFade("ANIM_Char_StrafeLeft",.5,0):"up"==this.laststay?this.anmantor.crossFade("ANIM_Char_Idlewalk",.5,0):"upg"==this.laststay&&this.anmantor.crossFade("ANIM_Char_MoveForward",.5,0)}rotate(e){let a,t,o,n,i=this.Mainscenesp.conbox.parent;console.log(" this.conbox Y "+i.transform.localRotationEulerY),this.isrotate=!0,1==this.facedata.movez?(a=i.transform.localPositionZ,a+=t=this.nodes.transform.localPositionZ,a-=t=a-t,o=2,n=2+this.nodes.transform.localPositionX-i.transform.localPositionX):2==this.facedata.movez?(a=this.nodes.transform.localPositionX,a+=t=i.transform.localPositionX,a-=t=a-t,o=2,n=2+this.nodes.transform.localPositionZ-i.transform.localPositionZ):3==this.facedata.movez?(a=this.nodes.transform.localPositionZ,a+=t=i.transform.localPositionZ,a-=t=a-t,o=2,n=2+i.transform.localPositionX-this.nodes.transform.localPositionX):4==this.facedata.movez&&(a=i.transform.localPositionX,a+=t=this.nodes.transform.localPositionX,a-=t=a-t,o=2,n=2+i.transform.localPositionZ-this.nodes.transform.localPositionZ);let s=4-n,l=o-(a-t)-s;l<0&&(l=0);let c=r.getabpos(this.nodes,i);if(console.log(this.facedata.movez,a,t,o,s,c,l),c>2.1)return console.log("没到"),void(this.readtorota=!0);"up"!=this.laststay&&(this.laststay="up",this.animachange()),l>=n&&(l=n-.3,console.log("超了"));let h=2*Math.PI*l*.25;this.rotateby(2e3,20,90,h,!0)}rotateby(e,a,t,o,n,i){let s=0,r=e/a,l=t/r;this.Mainscenesp.playsound("rotate.ogg"),n&&(l=-l);let c=o/r,h=this.Mainscenesp.conbox.getChildAt(0).transform,d=()=>{if(s+=1,this.nodes.transform.localRotationEulerY-=l,this.nodes.transform.translate(new Laya.Vector3(0,0,c)),h.localRotationEulerY-=l,s>=r){Laya.timer.clear(this,d),this.isrotate=!1;let e=Number((this.nodes.transform.localRotationEulerY/90).toFixed(0));this.nodes.transform.localRotationEulerY=90*e,h.localRotationEulerY=Number(h.localRotationEulerY.toFixed(0)),h.localRotationEulerY=90,this.rotateface(),this.Mainscenesp.readtomove&&this.Mainscenesp.countrota(1,23,3,4,!0)}};Laya.timer.loop(a,this,d)}raycast(){let e=.53,a=new Laya.Vector3(this.nodes.transform.position.x-.15,this.nodes.transform.position.y,this.nodes.transform.position.z-.15);this.Mainscenesp.gamescene.physicsSimulation.raycastFromTo(this.nodes.transform.position,new Laya.Vector3(this.nodes.transform.position.x-.15,this.nodes.transform.position.y-e,this.nodes.transform.position.z+.15),this.hitResult),this.Mainscenesp.gamescene.physicsSimulation.raycastFromTo(a,new Laya.Vector3(this.nodes.transform.position.x-.15,this.nodes.transform.position.y-3.5,this.nodes.transform.position.z-.15),this.checkresult);let t=1,o=a=>{if(a.succeeded){let e=a.collider.owner.parent;return"MESH"==this.cultname(a.collider.owner.name)?e.haveactive||(this.rotateface(),e.haveactive=!0,this.hitcube(),this.newbolk(a.collider,!0)):"Cube"==this.cultname(a.collider.owner.name,"02")||"fangkuai"==this.cultname(a.collider.owner.name,"0")?e.haveactive||(this.rotateface(),e.haveactive=!0,this.hitcube(),this.newbolk(a.collider)):"zhuanpan"==this.cultname(a.collider.owner.name)?e.haveactive||(e.haveactive=!0,this.hitcube(),this.Mainscenesp.cubeback(this.Mainscenesp.conbox.parent),this.changecolroand(a.collider),this.isleft=!1,this.rotate()):"rotatecubeleft"==this.cultname(a.collider.owner.name)?e.haveactive||(e.haveactive=!0,this.Mainscenesp.cubeback(this.Mainscenesp.conbox.parent),this.changecolroand(a.collider),console.log("左边的"),this.isleft=!0,this.rotate(!0)):"zhongdian"==this.cultname(a.collider.owner.name)&&(e.haveactive||(this.hitcube(),a.collider.owner.getChildAt(0).active=!0,e.haveactive=!0,this.newbolk(a.collider,!1,!0),this.anmantor.crossFade("ANIM_Char_Win",.4,0),this.Mainscenesp.win())),!0}if(2==(t+=1)?this.Mainscenesp.gamescene.physicsSimulation.raycastFromTo(this.nodes.transform.position,new Laya.Vector3(this.nodes.transform.position.x-.15,this.nodes.transform.position.y-e,this.nodes.transform.position.z-.15),this.hitResult2):3==t?this.Mainscenesp.gamescene.physicsSimulation.raycastFromTo(this.nodes.transform.position,new Laya.Vector3(this.nodes.transform.position.x+.15,this.nodes.transform.position.y-e,this.nodes.transform.position.z-.15),this.hitResult3):4==t&&this.Mainscenesp.gamescene.physicsSimulation.raycastFromTo(this.nodes.transform.position,new Laya.Vector3(this.nodes.transform.position.x+.15,this.nodes.transform.position.y-e,this.nodes.transform.position.z+.15),this.hitResult4),!(t<=4))return!1;o(this["hitResult"+t])},n=e=>{"Cube"!=this.cultname(e.collider.owner.name,"02")&&"MESH"!=this.cultname(e.collider.owner.name)&&"fangkuai"!=this.cultname(e.collider.owner.name,"0")||e.collider.owner.haveactive&&Math.abs(this.nodes.transform.position.y-e.point.y-this.nodes.transform.localScaleY/2)>.15&&(this.nodes.transform.position.y=e.point.y+this.nodes.transform.localScaleY/2+.1)};if(o(this.hitResult));else if(this.checkresult.succeeded)n(this.checkresult);else if(a.x+=.3,a.z+=.3,this.Mainscenesp.gamescene.physicsSimulation.raycastFromTo(a,new Laya.Vector3(this.nodes.transform.position.x+.15,this.nodes.transform.position.y-3.5,this.nodes.transform.position.z+.15),this.checkresult2),this.checkresult2.succeeded)n(this.checkresult2);else{if(!this.Mainscenesp.havestart)return;this.Mainscenesp.havestart=!1,this.Mainscenesp.conbox.meshRenderer.material.albedoColor=this.lastcolor,this.Mainscenesp.playsound("fall.ogg"),console.log("输了"),this.anmantor.crossFade("ANIM_Char_Idlewalk",.4,0),this.Mainscenesp.fuhuochance>=1?this.Mainscenesp.pausegame():this.Mainscenesp.losegame()}}hitcube(){this.hitcotime+=1,this.Mainscenesp.gameuicontrosp.setjindu(this.hitcotime)}cultname(e,a){let t=e.split("_");return a&&(t=e.split(a)),t[0]}changecolroand(e,a){this.rigid.gravity=new Laya.Vector3(0,-10,0),"Cube"!=this.cultname(this.Mainscenesp.conbox.name,"02")&&"MESH"!=this.cultname(this.Mainscenesp.conbox.name)||(this.Mainscenesp.conbox.meshRenderer.material.albedoColor=this.lastcolor),this.Mainscenesp.conbox=e.owner,this.lastcolor=e.owner.meshRenderer.material.albedoColor,"Cube"!=this.cultname(this.Mainscenesp.conbox.name,"02")&&"MESH"!=this.cultname(this.Mainscenesp.conbox.name)||(e.owner.meshRenderer.material.albedoColor=new Laya.Vector4(5/255,226/255,1,1))}newbolk(e,a,t){this.Mainscenesp.conbox&&(this.Mainscenesp.cubeback(this.Mainscenesp.conbox.parent),this.lastcolor||(console.log("初次赋值"),this.lastcolor=this.Mainscenesp.conbox.meshRenderer.material.albedoColor),a?this.changecolroand(e,a):this.changecolroand(e),this.Mainscenesp.readtomove&&(t||this.Mainscenesp.countrota(1,23,3,4,!0)))}}class p extends Laya.Script{constructor(){super(),this.intType=1e3,this.numType=1e3,this.strType="hello laya",this.boolType=!0}onAwake(){this.mainsp=H.mainsp}onEnable(){}onDisable(){}move(e,a){1==e?this.moveby(a,e):2==e?this.moveby(a,e):this.rotateby(a)}moveby(e,a){let t,o=.015;t=1==a?()=>{this.mainsp.havestart&&(e.transform.localPositionZ+=o,e.transform.localPositionZ>.45?(e.transform.localPositionZ=.45,o=-o):e.transform.localPositionZ<-.45&&(e.transform.localPositionZ=-.45,o=-o))}:()=>{this.mainsp.havestart&&(e.transform.localPositionX+=o,e.transform.localPositionX>.45?(e.transform.localPositionX=.45,o=-o):e.transform.localPositionX<-.45&&(e.transform.localPositionX=-.45,o=-o))},Laya.timer.loop(30,this,t)}rotateby(e){Laya.timer.loop(30,this,()=>{this.mainsp.havestart&&(e.transform.localRotationEulerY-=120/(1e3/30))})}onDestroy(){Laya.timer.clearAll(this)}}class y extends Laya.Script{constructor(){super(),this.intType=1e3,this.numType=1e3,this.strType="hello laya",this.boolType=!0,this.loaded=!1,this.dir=1,this.pos={up:4,y:.5},this.lastpos=new Laya.Vector3(0,0,0),this.leavedata={leave1:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"Cube02",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"MESH_O",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"MESH_T",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave2:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"Cube02",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"Cube02",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"MESH_U",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"Cube02",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave3:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"MESH_O",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"Cube02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"MESH_U",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave4:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai04",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"Cube02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"MESH_T",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"Cube02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai01",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave5:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"fangkuai04",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"Cube02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"MESH_O",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"Cube02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"MESH_U",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave6:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"MESH_U",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"fangkuai02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"fangkuai01",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_T",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave7:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_O",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai03",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"fangkuai02",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"MESH_U",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"MESH_H",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave8:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_H",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai01",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"MESH_T",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai02",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"MESH_U",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"Cube02",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"MESH_U",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave9:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai09",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai03",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"Cube02",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai04",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"MESH_T",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai02",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave10:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai03",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"Cube02",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"MESH_H",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai04",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"Cube02",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai01",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_O",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"Cube02",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_H",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai02",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave11:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_O",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"Cube02",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai04",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai02",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"MESH_H",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_T",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai04",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"MESH_T",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave12:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"MESH_H",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"MESH_U",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"MESH_O",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"Cube02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai04",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai08",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_U",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"Cube02",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave13:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"Cube02",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"Cube02",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"MESH_U",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"Cube02",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"Cube02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"MESH_O",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"Cube02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave14:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_U",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"fangkuai01",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"MESH_H",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"MESH_T",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"MESH_T",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"fangkuai04",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"fangkuai03",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"fangkuai09",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai04",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"fangkuai03",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave15:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai03",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai04",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai04",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"Cube02",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai09",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"fangkuai07",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai03",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"fangkuai03",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave16:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai03",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"MESH_U",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"MESH_T",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai04",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"MESH_H",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_U",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"fangkuai07",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai03",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"MESH_U",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai09",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"Cube02",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"MESH_T",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave17:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai03",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"MESH_U",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai04",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai07",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai03",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai05",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_O",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai09",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai04",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai08",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"MESH_H",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_O",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"MESH_U",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave18:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai03",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai04",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"MESH_U",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai07",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"Cube02",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai03",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai04",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai09",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai05",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_H",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai08",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave19:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"MESH_U",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai07",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai04",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_T",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"MESH_O",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai06",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai02",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"MESH_L",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai07",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"MESH_T",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai08",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai04",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"MESH_U",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"MESH_U",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave20:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"MESH_U",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai07",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"MESH_U",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai04",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai06",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_H",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_O",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai08",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave21:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"MESH_T",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_H",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"fangkuai05",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"fangkuai04",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"fangkuai06",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"fangkuai04",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_U",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"MESH_U",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"fangkuai08",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"MESH_H",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave22:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"fangkuai03",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"Cube02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"fangkuai04",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"MESH_U",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"MESH_H",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_O",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"fangkuai05",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"fangkuai06",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_H",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"fangkuai08",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"MESH_T",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai04",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"fangkuai01",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave23:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai03",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"Cube02",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai04",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"fangkuai06",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"fangkuai05",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai08",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"fangkuai04",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai01",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave24:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"MESH_U",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"Cube02",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai04",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"MESH_O",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"fangkuai05",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai04",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"MESH_H",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai01",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"fangkuai03",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave25:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai04",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"MESH_H",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"Cube02",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai01",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_U",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai05",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"MESH_O",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"MESH_T",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_H",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai04",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"Cube02",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai03",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"MESH_O",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai07",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave26:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_T",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai04",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai01",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"Cube02",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai03",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai05",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai06",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai07",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai04",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"Cube02",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_U",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"MESH_T",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave27:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai04",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"MESH_H",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai01",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai05",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai07",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_U",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai06",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai04",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"Cube02",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"MESH_H",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai03",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai06",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_O",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave28:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_H",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai07",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai03",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai06",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"Cube02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_U",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"MESH_H",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai08",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_O",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai05",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"MESH_H",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave29:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"Cube02",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"fangkuai07",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai05",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"MESH_T",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"MESH_U",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"MESH_H",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"fangkuai07",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"fangkuai03",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"fangkuai06",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"Cube02",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"fangkuai09",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave30:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"Cube02",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai09",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"MESH_O",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"fangkuai05",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"fangkuai07",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"fangkuai04",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"Cube02",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"fangkuai06",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"MESH_U",color:new Laya.Vector4(.4627451,.6039216,.9803922,1)},{name:"MESH_U",color:new Laya.Vector4(.345098,.4313726,.7647059,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave31:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_U",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"Cube02",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"fangkuai03",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"MESH_O",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"fangkuai06",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai07",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai05",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai04",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"Cube02",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"Cube02",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai08",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai08",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"MESH_O",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai06",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"Cube02",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave32:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_H",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai02",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"fangkuai09",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai05",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"MESH_U",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai01",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"Cube02",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai01",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"fangkuai05",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai04",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"MESH_T",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"MESH_H",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai05",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"MESH_U",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"MESH_H",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"MESH_O",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"fangkuai05",color:new Laya.Vector4(.8313726,.5372549,.4509804,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_H",color:new Laya.Vector4(.5490196,.2705882,.2862745,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave33:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_O",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"MESH_T",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai07",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"MESH_O",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_O",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"MESH_T",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"fangkuai01",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai04",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"MESH_U",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave34:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"MESH_U",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai07",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"Cube02",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai04",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai04",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai05",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"Cube02",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"MESH_T",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_O",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"MESH_U",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai02",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"Cube02",color:new Laya.Vector4(.2,.4980392,.3568628,1)},{name:"fangkuai04",color:new Laya.Vector4(.2901961,.7058824,.4235294,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave35:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_H",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"MESH_O",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai06",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"Cube02",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai03",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_T",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"Cube02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai02",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai05",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"Cube02",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"MESH_H",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"Cube02",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai04",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai09",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}],leave36:[{name:"Cube02",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"MESH_O",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai03",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai09",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"Cube02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"MESH_T",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai03",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"Cube02",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai08",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"fangkuai03",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"MESH_H",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"Cube02",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"Cube02",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhuanpan",color:new Laya.Vector4(.8196079,.2901961,.3137255,1)},{name:"fangkuai03",color:new Laya.Vector4(.9647059,.3921569,.7882353,1)},{name:"fangkuai09",color:new Laya.Vector4(.6235294,.3803922,.8784314,1)},{name:"zhongdian",color:new Laya.Vector4(1,1,1,1)}]},this.leave=1,this.useleave=1,this.cubepoop=[],this.cubeinitinfo=[],this.jun=1,this.have=0,this.all=0,this.bgcolor=[{R:239,G:209,B:185},{R:176,G:232,B:145},{R:178,G:167,B:245},{R:190,G:208,B:248}]}onAwake(){this.Mainscenesp=H.mainsp,this.ep=this.Mainscenesp.gamescene.getChildAt(5),this.createlayer=this.Mainscenesp.gamescene.getChildAt(3),this.norcube=this.ep.getChildAt(1),this.zhongdian=this.ep.getChildAt(3),this.zhuanpan=this.ep.getChildAt(2),this.meshs=this.ep.getChildAt(4),this.fangkuais=this.ep.getChildAt(5),this.baoshi=this.ep.getChildAt(0),this.baoshi.getChildAt(0).meshRenderer.castShadow=!0;let e=Number(Laya.LocalStorage.getItem("leave"));e&&(console.log("有过游戏记录！！！",e),this.useleave=e,this.leave=e)}cultnameandreturncube(e){let a,t=(a,t)=>{let o;return o=e.split(a),t?o[1]:o[0]};return"Cube02"==e?a=this.norcube:"zhuanpan"==e?a=this.zhuanpan:"fangkuai"==t("0")?a=this.fangkuais.getChildAt(Number(t("0",!0))-1):"MESH"==t("_")?a=this.meshs.getChildByName(e):"zhongdian"==e&&(a=this.zhongdian),a}addcubecon(e){let a;if("fangkuai"==(a=e.name.split("0"))[0]){let t=e.addComponent(p);"1"==a[1]||"9"==a[1]?1==this.dir||3==this.dir?t.move(1,e.getChildAt(0).getChildAt(0)):t.move(2,e.getChildAt(0).getChildAt(0)):"8"!=a[1]&&"7"!=a[1]||t.move(3,e.getChildAt(0).getChildAt(0))}}createcube(e,a){console.log("创建",this.useleave);let t=Number(Laya.LocalStorage.getItem("leave"));if(t&&(a||(this.useleave=t)),!this.leavedata["leave"+this.useleave])return this.useleave=Math.ceil(36*Math.random()),this.createcube(e,!0),void console.log("没有这个等级下一个");this.initcube(!0),this.initrandowcreate();for(const e in this.leavedata["leave"+this.useleave]){let a=this.leavedata["leave"+this.useleave][e],t=this.cultnameandreturncube(a.name);t.getChildAt(0).meshRenderer.receiveShadow=!0;let n=this.lastpos.x,i=this.lastpos.y,s=this.lastpos.z,r=Laya.Sprite3D.instantiate(t,this.createlayer,!1,new Laya.Vector3(n,i,s));if("0"==e&&(this.Mainscenesp.conbox=r.getChildAt(0),this.Mainscenesp.playersp.lastcolor=a.color),r.transform.localRotationEulerY=90,console.log(r.transform.localPosition," this.conbox Y "+r.transform.localRotationEulerY),this.addcubecon(r),a.color){let e=r.getChildAt(0);if(e.meshRenderer.receiveShadow=!0,e.meshRenderer.material.albedoColor=a.color,"fangkuai01"==a.name||"fangkuai02"==a.name||"fangkuai03"==a.name||"fangkuai04"==a.name||"fangkuai05"==a.name||"fangkuai06"==a.name||"fangkuai09"==a.name)for(var o=0;o<e.numChildren;o++){e.getChildAt(o).meshRenderer.castShadow=!0}else if("fangkuai07"==a.name||"fangkuai08"==a.name){e.getChildAt(0).getChildAt(0).meshRenderer.castShadow=!0}}this.savecubeinfo(r),"0"!=e&&"zhongdian"!=a.name&&"MESH_T"!=a.name&&"zhuanpan"!=a.name&&this.have<this.all&&this.create(this.jun,r)}e()}initrandowcreate(){this.have=0;let e=10+Math.ceil(5*Math.random());this.all=e;let a=0;for(const e in this.leavedata["leave"+this.useleave]){let t=this.leavedata["leave"+this.useleave][e].name;"zhongdian"!=t&&"MESH_T"!=t&&"zhuanpan"!=t&&a++}a--,this.jun=e/a,this.jun=Number(this.jun.toFixed(0)),this.jun<1?this.jun=1:this.jun>4&&(this.jun=4)}create(e,a){let t=1.5,o=[{x:-t,y:t,use:!1},{x:t,y:-t,use:!1},{x:t,y:t,use:!1},{x:-t,y:-t,use:!1}],n=[{x:-1,y:1,use:!1},{x:-1,y:-1,use:!1},{x:1,y:1,use:!1},{x:1,y:-1,use:!1},{x:0,y:0,use:!1},{x:0,y:t,use:!1},{x:t,y:0,use:!1},{x:0,y:-t,use:!1},{x:-t,y:0,use:!1}],i=e=>{let a,t;return e?(t=n,a=Math.floor(8.99*Math.random())):(t=o,a=Math.floor(3.99*Math.random())),t[a].use?e?i(e):i():(t[a].use=!0,t[a])};for(let t=0;t<e;t++){let e;e="Cube02"==a.name||"fangkuai09"==a.name||"fangkuai01"==a.name||"fangkuai07"==a.name||"fangkuai08"==a.name?i(!0):i();let t=Laya.Sprite3D.instantiate(this.baoshi,a,!1,new Laya.Vector3(0,1,0));t.transform.localPositionX=e.x,t.transform.localPositionY=1,t.transform.localPositionZ=e.y,t.transform.localRotationEulerX=-90,t.getChildAt(0).meshRenderer.castShadow=!0,t.getChildAt(1).active=!1,this.have++}}savecubeinfo(e){"zhuanpan"==e.name&&(this.dir-=1,this.dir<1&&(this.dir=4)),1==this.dir?this.lastpos.x-=this.pos.up:2==this.dir?this.lastpos.z-=this.pos.up:3==this.dir?this.lastpos.x+=this.pos.up:4==this.dir&&(this.lastpos.z+=this.pos.up),this.lastpos.y-=this.pos.y,this.cubepoop.push(e);let a={x:e.transform.localPositionX,y:e.transform.localPositionY,z:e.transform.localPositionZ};this.cubeinitinfo.push(a)}initcube(e,a){if(console.log("初始化"),this.Mainscenesp.gameuicontrosp.nextleave(this.leave,this.leavedata["leave"+this.useleave].length),this.lastpos=new Laya.Vector3(0,0,0),this.dir=1,e){for(const e in this.cubepoop)this.cubepoop[e].destroy();let e=(this.leave+1)/2%4;console.log(e),e=Math.floor(e),console.log("用的是第",e),this.Mainscenesp.Maincam.clearColor=new Laya.Vector4(this.bgcolor[e].R/255,this.bgcolor[e].G/255,this.bgcolor[e].B/255,1),this.cubepoop=[],this.cubeinitinfo=[]}else for(const e in this.cubepoop){this.cubepoop[e].transform.localPositionX=this.cubeinitinfo[e].x,this.cubepoop[e].transform.localPositionY=this.cubeinitinfo[e].y,this.cubepoop[e].transform.localPositionZ=this.cubeinitinfo[e].z,this.cubepoop[e].transform.localRotationEulerY=90,this.cubepoop[e].haveactive=!1;let a=this.cubepoop[e]._children;for(const e in a)if("Cylinder001"==a[e].name){a[e].haveactive=!1;let t=a[e].getChildAt(0),o=t.meshRenderer.material.albedoColor;o.w=1,t.meshRenderer.material.albedoColor=o,t.active=!0,a[e].getChildAt(1).active=!1}}a&&a()}onEnable(){}onDisable(){}}class m extends Laya.Script{constructor(){super(),this.intType=1e3,this.numType=1e3,this.strType="hello laya",this.boolType=!0}static btnsave(e,a){if(e.btnsaveclicked)return!1;let t=600;return a&&(t=a),e.btnsaveclicked=!0,setTimeout(()=>{e.btnsaveclicked=!1},t),!0}static btnmove(e,a,t,o,n,i,s){e.pivotX!=e.width/2&&(e.pivotX=e.width/2,e.pivotY=e.height/2,e.x+=e.width/2,e.y+=e.height/2);let r="on";o&&(r="once"),e[r](Laya.Event.MOUSE_DOWN,e,t=>{t.stopPropagation(),e.havescale||(e.havescale=!0,Laya.Tween.clearTween(e),Laya.Tween.to(e,{scaleX:1.15,scaleY:1.15},a,Laya.Ease.cubicOut,Laya.Handler.create(this,()=>{})))}),e[r](Laya.Event.MOUSE_UP,e,o=>{o.stopPropagation(),e.havescale&&(e.havescale=!1,Laya.Tween.clearTween(e),Laya.Tween.to(e,{scaleX:1,scaleY:1},a,Laya.Ease.cubicIn,Laya.Handler.create(this,()=>{})),n?i?this.btnsave(e,i)&&t(o):this.btnsave(e)&&t(o):t(o))}),e[r](Laya.Event.MOUSE_OUT,e,t=>{t.stopPropagation(),e.havescale&&(e.havescale=!1,Laya.Tween.clearTween(e),Laya.Tween.to(e,{scaleX:1,scaleY:1},a,Laya.Ease.cubicIn,Laya.Handler.create(this,()=>{})))})}static moveby(e,a,t,o){let n=a.x+e.x,i=a.y+e.y;Laya.Tween.to(a,{x:n,y:i},t,Laya.Ease.circIn,Laya.Handler.create(this,()=>{o&&o()}))}static fadeto(e,a,t,o){Laya.Tween.to(a,{alpha:e},t,Laya.Ease.circIn,Laya.Handler.create(this,()=>{o&&o()}))}static getsrcchangepic(e,a){var t=e;a.graphics.clear();Laya.loader.getRes(t);a.loadImage(t)}}class u{static refresh_tippy_Ad(e){}static getADV_tippy_s(e,a,t,o){}static reportUser_tippy_Click(e){}static getRandomAD_tippy_PosID(){return u.AdLocationids[Math.floor(Math.random()*u.AdLocationids.length)]}static re_tippy_quest(e){}static getAdPos_tippy_Data(e,a){}static reqUser_tippy_Click(e,a,t){}static getADV_tippy_Data(e,a,t){}static Random_tippy_Jump(e=1){}static isNeed_tippy_ShowAd(){return!0}}u.mainUrl="",u.getAdPostion="",u.getAdv="",u.userClick="",u.LoopAdLocationID=98,u.BannerAdLocationID=100,u.InsertAdLocationID=99,u.AniAdLocationID=108,u.UseRandomAdPos=!0,u.AdLocationids=[98,99],u._adPosition={},u._adv={},u._iphoneIgnoreAppIds=["","",""];class w{static wxLogin(e,a){Laya.Browser.onMiniGame&&Laya.Browser.window.wx.login({success:a=>{if(a.code){let t=a.code;e(t),console.log("登陆成功,获取到code : "+t)}}})}static onRewardedVideoAdLoad(){console.log("激励视频 广告加载完成")}static onRewardedVideoAdError(e){console.log("激励视频 广告加载失败"+e),w._onRewardedVideoAdFailed&&w._onRewardedVideoAdFailed()}static onRewardedVideoAdClose(e){e&&e.isEnded||null==e?(console.log("激励视频 已完整观看"),w._onRewardedVideoAdClose&&w._onRewardedVideoAdClose(!0)):(console.log("激励视频 未完整观看"),w._onRewardedVideoAdClose&&w._onRewardedVideoAdClose(!1))}static regRewardedVideoAdEvent(e){e.onLoad(w.onRewardedVideoAdLoad),e.onError(w.onRewardedVideoAdError),e.onClose(w.onRewardedVideoAdClose),w._isRegRewardedVideoAdEvent=!0}static showRewardedVideoAd(e,a){if(Laya.Browser.onMiniGame){w._onRewardedVideoAdClose=e,w._onRewardedVideoAdFailed=a;var t=Laya.Browser.window.wx.createRewardedVideoAd({adUnitId:w.adUnitId});w._isRegRewardedVideoAdEvent||w.regRewardedVideoAdEvent(t),t.load().then(()=>{var e=t.show();e.then(()=>console.log("激励视频 广告显示成功")),e.catch(e=>{t.load().then(()=>t.show()).catch(e=>{console.log("激励视频 广告显示失败"),a&&a()})})}).catch(e=>{console.log("激励视频 广告加载失败"),a&&a()})}else e(!0)}static navigateToMiniProgram(e,a,t,o,n){Laya.Browser.onMiniGame&&(console.log("跳转游戏： "+e),Laya.Browser.window.wx.navigateToMiniProgram({appId:e,path:a,extraData:{foo:"bar"},envVersion:"release",success(e){t&&t(e)},fail(e){o&&o(e)},complete(e){n&&n(e)}}))}static share(e,a,t){Laya.Browser.onMiniGame&&(w._onShow=(()=>{Laya.Browser.window.wx.offShow(w._onShow),w._onShow=null;Date.now(),this._lastShareTime;e&&(Date.now()-this._lastShareTime>2e3?e(!0):e(!1))}),Laya.Browser.window.wx.onShow(w._onShow),this._lastShareTime=Date.now(),Laya.Browser.window.wx.shareAppMessage({title:a,imageUrl:t}))}static showInterstitialAd(e,a){if(Laya.Browser.onMiniGame){var t=Laya.Browser.window.wx.createInterstitialAd({adUnitId:w.InsAdUnitId});t.onLoad(()=>{console.log("插屏广告 加载完成"),t.show().catch(e=>{console.log("插屏广告 显示失败 ："+e),a&&a()})}),t.onError(e=>{console.log("插屏广告 加载失败"+e),a&&a()}),t.onClose(()=>{console.log("插屏广告 关闭"),e&&e()})}else e()}static getLaunchOptionsSync(){if(Laya.Browser.onMiniGame){let e=Laya.Browser.window.wx.getLaunchOptionsSync();console.log("场景值 "+e.scene);let a=JSON.stringify(e.query);console.log("Query参数 "+a);let t=e.query.key;return console.log("Query参数：key "+t),console.log("ShareTicket "+e.shareTicket),console.log("ReferrerInfo.appId "+e.referrerInfo.appId),console.log("ReferrerInfo.extraData "+e.referrerInfo.extraData),e}return{scene:1001,query:"",shareTicket:"",appId:"",extraData:""}}static SetShareMenu(e,a,t,o,n){Laya.Browser.onMiniGame&&(console.log("小游戏设置转发按钮"),Laya.Browser.window.wx.showShareMenu({withShareTicket:!1,success:t,fail:o,complete:n}),Laya.Browser.window.wx.onShareAppMessage(function(){return{title:e,imageUrl:a}}))}}w.adUnitId="adunit-e20df20a923a2d81",w.bannerAdUnitId="adunit-3506d72c3074c591",w.InsAdUnitId="adunit-440e21cc02c0d282",w._isRegRewardedVideoAdEvent=!1,w._onRewardedVideoAdFailed=null,w._onRewardedVideoAdClose=null,w._onShow=null,w._lastShareTime=0,function(e){e.None="fea3123d149edac85b1c2a96bbf338f2",e.ReportAdClickSuccess="广告导出成功",e.ReportAdClickFail="广告导出失败"}(a||(a={}));class g{static aldSendOpenId(e){Laya.Browser.onMiniGame?(Laya.Browser.window.wx.aldSendOpenid(e),console.log("ALD 上报 openid : ",e)):Laya.Browser.onQQMiniGame&&(Laya.Browser.window.qq.aldSendOpenid(e),console.log("ALD 上报 openid : ",e))}static aldSend_tippy_Event(e,a){var t=e;Laya.Browser.onMiniGame?Laya.Browser.window.wx.aldSendEvent(t,a):Laya.Browser.onQQMiniGame&&Laya.Browser.window.qq.aldSendEvent(t,a)}static aldSendReport_tippy_AdClickSuccess(e){var t=a.ReportAdClickSuccess+" "+e.title+":"+String(e.appid);g.aldSend_tippy_Event(t,{"导出成功":e.title+":"+String(e.appid)})}static aldSendReportAd_tippy_ClickFail(e){var t=a.ReportAdClickFail+" "+e.title+":"+String(e.appid);g.aldSend_tippy_Event(t,{"导出失败":e.title+":"+String(e.appid)})}}class _{}_.AppID="",_.ResServer="",_.LocalTestReServer="subRes",_.Versions="0.0.0",_.onTTMiniGame=!1;class L{static get BannerInstance(){return this._banner}static Login(e,a){Laya.Browser.onQGMiniGame&&Laya.Browser.window.qg.login({success:a=>{let t=a.data.token;for(var o in e(t),console.log("OPPO 登陆成功,获取到 token : "+t),a)console.log(o,a[o])},fail:e=>{for(var a in console.log("OPPO 登陆失败",e),e)console.log(a,e[a])}})}static initAdService(e,a,t){Laya.Browser.window.qg.initAdService({appId:_.AppID,isDebug:!1,success:function(a){console.log("oppo initAdService success"),e&&e(a)},fail:function(e){console.log("oppo initAdService fail: ",e.code,e.msg),a&&a(e)},complete:function(e){console.log("oppo initAdService complete"),t&&t(e)}})}static showRewardedVideoAd(e,a){if(Laya.Browser.onQGMiniGame){var t=Laya.Browser.window.qg.createRewardedVideoAd({posId:L.adUnitId});t.onLoad(()=>{console.log("oppo 视频广告加载完成"),t.show()}),t.onVideoStart(()=>{console.log("oppo 视频广告开始播放")}),t.onClose(a=>{a.isEnded?(console.log("oppo 视频广告观看 完成"),e(!0)):(console.log("oppo 视频广告观看 未完成"),e(!1)),t.destroy()}),t.onError(e=>{console.log("oppo 视频广告获取失败",e),t.destroy(),a()}),t.load()}else e(!0)}static navigateToMiniProgram(e,a,t,o,n){Laya.Browser.onQGMiniGame&&(console.log("OPPO 跳转游戏： "+e),Laya.Browser.window.qg.navigateToMiniGame({pkgName:e,path:a,extraData:{from:_.AppID},envVersion:"release",success(e){t&&t(e)},fail(e){o&&o(e)},complete(e){n&&n(e)}}))}static showInterstitialAd(e,a){if(Laya.Browser.onQGMiniGame){var t=qg.createInsertAd({posId:L.InsAdUnitId});t.load(),t.onLoad(()=>{console.log("插屏广告加载完成"),t.show()}),t.onShow(()=>{console.log("插屏广告显示成功")}),t.onError(e=>{console.log("插屏广告拉取失败",e),t.destroy(),a&&a()})}else e()}static showBannaer(){if(L._banner)L._banner.show();else{var e=qg.createBannerAd({posId:L.bannerAdUnitId});e.show(),L._banner=e}}static hideBanner(){L._banner&&L._banner.hide()}static getLaunchOptionsSync(){return{}}static share(e,a,t){e(!1)}static createDesktopIcon(e,a){Laya.Browser.onQGMiniGame?Laya.Browser.window.qg.hasShortcutInstalled({success:function(t){0==t?Laya.Browser.window.qg.installShortcut({success:function(){e&&e()},fail:function(e){for(var t in a&&a(),console.log("创建桌面图标失败！！！！",e),e)console.log(t,e)},complete:function(){}}):(console.log("桌面图标已存在！！！！"),a&&a())},fail:function(e){for(var t in a&&a(),console.log("判断桌面图标是否存在失败！！！",e),e)console.log(t,e)},complete:function(){}}):a&&a()}}L.adUnitId="134292",L.bannerAdUnitId="134291",L.InsAdUnitId="134294",L.OpenScreenAdUnitId="134293",L._banner=null;class b{static Login(e,a){Laya.Browser.onQQMiniGame&&Laya.Browser.window.qq.login({success:a=>{if(a.code){let t=a.code;e(t),console.log("登陆成功,获取到code : "+t)}}})}static onRewardedVideoAdLoad(){console.log("激励视频 广告加载完成")}static onRewardedVideoAdError(e){console.log("激励视频 广告加载失败"+e),b._onRewardedVideoAdFailed&&b._onRewardedVideoAdFailed()}static onRewardedVideoAdClose(e){e&&e.isEnded||null==e?(console.log("激励视频 已完整观看"),b._onRewardedVideoAdClose&&b._onRewardedVideoAdClose(!0)):(console.log("激励视频 未完整观看"),b._onRewardedVideoAdClose&&b._onRewardedVideoAdClose(!1))}static regRewardedVideoAdEvent(e){e.onLoad(b.onRewardedVideoAdLoad),e.onError(b.onRewardedVideoAdError),e.onClose(b.onRewardedVideoAdClose),b._isRegRewardedVideoAdEvent=!0}static showRewardedVideoAd(e,a){if(Laya.Browser.onQQMiniGame){b._onRewardedVideoAdClose=e,b._onRewardedVideoAdFailed=a;var t=Laya.Browser.window.qq.createRewardedVideoAd({adUnitId:b.adUnitId});b._isRegRewardedVideoAdEvent||b.regRewardedVideoAdEvent(t),t.load().then(()=>{var e=t.show();e.then(()=>console.log("激励视频 广告显示成功")),e.catch(e=>{t.load().then(()=>t.show()).catch(e=>{console.log("激励视频 广告显示失败"),a&&a()})})}).catch(e=>{console.log("激励视频 广告加载失败"),a&&a()})}else e(!0)}static navigateToMiniProgram(e,a,t,o,n){Laya.Browser.onQQMiniGame&&(console.log("跳转游戏： "+e),Laya.Browser.window.qq.navigateToMiniProgram({appId:e,path:a,extraData:{foo:"bar"},envVersion:"release",success(e){t&&t(e)},fail(e){o&&o(e)},complete(e){n&&n(e)}}))}static share(e,a,t){Laya.Browser.onQQMiniGame&&(b._onShow=(()=>{Laya.Browser.window.qq.offShow(b._onShow),b._onShow=null;Date.now(),this._lastShareTime;e&&(Date.now()-this._lastShareTime>2e3?e(!0):e(!1))}),Laya.Browser.window.qq.onShow(b._onShow),this._lastShareTime=Date.now(),Laya.Browser.window.qq.shareAppMessage({title:a,imageUrl:t}))}static showInterstitialAd(e,a){if(Laya.Browser.onQQMiniGame){var t=Laya.Browser.window.qq.createInterstitialAd({adUnitId:b.InsAdUnitId});t.onLoad(()=>{console.log("插屏广告 加载完成"),t.show().catch(e=>{console.log("插屏广告 显示失败 ："+e),a&&a()})}),t.onError(e=>{console.log("插屏广告 加载失败"+e),a&&a()}),t.onClose(()=>{console.log("插屏广告 关闭"),e&&e()})}else e()}static LoadAppBoxAd(e,a){Laya.Browser.onQQMiniGame?(this.mAppboxAd=Laya.Browser.window.qq.createAppBox({adUnitId:b.AppBoxId}),this.mAppboxAd.load().then(()=>{console.log("盒子广告 加载完成")}),this.mAppboxAd.onError(e=>{console.log("盒子广告 加载失败"+e),a&&a()}),this.mAppboxAd.onClose(()=>{console.log("盒子广告 关闭"),e&&e()})):(console.log("不是的不打开"),e())}static showAppBoxAd(e){this.mAppboxAd?(console.log("显示盒子广告"),this.mAppboxAd.show().catch(a=>{console.log("盒子广告 显示失败 ："+a),e&&e()})):b.LoadAppBoxAd(e=>{},e=>{})}static getLaunchOptionsSync(){if(Laya.Browser.onQQMiniGame){let e=Laya.Browser.window.qq.getLaunchOptionsSync();console.log("场景值 "+e.scene);let a=JSON.stringify(e.query);console.log("Query参数 "+a);let t=e.query.key;return console.log("Query参数：key "+t),console.log("ShareTicket "+e.shareTicket),console.log("ReferrerInfo.appId "+e.referrerInfo.appId),console.log("ReferrerInfo.extraData "+e.referrerInfo.extraData),e}return{scene:1001,query:"",shareTicket:"",appId:"",extraData:""}}static SetShareMenu(e,a,t,o,n){Laya.Browser.onQQMiniGame&&(console.log("小游戏设置转发按钮"),Laya.Browser.window.qq.showShareMenu({withShareTicket:!1,success:t,fail:o,complete:n}),Laya.Browser.window.qq.onShareAppMessage(function(){return{title:e,imageUrl:a}}))}}b.adUnitId="95f8d1b6a8615a56daf1857dade41bba",b.bannerAdUnitId="8ce9707a6237587628ee26d39b8c42e8",b.InsAdUnitId="",b.AppBoxId="13f9b0c1167e5ca0a75b35b6634baffe",b._isRegRewardedVideoAdEvent=!1,b._onRewardedVideoAdFailed=null,b._onRewardedVideoAdClose=null,b._onShow=null,b._lastShareTime=0,b.mAppboxAd=null;class f extends Laya.Script{constructor(){super(...arguments),this.AdPosID=u.LoopAdLocationID,this._aniForward=!1,this._data=null,this._fontSize=25,this._originSize=1,this._originW=150,this._originH=150}onAwake(){this._ownerSprite=this.owner,this._displaySp=this.owner.getChildByName("Display"),this._originW=this._displaySp.width,this._originH=this._displaySp.height,this._disText=this.owner.getChildByName("TitelText"),this._disText.text="",this._fontSize=this._disText.fontSize,this._originSize=this._displaySp.scaleX,this.btn=this.owner.getChildByName("btngo1"),this.btn&&m.btnmove(this.btn,100,e=>{})}onEnable(){this.refresh_tippy_ADVDis(),Laya.timer.loop(3e3,this,this.refresh_tippy_ADVDis),this._ownerSprite.on(Laya.Event.CLICK,this,this.onSp_tippy_Click)}onDisable(){Laya.timer.clearAll(this),this._ownerSprite.off(Laya.Event.CLICK,this,this.onSp_tippy_Click)}refresh_tippy_ADVDis(){var e=this;u.getADV_tippy_s(this.AdPosID,a=>{if(e.owner&&!e.owner.destroyed)if(a&&a.length>0){e.owner.visible=!0;var t=a[Math.floor(Math.random()*a.length)];e._displaySp.loadImage(t.logo,Laya.Handler.create(e,function(){e._displaySp.destroyed||(e._displaySp.width=e._originW,e._displaySp.height=e._originH,e._displaySp.scale(e._originSize,e._originSize))}));var o=String(t.title),n=o.length,i=Math.floor(5/n*this._fontSize);e._disText.fontSize=i,e._disText.text=o,e._data=t,window.nulad=!1}else console.log("单个错误！！！！！！！！！！"),window.nulad=!0,Laya.timer.clearAll(this),e.owner.visible=!1})}onUpdate(){this.display_tippy_Ani()}display_tippy_Ani(){if(this._aniForward){e=this._displaySp.scaleX+Laya.timer.delta/3e3*1;e=Math.min(e,1*this._originSize),this._displaySp.scale(e,e),this._displaySp.scaleX>=this._originSize&&(this._aniForward=!1)}else{var e=this._displaySp.scaleX-Laya.timer.delta/3e3*1;e=Math.max(e,0),this._displaySp.scale(e,e),this._displaySp.scaleX<=.95*this._originSize&&(this._aniForward=!0)}}playsound(e){var a="subRes/music/"+e;if(Laya.Browser.onMiniGame){var t=Laya.Pool.getItem(e);null==t&&((t=wx.createInnerAudioContext()).src=a,t.onEnded(()=>{Laya.Pool.recover(e,t),t.offEnded()})),t.play()}else Laya.SoundManager.playSound(a,1)}onSp_tippy_Click(a){a.stopPropagation(),this.playsound("click.ogg");var t=this._data;t&&(console.log("跳转游戏： "+t.title),Laya.Browser.onMiniGame?w.navigateToMiniProgram(t.appid,t.url,e=>{console.log("跳转成功"),u.reportUser_tippy_Click(t.appid),g.aldSendReport_tippy_AdClickSuccess(t)},a=>{console.log("跳转失败"),n.ins_tippy_tance.dispatch(e.AD__tippy_OnShareAdFail),"navigateToMiniProgram:fail cancel"==a.errMsg&&(console.log("用户取消跳转"),R.cebian.move(1),g.aldSendReportAd_tippy_ClickFail(t))},e=>{console.log("跳转完成")}):Laya.Browser.onQGMiniGame?L.navigateToMiniProgram(t.appid,t.url,e=>{console.log("跳转成功"),u.reportUser_tippy_Click(t.appid)},a=>{console.log("跳转失败"),n.ins_tippy_tance.dispatch(e.AD__tippy_OnShareAdFail)},e=>{console.log("跳转完成")}):Laya.Browser.onQQMiniGame&&b.navigateToMiniProgram(t.appid,t.url,e=>{console.log("跳转成功"),u.reportUser_tippy_Click(t.appid)},a=>{console.log("跳转失败"),R.cebian.move(1),n.ins_tippy_tance.dispatch(e.AD__tippy_OnShareAdFail)},e=>{console.log("跳转完成")}))}static onSpClick(a){if(f.datas)if(1!=f.datas){var t=f.datas[Math.floor(Math.random()*f.datas.length)];t&&(console.log("跳转游戏： "+t.title),w.navigateToMiniProgram(t.appid,t.url,e=>{console.log("跳转成功"),u.reportUser_tippy_Click(t.appid),g.aldSendReport_tippy_AdClickSuccess(t)},o=>{console.log("跳转失败"),n.ins_tippy_tance.dispatch(e.AD__tippy_OnShareAdFail),"navigateToMiniProgram:fail cancel"==o.errMsg&&(a(),console.log("用户取消跳转"),g.aldSendReportAd_tippy_ClickFail(t))},e=>{console.log("跳转完成")}))}else setTimeout(()=>{f.onSpClick(a)},500)}}class V{}V.st_tippy_ate=4,V.game_tippy_id=57,V.server_tippy_Url="",V.Lo_tippy_gin="",V.Save_tippy_GameData="",V.Get_tippy_User="",V.Ip_tippy_Block="",V.version="1.0.0";class v{static _tippy_encrypt(e){return e}static _tippy_decrypt(e){return e}}v.KE_tippy_Y="b#63fFJ6AvkK3YT*",v.I_tippy_V="J$f4DU%sNL73M&Go";class C{constructor(){this.meth="post",this.url="",this.onSuccess=null,this.onFail=null,this.data={}}}class S{static re_tippy_quest(e){e.url.indexOf("https://")>-1||e.url.indexOf("http://")>-1?e.url=e.url:e.url=V.server_tippy_Url+e.url;var a=new Laya.HttpRequest;a.once(Laya.Event.COMPLETE,S,a=>{console.log(a,"http Success"),e.onSuccess&&e.onSuccess(a),e.onSuccess=null,e=null}),a.once(Laya.Event.ERROR,S,a=>{console.log(a,"http fail"),e.onFail&&e.onFail(a),e.onFail=null,e=null});JSON.stringify(e.data);Laya.Browser.onMiniGame||_.onTTMiniGame?e.data.code=i.co_tippy_de:Laya.Browser.onQGMiniGame?e.data.code=i.co_tippy_de:(Laya.Browser.onQQMiniGame,e.data.code=i.co_tippy_de);var t="time="+String(Date.now()),o=["Content-Type","application/json","state",V.st_tippy_ate,"gameid",V.game_tippy_id,"sign",v._tippy_encrypt(t)];i.tok_tippy_en&&(o.push("token"),o.push(i.tok_tippy_en)),a.send(e.url,JSON.stringify(e.data),e.meth,"json",o)}static lo_tippy_gin(e,a){var t=new C;t.url=V.Lo_tippy_gin,t.onSuccess=e,t.onFail=a,S.re_tippy_quest(t)}static saveGame_tippy_Data(e,a,t){var o=new C;o.url=V.Save_tippy_GameData,o.data.gameData=e,o.onSuccess=a,o.onFail=t,S.re_tippy_quest(o)}static get_tippy_GameData(e,a){var t=new C;t.url=V.Get_tippy_User,t.onSuccess=e,t.onFail=a,S.re_tippy_quest(t)}static GetIp_tippy_Block(e,a){if(-1!=V.game_tippy_id){var t=new C;t.url=V.Ip_tippy_Block,t.onSuccess=e,t.onFail=a,S.re_tippy_quest(t)}}}class k{constructor(){this.version="1.0.0",this.share_next=1,this.share_level=3,this.banner=0,this.wudian=0,this.wudianAvailableTime={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},this.mailiang=1,this.mailianglist=new Array,this.wxWuDianBanners=new Array,this.btnMoveTimer=1,this.bannerMoveTimer=.5,this.bannerFreshTimer=200,this.bannerCreateFailNum=3,this.bannerTodayBannerMax=10,this.adSwitch=1,this.wudianSceneList=new Array}get wudianTimeAvaliable(){return 1==this.wudianAvailableTime[(new Date).getHours()]}}class M{constructor(){this._da_tippy_ta=new Array}static get_tippy_Instance(){return null==M._ins_tippy_tance&&(M._ins_tippy_tance=M.lo_tippy_ad()),M._ins_tippy_tance}static lo_tippy_ad(){var e=new M,a=Laya.loader.getRes(_.ResServer+"/json/appswitch.json");if(a){for(var t=0;t<a.length;++t){var o=a[t],n=new k;n.version=String(o.version),n.share_next=Number(o.share_next),n.share_level=Number(o.share_level),n.banner=Number(o.banner),n.wudian=Number(o.wudian),n.wudianAvailableTime=Object(o.wudianTime),n.mailiang=Number(o.mailiang);var i=o.mailianglist;if(null!=i)for(var s=0;s<i.length;++s){var r=Number(i[s]);n.mailianglist.push(r)}var l=o.wxwudianbanners;if(null!=l)for(s=0;s<l.length;++s){var c=String(l[s]);n.wxWuDianBanners.push(c)}n.btnMoveTimer=Number(o.btnMoveTimer),n.bannerMoveTimer=Number(o.bannerMoveTimer),n.bannerCreateFailNum=Number(o.createFailNum),n.bannerFreshTimer=Number(o.bannerFreshTimer),n.bannerTodayBannerMax=Number(o.todayBannerMax),n.adSwitch=Number(o.adSwitch);var h=o.wudianSceneList;if(null!=h)for(s=0;s<h.length;++s){var d=Number(h[s]);n.wudianSceneList.push(d)}e._da_tippy_ta.push(n)}return e}return e._da_tippy_ta.push(new k),e}getAppSwitchData(){return this._da_tippy_ta[0]}}class B{static IpBlockFlag(){return B._ipBlockFlag}static UpdateIpBlockState(){S.GetIp_tippy_Block(function(e){console.log("调用IpBlock接口成功,结果为:",e),B._ipBlockFlag=e.code},null)}static GetIpBlocked(){return 0==B._ipBlockFlag}static GetEntryScene(){return 1006==w.getLaunchOptionsSync().scene}static IsSwitchOpen(){let e=1==M.get_tippy_Instance().getAppSwitchData().wudian,a=M.get_tippy_Instance().getAppSwitchData().wudianTimeAvaliable;return console.log("误点Flag状态: ","总开关:",e,"打开时间",a),e&&a}static get WudianFlag(){let e=1==M.get_tippy_Instance().getAppSwitchData().wudian,a=b.getLaunchOptionsSync().scene,t=!0;for(var o=M.get_tippy_Instance().getAppSwitchData().wudianSceneList,n=0;n<o.length;++n){a==o[n]&&(t=!1)}let i=M.get_tippy_Instance().getAppSwitchData().wudianTimeAvaliable,s=0==this._ipBlockFlag,r=M.get_tippy_Instance().getAppSwitchData().version==V.version;return console.log("误点Flag状态: ","总开关:",e,"场景进入",t,"IP未被屏蔽",s,"打开时间",i,"版本号:",r),console.log("----------------------------------------- version:"+M.get_tippy_Instance().getAppSwitchData().version),e&&t&&s&&i&&r}static get NoTimeWudianFlag(){let e=1==M.get_tippy_Instance().getAppSwitchData().wudian,a=1006!=w.getLaunchOptionsSync().scene,t=0==B._ipBlockFlag;return console.log("误点Flag状态: ","总开关:",e,"场景进入",a,"IP未被屏蔽"),e&&a&&t}}B._ipBlockFlag=-1;class A extends Laya.Script{constructor(){super(),this.intType=1e3,this.numType=1e3,this.strType="hello laya",this.boolType=!0,this.haveopen=!1,this.waking=!1}onAwake(){this.nodes=this.owner,console.log("复活layer"),this.getchild(),this.Mainscenesp=H.mainsp,this.uiconr=this.Mainscenesp.gameuicontrosp}wake(){this.waking||(this.waking=!0,setTimeout(()=>{setTimeout(()=>{this.haveopen=!0,this.waking=!1,this.down.bottom=350},500)},500))}getchild(){this.down=this.owner.getChildByName("down"),this.btnfuhuo=this.down.getChildByName("btnfuhuo"),this.btngiveup=this.down.getChildByName("btngiveup"),console.log("复活加载完"),this.movepos()}movepos(){Laya.stage.height}onEnable(){n.ins_tippy_tance.regEvemt(e.RewardVideoSuccess,this,this.onRewardVideoSuccess),n.ins_tippy_tance.regEvemt(e.RewardVideoFail,this,this.onRewardVideoFail)}onDisable(){n.ins_tippy_tance.removeEvent(e.RewardVideoSuccess,this,this.onRewardVideoSuccess),n.ins_tippy_tance.removeEvent(e.RewardVideoFail,this,this.onRewardVideoFail)}onRewardVideoFail(){}onRewardVideoSuccess(){A.isend=!1;var e=this;Laya.Tween.to(e.nodes,{alpha:0},500,null,Laya.Handler.create(e,()=>{e.nodes.visible=!1,e.Mainscenesp.fuhuo()}))}reflash(){B.WudianFlag?(this.down.bottom=0,this.haveopen=!1):this.down.bottom=350,A.isend=!0,this.nodes.visible=!0,this.nodes.alpha=1,this.setbtn(),this.uiconr||(this.uiconr=this.Mainscenesp.gameuicontrosp)}setbtn(){this.btnfuhuo||this.getchild(),m.btnmove(this.btnfuhuo,100,()=>{this.Mainscenesp.playsound("click.ogg"),m.btnsave(this.btnfuhuo,3e3);var e=this;Laya.Browser.onAndroid||Laya.Browser.onIOS?(c.CallNativeFunc("showRewardVideo"),l.instance.stop_tippy_BGM()):(A.isend=!1,Laya.Tween.to(e.nodes,{alpha:0},500,null,Laya.Handler.create(e,()=>{e.nodes.visible=!1,e.Mainscenesp.fuhuo()})))},!1),m.btnmove(this.btngiveup,100,()=>{this.Mainscenesp.playsound("click.ogg"),m.btnsave(this.btngiveup),!B.WudianFlag||this.haveopen?this.Mainscenesp.boxmove(1,()=>{this.Mainscenesp.initgame(!1,3),this.nodes.visible=!1}):this.wake()},!1)}}A.isend=!1;class E extends Laya.Script{constructor(){super(),this.intType=1e3,this.numType=1e3,this.strType="hello laya",this.boolType=!0,this.iswin=!1,this.clicked=!1,this.haveopen=!1,this.waking=!1}onAwake(){this.gameUI=H.mainsp,this.uiconr=this.gameUI.gameuicontrosp,this.nodes=this.owner,this.getchild(),this.setbtn()}onStart(){this.btndouw.visible=!0}btnsave(e){if(this.clicked)return;let a=600;e&&(a=e),this.clicked=!0,setTimeout(()=>{this.clicked=!1},a)}wake(){}setbtn(){m.btnmove(this.btnconti,100,()=>{this.gameUI.playsound("click.ogg"),this.btnsave(),A.isend=!1,this.gameUI.box.once(Laya.Event.MOUSE_DOWN,this,e=>{this.gameUI.startgame()}),this.uiconr||(this.uiconr=this.gameUI.gameuicontrosp),this.gameUI.box.getChildAt(0).visible=!0,this.gameUI.box.alpha=1,H.mainsp.addlayer(),Laya.Tween.to(this.nodes,{alpha:0},500,null,Laya.Handler.create(this,()=>{this.nodes.visible=!1}))},!1,!0),m.btnmove(this.btnback,100,()=>{this.gameUI.playsound("click.ogg"),this.btnsave(),A.isend=!1,this.gameUI.boxmove(1,()=>{this.nodes.visible=!1,this.uiconr||(this.uiconr=this.gameUI.gameuicontrosp),window.nulad?this.uiconr.mainlayersp.reflash():setTimeout(()=>{this.gameUI.boxmove(2,()=>{this.gameUI.box.getChildAt(0).visible=!0,this.gameUI.box.alpha=1})},100)})},!1,!0),m.btnmove(this.btndouw,100,()=>{console.log("双倍"),this.gameUI.playsound("click.ogg"),this.btnsave(3e3);if(Laya.Browser.onAndroid||Laya.Browser.onIOS)c.CallNativeFunc("showRewardVideo"),l.instance.stop_tippy_BGM();else{E.nexttime++,H.mainsp.addlayer(),this.zuanshifly();let e=Number(this.addzuan.value);this.uiconr||(this.uiconr=this.gameUI.gameuicontrosp);let a=Number(Laya.LocalStorage.getItem("allzuan"))+e;this.addzuan.value=2*e+"",this.allzuan.value=a+"",Laya.LocalStorage.setItem("allzuan",a+""),this.btndouw.visible=!1}},!1,!0)}zuanshifly(){for(let a=0;a<10;a++){let a=40*Math.random()-20+180,t=this.btndouw.x+(40*Math.random()-20),o=this.btndouw.y+(40*Math.random()-20);var e=new Laya.Sprite;e.pos(t,o),e.scale(.5,.5),this.createlayer.addChild(e),e.loadImage("subRes/gamezuanshi.png"),e.alpha=0,m.fadeto(1,e,200),Laya.Tween.to(e,{x:a,y:65},1e3,Laya.Ease.circOut,Laya.Handler.create(this,e=>{m.fadeto(0,e,200,()=>{e.destroy()})},[e]))}}getchild(){this.title=this.nodes.getChildByName("title"),this.level=this.nodes.getChildByName("level"),this.levelNum=this.level.getChildByName("levelText"),this.btndown=this.nodes.getChildByName("down"),this.btndouw=this.btndown.getChildByName("btndouzuan"),this.btnconti=this.btndown.getChildByName("btncontinue"),this.btnback=this.btndown.getChildByName("btnbacktomain"),this.allzuan=this.nodes.getChildByName("allzuan").getChildAt(0),this.addzuanbg=this.nodes.getChildByName("addzuan"),this.addzuan=this.addzuanbg.getChildAt(1),this.createlayer=this.nodes.getChildByName("createlayer"),this.movepos()}movepos(){}onEnable(){n.ins_tippy_tance.regEvemt(e.RewardVideoSuccess,this,this.onRewardVideoSuccess),n.ins_tippy_tance.regEvemt(e.RewardVideoFail,this,this.onRewardVideoFail)}onDisable(){n.ins_tippy_tance.removeEvent(e.RewardVideoSuccess,this,this.onRewardVideoSuccess),n.ins_tippy_tance.removeEvent(e.RewardVideoFail,this,this.onRewardVideoFail)}onRewardVideoFail(){}onRewardVideoSuccess(){E.nexttime++,H.mainsp.addlayer(),this.zuanshifly();let e=Number(this.addzuan.value);this.uiconr||(this.uiconr=this.gameUI.gameuicontrosp);let a=Number(Laya.LocalStorage.getItem("allzuan"))+e;this.addzuan.value=2*e+"",this.allzuan.value=a+"",Laya.LocalStorage.setItem("allzuan",a+""),this.btndouw.visible=!1}reflash(e,a,t,o,n){if(window.nulad&&(o=!0),this.gameUI.fuhuochance=1,this.iswin=e,this.levelNum.value=a,this.uiconr||(this.uiconr=this.gameUI.gameuicontrosp),B.WudianFlag?(this.btndown.bottom=0,this.haveopen=!1):this.btndown.bottom=300,e){this.gameUI.addboxlayer(),this.levelNum.value=Laya.LocalStorage.getItem("leave"),this.addzuanbg.visible=!0,this.addzuan.value=t+"",this.uiconr||(this.uiconr=this.gameUI.gameuicontrosp);let e=Number(t)+Number(Laya.LocalStorage.getItem("allzuan"));this.allzuan.value=e+"",Laya.LocalStorage.setItem("allzuan",e+""),A.isend=!1,this.btndouw.visible=!0}else{this.gameUI.addboxlayer(),this.levelNum.value=Laya.LocalStorage.getItem("leave"),A.isend=!0,this.btndouw.visible=!1,this.addzuanbg.visible=!1,this.allzuan.value=Laya.LocalStorage.getItem("allzuan");let e=0;100*Math.random()<=e&&f.onSpClick(()=>{}),console.log("失败打开！！！！")}if(!o)return n&&(A.isend=!0),void(this.uiconr&&(this.uiconr=this.gameUI.gameuicontrosp));this.nodes.alpha=1,this.nodes.visible=!0}show(){console.log("从更多过来打开!!!")}getsrcchangepic(e,a,t){if(t)this.levelNum.graphics.clear(),this.levelNum.skin=e;else{var o=e;Laya.loader.getRes(o);a.graphics.clear(),a.loadImage(o)}}}E.nexttime=0,function(e){e.None="",e.TipsView="View/TipsView.json",e.ClickGetPrize="View/ClickGetPrize.json",e.wudian="View/wudian.json"}(t||(t={}));class x{constructor(){this._views={}}open_tippy_View(e,a,t){if(this._views[e]){let o=this._views[e]._components,n=null;if(o)for(let e=0;e<o.length;e++){const t=o[e];if(t._viewBase){(n=t).openView(a);break}}t&&t(n)}else{var o=String(e),n=this;Laya.Scene.load(o,Laya.Handler.create(this,function(o){Laya.stage.addChild(o);var i=o;n._views[e]=i;let s=o._components,r=null;if(s)for(let t=0;t<s.length;t++){const o=s[t];if(o._viewBase){r=o,o._viewDef=e,r.openView(a);break}}t&&t(r)}))}}close_tippy_View(e){var a=this._views[e];if(a){let t=a._components;if(t)for(let e=0;e<t.length;e++){const a=t[e];if(a._viewBase){a.onClose();break}}a.removeSelf(),a.destroy(),this._views[e]=null}}Show_tippy_View(e){var a=this._views[e];if(a){let e=a._components;if(e)for(let a=0;a<e.length;a++){const t=e[a];if(t._viewBase){t.show();break}}}}hide_tippy_View(e){var a=this._views[e];if(a){let e=a._components;if(e)for(let a=0;a<e.length;a++){const t=e[a];if(t._viewBase){t.hide();break}}}}get_tippy_View(e){return this._views[e]}show_tippy_Tips(e){this.open_tippy_View(t.TipsView,e)}}x.insta_tippy_nce=new x;class T extends Laya.Script{constructor(){super(...arguments),this.onCloseEvent=null,this.onOpenEvent=null,this._viewBase=!0,this._viewDef=t.None,this._data={}}onAwake(){this.owner.autoDestroyAtClosed=!0,this.owner.height=Laya.stage.height}onEnable(){this.addEvent()}onDisable(){this.removeEvent()}onDestroy(){this.removeEvent()}openView(a){this._data=a,this.show(),n.ins_tippy_tance.dispatch(e.Game__tippy_OnViewOpen,{view:this._viewDef}),this.onOpenEvent&&this.onOpenEvent()}addEvent(){}removeEvent(){Laya.timer.clearAll(this)}closeView(){x.insta_tippy_nce.close_tippy_View(this._viewDef)}hide(){this.owner.visible=!1,this.onHide()}show(){this.owner.visible=!0,this.onShow()}viewIsHide(){return 0==this.owner.alpha}onHide(){}onShow(){}onClose(){Laya.timer.clearAll(this),Laya.Tween.clearAll(this),n.ins_tippy_tance.dispatch(e.Game__tippy_OnViewClose,{view:this._viewDef}),this.onCloseEvent&&this.onCloseEvent()}}class I extends T{constructor(){super(),this.clicked=!1,this.allzuann=0}onAwake(){console.log("这里"),this.gameUI=H.mainsp,this.uiconr=this.gameUI.gameuicontrosp,console.log("不是"),this.nodes=this.owner,this.getchild(),this.reflash(),this.setbtn(),this.setkongbai(),this.settalpha(),this.test()}onStart(){}test(){window.nulad?this.btnmorefun.visible=!1:this.btnmorefun.visible=!0,setTimeout(()=>{this.test()},300)}settalpha(){this.gameUI?this.gameUI.blackbox&&this.gameUI.loadread?(console.log("准备释放"),setTimeout(()=>{},1500)):setTimeout(()=>{this.settalpha()},100):(this.gameUI=H.mainsp,setTimeout(()=>{this.settalpha()},100))}btnsave(e){if(this.clicked)return;let a=600;e&&(a=e),this.clicked=!0,setTimeout(()=>{this.clicked=!1},a)}reflash(){this.nodes.visible=!0,I.onmain=!0;let e=Laya.LocalStorage.getItem("allzuan");e?(console.log("之前有钻石记录"),this.allzuann=Number(e),this.allzuan.value=e+""):(console.log("没有钻石记录？？？"),this.allzuan.value="0");let a=Laya.LocalStorage.getItem("leave");a?(console.log("有关卡记录"),this.guan.value=a+""):this.guan.value="1",setTimeout(()=>{this.gameUI.box.alpha=0,this.uiconr||(this.uiconr=this.gameUI.gameuicontrosp),this.uiconr.gameUI.alpha=0;let e=100*Math.random();console.log(e,0,"概率！！"),e<=0&&(console.log("概率到，弹出"),f.onSpClick(()=>{this.uiconr.cebianlayer.btnopen.alpha=0,this.uiconr.cebianlayer.spr.alpha=1,this.uiconr.cebianlayer.btnback.visible=!0,this.uiconr.cebianlayer.move(1)}))},200)}setkongbai(){console.log(this.nodes.hitArea,"趋势与vvv"),this.nodes.on(Laya.Event.CLICK,this,e=>{e.stopPropagation();let a=100*Math.random();console.log(a,0,"空白概率！！"),a<=0&&(console.log("概率到，弹出"),f.onSpClick(()=>{this.uiconr.cebianlayer.btnopen.alpha=0,this.uiconr.cebianlayer.spr.alpha=1,this.uiconr.cebianlayer.btnback.visible=!0,this.uiconr.cebianlayer.move(1)}))})}btnmove(){}setbtn(){this.btnplay.hitTestPrior=!0,this.btnmorefun.hitTestPrior=!0,this.btnmove(),this.btnplay.on(Laya.Event.CLICK,this.btnplay,e=>{this.gameUI.playsound("click.ogg"),e.stopPropagation(),this.btnsave(),this.gameUI.boxmove(1,()=>{this.nodes.visible=!1,this.gameUI.box.alpha=this.gameUI.boxalpha,H.mainsp.addlayer(),this.gameUI.startgame()},400)}),this.btnmorefun.on(Laya.Event.CLICK,this.btnmorefun,e=>{e.stopPropagation(),this.gameUI.playsound("click.ogg"),this.btnsave(),this.uiconr||(this.uiconr=this.gameUI.gameuicontrosp),this.uiconr.adlayersp.reflash()})}getchild(){this.allzuan=this.nodes.getChildByName("labbg").getChildAt(0),this.btnmorefun=this.nodes.getChildAt(2).getChildByName("btnmoregame"),this.btnplay=this.nodes.getChildAt(2).getChildByName("btngamestart"),this.guan=this.nodes.getChildByName("level").getChildByName("levelText"),this.box=this.nodes.getChildAt(0),console.log("主页加载完")}onEnable(){}onDisable(){}}I.onmain=!1;class R extends Laya.Script{constructor(){super(),this.intType=1e3,this.numType=1e3,this.strType="hello laya",this.boolType=!0,this.zuanshinum=0}onEnable(){}onDisable(){}onAwake(){this.getgameuichild()}getgameuichild(){R.manager=this,console.log("场景控制",this.owner),this.gameUI=this.owner.getChildAt(0).getChildByName("GameUI"),console.log("gameUI"),this.zuanshilab=this.gameUI.getChildAt(0).getChildAt(1).getChildAt(1),this.jindutiao=this.gameUI.getChildAt(0).getChildAt(2).getChildAt(0),this.setduiqi(this.gameUI,!0),this.setduiqi(this.owner.getChildAt(0).getChildByName("Mainscene"),!0),this.setduiqi(this.owner.getChildAt(0).getChildByName("fuhuolayer"),!0),this.setduiqi(this.owner.getChildAt(0).getChildByName("endlayer"),!0),this.loadinglayer=this.owner.getChildAt(0).getChildByName("loadinglayer"),this.setduiqi(this.loadinglayer,!0),this.mainlayersp=this.owner.getChildAt(0).getChildByName("Mainscene").addComponent(I),this.fuhuolayersp=this.owner.getChildAt(0).getChildByName("fuhuolayer").addComponent(A),this.endlayersp=this.owner.getChildAt(0).getChildByName("endlayer").addComponent(E)}showcebianbanner(){console.log("展示"),window.nulad}unshowcebianbanner(){console.log("影藏"),window.nulad}setduiqi(e,a,t){e&&(a?e.height=Laya.stage.height:(e.y=Laya.stage.height-e.height,console.log(e.y),t&&(e.y=Laya.stage.height-e.height-60)))}nextleave(e,a){this.allcube=a,this.zuanshinum=0,this.zuanshilab.value=this.zuanshinum+"",this.setjindu(0)}addzuanshi(){this.zuanshinum+=1,this.zuanshilab.value=this.zuanshinum+"",console.log("钻石数量",this.zuanshinum)}setjindu(e){let a=e/this.allcube;this.jindutiao.scaleX=a}backtoMainscene(){}}class z{static preloadBanner(){for(var e=M.get_tippy_Instance().getAppSwitchData().wxWuDianBanners,a=M.get_tippy_Instance().getAppSwitchData().bannerTodayBannerMax,t=new Array,o=0;o<e.length;++o)t.push(e[o]);if(t.length>a){var n=t.length-a;for(o=0;o<n;++o)t.splice(Math.floor(Math.random()*t.length),1)}console.log("开始预创建微信Bannaer",t),console.log("Bannaer 最大数限制 ：",a);var i=0;Laya.timer.loop(2e3,z._preLoopObj,()=>{if(Laya.Browser.onQQMiniGame&&(t.length=1),console.log("进入"),i>=t.length)return console.log("超数"),void Laya.timer.clearAll(z._preLoopObj);var e=t[i],a=z._bannerCache[e];null==a&&(console.log("有敌意"),null!=(a=z.create(e))&&(console.log("有敌意2"),z._bannerCache[e]=a,console.log("预创建微信Bannaer",e,"完成"))),++i})}static getBanner(e){if(null==e||""==e)return null;var a=z._bannerCache[e];return null==a&&null!=(a=z.create(e))&&(z._bannerCache[e]=a),a}static create(e){if(Laya.Browser.onQQMiniGame){var a=Laya.Browser.window.qq.getSystemInfoSync(),t=a.screenWidth,o=a.screenHeight,n=Laya.Browser.window.qq.createBannerAd({adUnitId:e,adIntervals:30,style:{left:0,top:(Laya.stage.height-240)/Laya.stage.height*o,width:t}});return n&&(n.onLoad(a=>{console.log("CachedWXBanner 广告 加载完成",e),console.log(a),setTimeout(()=>{z.show()},200)}),n.onError(a=>{console.log("CachedWXBanner 广告 加载失败",e),console.log(a)}),n.onResize(e=>{console.log(n.style.realWidth,n.style.realHeight)})),n}return null}static show(){null!=z._curBanner&&(z._curBanner.hide(),z._curBanner=null);var e=M.get_tippy_Instance().getAppSwitchData().wxWuDianBanners,a=e[Math.floor(Math.random()*e.length)],t=z.getBanner(a);if(t){z._curBanner=t;var o=Laya.Browser.window.qq.getSystemInfoSync(),n=(o.screenWidth,o.screenHeight);z._curBanner.style.top=(Laya.stage.height-240)/Laya.stage.height*n,z._curBanner.show(),console.log("CachedWXBanner 广告显示 bannerid ： ",a)}M.get_tippy_Instance().getAppSwitchData().bannerFreshTimer}static hide(){Laya.timer.clearAll(z),null!=z._curBanner&&(z._curBanner.hide(),z._curBanner=null),console.log("CachedWXBanner 广告隐藏")}static changeShow(){null!=z._curBanner&&(z._curBanner.hide(),z._curBanner=null),z.show()}static clear(){for(var e in Laya.timer.clearAll(z),z._bannerCache){var a=z._bannerCache[e];null!=a&&a.destroy(),z._bannerCache[e]=null}}}z._bannerCache={},z._curBanner=null,z._preLoopObj={};class U{constructor(){this.openBanner=1,this.openVideo=1,this.openInsert=1}static getInstance(){return null==U._instance&&(U._instance=new U),U._instance}static load(){U._instance=new U,""!=U.resUrl&&Laya.loader.load(U.resUrl,Laya.Handler.create(this,e=>{if(e){for(const a of Object.keys(e))U._instance[a]=e[a];U._instance.SetBannerActive()}U._instance.SetBannerActive()}))}hideBanner(){c.CallNativeFunc("hideBanner")}SetBannerActive(){1==this.openBanner?c.CallNativeFunc("showBanner"):c.CallNativeFunc("hideBanner")}}U.resUrl="";class H extends Laya.Script{constructor(){super(),this.fuhuochance=1,this.havestart=!1,this.havedid=!1,this.loadread=!1,this.bili={x:0,y:0},this.stop=!1,this.move=!1,this.needre=!1,this.boxalpha=1,this.iswin=!1,H._ins_tippy_tance=this}static getI_tippy_nstance(){return H._ins_tippy_tance}onAwake(){H.mainsp=this}onStart(){this.preCreate_tippy_Game()}preCreate_tippy_Game(){Laya.Browser.onQQMiniGame?this.UIlayer=Laya.stage.getChildByName("root"):this.UIlayer=Laya.stage.getChildAt(0),console.log(Laya.Browser.width,Laya.Browser.height,"物理"),console.log(Laya.Browser.clientWidth,Laya.Browser.clientHeight,"像素"),console.log(Laya.stage.height,Laya.stage.width),this.playmusic("bgmusic.ogg"),window.nulad=!0,this.stratgame(),U.getInstance().SetBannerActive()}playmusic(e){var a="subRes/music/"+e;Laya.Browser.onMiniGame?(this.bgm||(this.bgm=wx.createInnerAudioContext()),this.bgm.stop(),this.bgm.src=a,this.bgm.loop=!0,this.bgm.play()):Laya.SoundManager.playMusic(a,0)}playsound(e){var a="subRes/music/"+e;if(Laya.Browser.onMiniGame){var t=Laya.Pool.getItem(e);null==t&&((t=wx.createInnerAudioContext()).src=a,t.onEnded(()=>{Laya.Pool.recover(e,t),t.offEnded()})),t.play()}else Laya.SoundManager.playSound(a,1)}stratgame(){this.havedid?this.initgame(!1,1):(this.havedid=!0,console.log("开始场景加载"),Laya.Scene3D.load("subRes/LayaScene_MainScene/Conventional/MainScene.ls",Laya.Handler.create(this,e=>{console.log("场景ok"),this.gamescene=e,this.ligh=this.gamescene.getChildAt(2),this.ligh.shadowMode=Laya.ShadowMode.Hard,this.ligh.shadowDistance=20,this.ligh.shadowResolution=2400,this.createsp=this.gamescene.addComponent(y),console.log("加载完成"),Laya.stage.addChildAt(e,0),this.getchilds(),this.setcontro(),this.initgame(!1,1),this.loadread=!0,m.fadeto(0,this.gameuicontrosp.loadinglayer,500,()=>{this.gameuicontrosp.loadinglayer.visible=!1})})))}onLateUpdate(){}getchilds(){console.log("开始加载"),this.gameuicontrosp=this.UIlayer.addComponent(R),this.player=this.gamescene.getChildByName("Player"),this.playersp=this.player.addComponent(d),this.Maincam=this.gamescene.getChildByName("Main Camera"),this.Maincam.addComponent(s),this.touchplace=this.UIlayer.getChildAt(0).getChildByName("ctron"),this.cir=this.touchplace.getChildAt(0),this.bian=this.touchplace.getChildAt(1),this.box=this.UIlayer.getChildAt(0).getChildByName("box"),this.blackbox=this.UIlayer.getChildAt(0).getChildByName("blackbox"),console.log("gamemgr加载完"),this.box.alpha=0}addlayer(){if(B.WudianFlag){z.hide(),console.log("打开狂点");let e={Complete:function(){console.log("狂点按钮结束")},PrizeCount:30};setTimeout(()=>{x.insta_tippy_nce.open_tippy_View(t.ClickGetPrize,e)},100)}}addboxlayer(){if(B.WudianFlag){let e={Complete:function(){console.log("狂点盒子结束")},PrizeCount:30};x.insta_tippy_nce.open_tippy_View(t.wudian,e)}}setcontro(){this.UIlayer.getChildAt(0).on(Laya.Event.MOUSE_DOWN,this,e=>{this.havestart&&(this.touchplace.x=e.stageX,this.touchplace.y=e.stageY,this.readtomove=!0)}),this.UIlayer.getChildAt(0).on(Laya.Event.MOUSE_MOVE,this,e=>{this.havestart&&this.readtomove&&this.countrota(e.stageX,e.stageY,this.touchplace.x,this.touchplace.y)}),this.UIlayer.getChildAt(0).on(Laya.Event.MOUSE_UP,this,()=>{this.mouseup(),this.touchplace.x=375,this.touchplace.y=1e3})}mouseup(e){this.readtomove=!1,this.move=!1,this.cir.x=this.touchplace.width/2,this.cir.y=this.touchplace.height/2,e||this.cubeback(),this.bian.rotation=0,this.bili={x:0,y:0}}countrota(e,a,t,o,n){let i=this.conbox.parent,s=a-o,l=e-t,c=l,h=s;if(Math.pow(Math.pow(s,2)+Math.pow(l,2),.5)>128){let e=s/l,a=Math.pow(Math.pow(128,2)/(1+Math.pow(e,2)),.5),t=(a=l<0?-Math.abs(a):Math.abs(a))*e;0==a&&(t=s>0?128:-128),c=a,h=t}var d=Math.atan2(s,l)*(180/Math.PI);n||(this.cir.x=128+c,this.cir.y=128+h,this.bian.rotation=d+90);let p=c/128,y=h/128;if(p>1?p=1:p<-1&&(p=-1),y>1?y=1:y<-1&&(y=-1),n){if(this.playersp.isrotate)return;r.rotateto(!1,new Laya.Vector3(10*-this.bili.y,i.transform.localRotationEulerY,10*this.bili.x),this.conbox.parent,200,20),this.stop=!0,setTimeout(()=>{this.stop=!1},200)}else{if(this.bili.x=p,this.bili.y=y,this.playersp.isrotate)return;if(this.stop)return;let e,a=Math.abs(i.transform.localRotationEulerZ-10*p),t=Math.abs(i.transform.localRotationEulerX-10*-y),o=.2;0!=(e=a>t?a/o:t/o)&&Laya.Tween.clearAll(i.transform),this.move=!0}Math.abs(i.transform.localRotationEulerX)>10&&(i.transform.localRotationEulerX<0?i.transform.localRotationEulerX=-10:i.transform.localRotationEulerX=10),Math.abs(i.transform.localRotationEulerZ)>10&&(i.transform.localRotationEulerZ<0?i.transform.localRotationEulerZ=-10:i.transform.localRotationEulerZ=10)}movecube(){if(this.havestart&&this.readtomove&&!this.stop&&!this.playersp.isrotate&&this.move){let e=10,a=this.conbox.parent,t=a.transform.localRotationEulerZ-this.bili.x*e,o=a.transform.localRotationEulerX- -this.bili.y*e,n=10,i=n/Laya.timer.delta,s=n/Laya.timer.delta,r=.2;i=t>r?-n/Laya.timer.delta:t<-r?n/Laya.timer.delta:0,s=o>r?-n/Laya.timer.delta:o<-r?n/Laya.timer.delta:0,a.transform.localRotationEulerZ+i>e?a.transform.localRotationEulerZ=e:a.transform.localRotationEulerZ+=i,a.transform.localRotationEulerX+s>e?a.transform.localRotationEulerX=e:a.transform.localRotationEulerX+=s}}onUpdate(){this.movecube()}cubeback(e){let a,t,o=this.conbox.parent;if(this.conbox)if(a=o.transform.localRotationEulerX<0?1:-1,t=o.transform.localRotationEulerZ<0?1:-1,e){let o=(a,t)=>{e.transform.localRotationEulerX+=.5*a,e.transform.localRotationEulerZ+=.5*t;let n=!1;a>0?e.transform.localRotationEulerX>0&&(e.transform.localRotationEulerX=0,n?Laya.timer.clear(this,o):n=!0):e.transform.localRotationEulerX<0&&(e.transform.localRotationEulerX=0,n?Laya.timer.clear(this,o):n=!0),t>0?e.transform.localRotationEulerZ>0&&(e.transform.localRotationEulerZ=0,n?Laya.timer.clear(this,o):n=!0):e.transform.localRotationEulerZ<0&&(e.transform.localRotationEulerZ=0,n?Laya.timer.clear(this,o):n=!0)};Laya.timer.frameLoop(1,this,o,[a,t])}else Laya.timer.frameLoop(1,this,this.backfunc,[a,t])}backfunc(e,a){let t=this.conbox.parent;t.transform.localRotationEulerX+=.5*e,t.transform.localRotationEulerZ+=.5*a;let o=!1;e>0?t.transform.localRotationEulerX>0&&(t.transform.localRotationEulerX=0,o?Laya.timer.clear(this,this.backfunc):o=!0):t.transform.localRotationEulerX<0&&(t.transform.localRotationEulerX=0,o?Laya.timer.clear(this,this.backfunc):o=!0),a>0?t.transform.localRotationEulerZ>0&&(t.transform.localRotationEulerZ=0,o?Laya.timer.clear(this,this.backfunc):o=!0):t.transform.localRotationEulerZ<0&&(t.transform.localRotationEulerZ=0,o?Laya.timer.clear(this,this.backfunc):o=!0)}boxmove(e,a,t){let o=400;t&&(o=t),1==e?(this.blackbox.y=1700,Laya.Tween.to(this.blackbox,{y:0},o,Laya.Ease.circIn,Laya.Handler.create(this,()=>{a&&a()}))):(this.blackbox.y=0,Laya.Tween.to(this.blackbox,{y:-1700},o,Laya.Ease.circOut,Laya.Handler.create(this,()=>{a&&a()})))}startgame(){this.playersp.rigid.isKinematic=!1,this.playersp.rotateface(),this.havestart=!0,this.playersp.havein=!1,this.playersp.anmantor.play("ANIM_Char_Idlewalk"),this.playersp.anmantor.speed=1,this.touchplace.visible=!0,this.touchplace.alpha=1,this.box.alpha=0,this.gameuicontrosp.gameUI.alpha=1,this.gameuicontrosp.nextleave(Number(Laya.LocalStorage.getItem("leave")),11)}gamepause(){return!this.playersp.isrotate&&(window.nulad?void 0:(this.havestart&&(this.havestart=!1,this.needre=!0,this.touchplace.alpha=0),!0))}repause(){this.needre&&(this.needre=!1,this.havestart=!0,this.touchplace.alpha=1)}initgame(e,a,t,o){if(this.playerinitinfo&&this.playersp.initplace(),this.iswin=!1,this.playersp.hitcotime=0,this.havestart=!1,this.touchplace.alpha=0,this.readtomove=!1,this.cir.x=this.touchplace.width/2,this.cir.y=this.touchplace.height/2,this.touchplace.visible=!1,this.touchplace.x=375,this.touchplace.y=1e3,this.bian.rotation=0,this.bili={x:0,y:0},e){let e=this.createsp.leave,t=this.gameuicontrosp.zuanshinum;this.createsp.initcube(!1,()=>{if(setTimeout(()=>{this.boxmove(2,null)},200),1==a){this.box.getChildAt(0).visible=!0}else{this.box.getChildAt(0).visible=!1,2==a?this.gameuicontrosp.endlayersp.reflash(!0,e,t):3==a&&this.gameuicontrosp.endlayersp.reflash(!1,e)}})}else{this.fuhuochance=1;let e=this.createsp.leave,t=this.gameuicontrosp.zuanshinum;this.createsp.createcube(()=>{if(setTimeout(()=>{this.boxmove(2,null)},200),1==a){this.box.once(Laya.Event.MOUSE_DOWN,this,e=>{this.startgame()}),this.box.getChildAt(0).visible=!0}else{this.box.getChildAt(0).visible=!1,2==a?this.gameuicontrosp.endlayersp.reflash(!0,e,t):3==a&&this.gameuicontrosp.endlayersp.reflash(!1,e,t)}})}}losegame(){this.playsound("lose.ogg"),this.fuhuochance=1,this.boxmove(1,()=>{this.initgame(!0,3)}),this.cubeback(),this.havestart=!1,this.touchplace.alpha=0,this.readtomove=!1,this.cir.x=this.touchplace.width/2,this.cir.y=this.touchplace.height/2,this.touchplace.visible=!1,this.bian.rotation=0,this.bili={x:0,y:0}}pausegame(e){this.fuhuochance-=1,this.cubeback(),this.havestart=!1,this.touchplace.alpha=0,this.touchplace.visible=!1,this.readtomove=!1,this.cir.x=this.touchplace.width/2,this.cir.y=this.touchplace.height/2,this.bian.rotation=0,this.bili={x:0,y:0},this.boxmove(1,()=>{e||this.gameuicontrosp.fuhuolayersp.reflash(),this.playersp.initplace(!0),"zhuanpan"!=this.conbox.name&&(this.conbox.meshRenderer.material.albedoColor=new Laya.Vector4(0,165/255,223/255,1)),this.box.getChildAt(0).visible=!1,setTimeout(()=>{this.boxmove(2,null)},200)})}fuhuo(){this.box.alpha=this.boxalpha,this.touchplace.visible=!1,this.touchplace.x=375,this.touchplace.y=1e3,this.box.once(Laya.Event.MOUSE_DOWN,this,e=>{this.startgame()}),this.box.getChildAt(0).visible=!0}win(){this.addboxlayer(),setTimeout(()=>{this.boxmove(1,()=>{this.initgame(!1,2)})},2e3),this.playsound("win.ogg"),this.iswin=!0,this.createsp.leave+=1,Laya.LocalStorage.setItem("leave",this.createsp.leave),this.cubeback(),this.havestart=!1,this.touchplace.alpha=0,this.readtomove=!1,this.cir.x=this.touchplace.width/2,this.cir.y=this.touchplace.height/2,this.bian.rotation=0,this.bili={x:0,y:0}}saveGameData(){Laya.LocalStorage.setItem("Game_Data",i.getSave_tippy_Data())}}H._ins_tippy_tance=null,H.adinfo=[{banner:1,endpagepopup:0,morefunpopup:0,indexpopup:0,sanbeizuanshi:1}];class D extends T{constructor(){super()}onAwake(){this._bg=this.owner.getChildByName("Bg"),this._bg.x=Laya.stage.width/2-this._bg.width/2,this._tipsText=this._bg.getChildByName("Text")}openView(e){super.openView(e),this.setTipsMsg(e),Laya.timer.clearAll(this);var a=this;Laya.timer.once(3e3,this,function(){a.closeView()})}setTipsMsg(e){this._tipsText.text=e}}class P extends Laya.Script{constructor(){super(...arguments),this._data=null,this._originW=150,this._originH=150,this._fontSize=25}onAwake(){this._displaySp=this.owner.getChildByName("Display"),this._originW=this._displaySp.width,this._originH=this._displaySp.height,this._disText=this.owner.getChildByName("TitelText"),this._disText.text="",this._fontSize=this._disText.fontSize}onEnable(){this._displaySp.on(Laya.Event.CLICK,this,this.onSp_tippy_Click)}onDisable(){this._displaySp.off(Laya.Event.CLICK,this,this.onSp_tippy_Click)}set_tippy_Data(e){if(e){var a=this;this._displaySp.loadImage(e.logo,Laya.Handler.create(this,function(){a._displaySp.destroyed||(a._displaySp.width=a._originW,a._displaySp.height=a._originH)}));var t=String(e.title),o=t.length;o=Math.max(5,o);var n=Math.floor(5/o*this._fontSize);this._disText.fontSize=n,this._disText.text=t,this._data=e}}playsound(e){var a="subRes/music/"+e;if(Laya.Browser.onMiniGame){var t=Laya.Pool.getItem(e);null==t&&((t=wx.createInnerAudioContext()).src=a,t.onEnded(()=>{Laya.Pool.recover(e,t),t.offEnded()})),t.play()}else Laya.SoundManager.playSound(a,1)}onSp_tippy_Click(a){a.stopPropagation(),this.playsound("click.ogg");var t=this._data;t&&(console.log("跳转游戏： "+t.title),Laya.Browser.onMiniGame?w.navigateToMiniProgram(t.appid,t.url,e=>{console.log("跳转成功"),u.reportUser_tippy_Click(t.appid),g.aldSendReport_tippy_AdClickSuccess(t)},a=>{console.log("跳转失败"),n.ins_tippy_tance.dispatch(e.AD__tippy_OnShareAdFail),"navigateToMiniProgram:fail cancel"==a.errMsg&&(R.cebian.move(1),console.log("用户取消跳转"),g.aldSendReportAd_tippy_ClickFail(t))},e=>{console.log("跳转完成")}):Laya.Browser.onQGMiniGame?L.navigateToMiniProgram(t.appid,t.url,e=>{console.log("跳转成功"),u.reportUser_tippy_Click(t.appid)},a=>{console.log("跳转失败"),n.ins_tippy_tance.dispatch(e.AD__tippy_OnShareAdFail)},e=>{console.log("跳转完成")}):Laya.Browser.onQQMiniGame&&b.navigateToMiniProgram(t.appid,t.url,e=>{console.log("跳转成功"),u.reportUser_tippy_Click(t.appid)},a=>{console.log("跳转失败"),R.cebian.move(1),n.ins_tippy_tance.dispatch(e.AD__tippy_OnShareAdFail)},e=>{console.log("跳转完成")}))}}class N extends Laya.Script{constructor(){super(...arguments),this.AdPosID=u.LoopAdLocationID,this._scrollForward=!0}onAwake(){this._list=this.owner.getChildByName("List"),console.log("横向",this._list.itemRender),this._list.renderHandler=Laya.Handler.create(this,this.onList_tippy_Render,null,!1),this._list.hScrollBarSkin=""}onEnable(){var e=this;u.getADV_tippy_s(this.AdPosID,a=>{if(e.owner&&!e.owner.destroyed){if(a&&a.length>0&&a.length<50){for(var t=[],o=0,n=0;n<50;++n)o>=a.length&&(o=0),t.push(a[o]),++o;var i=a.length;for(n=0;n<t.length;++n){var s=Math.floor(n/i)*i,r=Math.floor(Math.random()*i)+s,l=t[n],c=t[r];t[r]=l,t[n]=c}this._list.array=t,window.nulad=!1}else this._list.array=a,console.log("横向错误！！！！！！！！！！"),window.nulad=!0,e.owner.visible=!1,Laya.timer.clearAll(this),e.owner.destroy();this._list.array=t}})}onDisable(){}onUpdate(){this._scrollForward?(this._list.scrollBar.value+=100*Laya.timer.delta/1e3,this._list.scrollBar.value>=this._list.scrollBar.max&&(this._scrollForward=!1)):(this._list.scrollBar.value-=100*Laya.timer.delta/1e3,this._list.scrollBar.value<=0&&(this._scrollForward=!0))}onList_tippy_Render(e,a){var t=this._list.array[a];e.getComponent(P).set_tippy_Data(t)}}class G extends Laya.Script{constructor(){super(...arguments),this.AdPosID=u.BannerAdLocationID,this._data=null,this._wxBanner=null}onAwake(){window.testbanner=!1,console.log("nanner"),this._displaySp=this.owner.getChildByName("Display"),null==this._displaySp&&(this._displaySp=this.owner),console.log(this._displaySp.localToGlobal(new Laya.Point(0,0)),"这是啥")}onEnable(){}createbanner(){if(!window.nulad){this._displaySp.on(Laya.Event.CLICK,this,this.onSpClick);var e=M.get_tippy_Instance().getAppSwitchData().banner;0==e?window.testbanner?this.refreshWXBanner():(this.refreshBannerDis(),Laya.timer.loop(3e3,this,this.refreshBannerDis)):1==e&&(window.testbanner?(this.refreshBannerDis(),Laya.timer.loop(3e3,this,this.refreshBannerDis)):this.refreshWXBanner())}}offbanner(){this._displaySp.off(Laya.Event.CLICK,this,this.onSpClick),this.clearWXBaner(),Laya.timer.clear(this,this.refreshBannerDis)}onDisable(){}refreshBannerDis(){var e=this;u.getADV_tippy_s(this.AdPosID,a=>{if(a&&a.length>0){var t=a[Math.floor(Math.random()*a.length)];e._displaySp.loadImage(t.logo,Laya.Handler.create(e,function(){e._displaySp.destroyed||(e._displaySp.width=750,e._displaySp.height=256)})),e._data=t,window.nulad=!1}else console.log("banner错误！！！！！！！！！！！！！"),window.nulad=!0,this.owner.visble=!1},!1)}playsound(e){var a="subRes/music/"+e;if(Laya.Browser.onMiniGame){var t=Laya.Pool.getItem(e);null==t&&((t=wx.createInnerAudioContext()).src=a,t.onEnded(()=>{Laya.Pool.recover(e,t),t.offEnded()})),t.play()}else Laya.SoundManager.playSound(a,1)}onSpClick(){var a=this._data;if(this.playsound("click.ogg"),a){console.log("跳转游戏： "+a.title),Laya.Browser.onMiniGame?w.navigateToMiniProgram(a.appid,a.url,e=>{console.log("跳转成功"),u.reportUser_tippy_Click(a.appid),g.aldSendReport_tippy_AdClickSuccess(a)},t=>{console.log("跳转失败"),n.ins_tippy_tance.dispatch(e.AD__tippy_OnShareAdFail),"navigateToMiniProgram:fail cancel"==t.errMsg&&(console.log("用户取消跳转"),g.aldSendReportAd_tippy_ClickFail(a))},e=>{console.log("跳转完成")}):Laya.Browser.onQGMiniGame?L.navigateToMiniProgram(a.appid,a.url,e=>{console.log("跳转成功"),u.reportUser_tippy_Click(a.appid)},a=>{console.log("跳转失败"),n.ins_tippy_tance.dispatch(e.AD__tippy_OnShareAdFail)},e=>{console.log("跳转完成")}):Laya.Browser.onQQMiniGame&&b.navigateToMiniProgram(a.appid,a.url,e=>{console.log("跳转成功"),u.reportUser_tippy_Click(a.appid)},a=>{console.log("跳转失败"),n.ins_tippy_tance.dispatch(e.AD__tippy_OnShareAdFail)},e=>{console.log("跳转完成")})}}refreshWXBanner(){if(Laya.Browser.onMiniGame&&this.owner.visible&&(this.clearWXBaner(),!window.nulad)){var e=this,a=Laya.Browser.window.wx.getSystemInfoSync(),t=a.screenWidth,o=a.screenHeight,n=this._displaySp.localToGlobal(new Laya.Point(0,0)),i=n.x/Laya.stage.width*t,s=(n.y-28)/Laya.stage.height*o,r=this.WXBannerWidth?this.WXBannerWidth/Laya.stage.width*t:t;console.log(s,"数值是"),this._wxBanner=Laya.Browser.window.wx.createBannerAd({adUnitId:w.bannerAdUnitId,adIntervals:30,style:{left:i,top:s,width:r}}),e._wxBanner.onLoad(e=>{console.log("WXBanner广告 加载完成"),console.log(e)}),this._wxBanner.onError(a=>{console.log("WXBanner广告 加载失败"),console.log(a),e.refreshBannerDis(),e.clearWXBaner()}),this._wxBanner.onResize(a=>{console.log(e._wxBanner.style.realWidth,e._wxBanner.style.realHeight)}),e._wxBanner.show()}}clearWXBaner(){this._wxBanner&&this._wxBanner.destroy(),this._wxBanner=null}onUpdate(){}}class O extends Laya.Script{onAwake(){this._ownerSprite=this.owner,this._autoZone=this._ownerSprite.getChildByName("AutoZone"),this._loopADZone=this._ownerSprite.getChildByName("LoopAD"),this._bannerADZone=this._ownerSprite.getChildByName("BannerAD"),this._bannerAd=this._bannerADZone.getComponent(G)}onEnable(){Laya.stage.width/Laya.stage.height<.5?(this._autoZone.bottom=this._loopADZone.height+this._bannerADZone.height,this._loopADZone.bottom=this._bannerADZone.height,this._bannerADZone.visible=!0):(this._autoZone.bottom=this._loopADZone.height,this._loopADZone.bottom=0,this._bannerADZone.visible=!1)}onDisable(){}onUpdate(){this._bannerADZone.visible||this._bannerAd.clearWXBaner()}}class F extends Laya.Script{constructor(){super(),this.TwinkleSpeed=1e3,this.TwinkleMinSize=.95,this.TwinkleMaxSize=1.05,this._aniForward=!1,this._fontSize=25,this._originSize=1}onAwake(){this._displaySp=this.owner,this._disText=this.owner.getChildByName("TitelText"),this._originSize=this._displaySp.scaleX,null!=this._disText&&(this._disText.text="",this._fontSize=this._disText.fontSize)}onEnable(){this._displaySp.scale(this._originSize,this._originSize)}onDisable(){}onUpdate(){this.displayAni()}displayAni(){if(this._aniForward){e=this._displaySp.scaleX+Laya.timer.delta/this.TwinkleSpeed;e=Math.min(e,this.TwinkleMaxSize*this._originSize),this._displaySp.scale(e,e),this._displaySp.scaleX>=this.TwinkleMaxSize*this._originSize&&(this._aniForward=!1)}else{var e=this._displaySp.scaleX-Laya.timer.delta/this.TwinkleSpeed;e=Math.max(e,this.TwinkleMinSize*this._originSize),this._displaySp.scale(e,e),this._displaySp.scaleX<=this.TwinkleMinSize*this._originSize&&(this._aniForward=!0)}}}class X extends T{constructor(){super(),this._totalClickTimer=22,this._needClickTime=10,this._bannerClickTime=4}onAwake(){this.drgon=this.owner.getChildByName("panch"),this._click_Btn=this.owner.getChildByName("Click_Btn"),this._click_Btn.on(Laya.Event.CLICK,this,this.ButtonClicked),this._arrow_Img=this._click_Btn.getChildByName("Arrow_Img"),this._bg=this.owner.getChildByName("BG"),this._open_Btn=this._bg.getChildByName("Open_Btn"),this._getPrize_View=this.owner.getChildByName("GetPrize_View"),this._prizeCount_Text=this._getPrize_View.getChildByName("PrizeCount_Text"),this._confirm_Btn=this._getPrize_View.getChildByName("Confirm_Btn"),this._getPrize_View.visible=!1,this._clickTime_PBar=this._bg.getChildByName("ClickTime_PBar"),this._clickTime_PBar$Bar=this._clickTime_PBar.getChildByName("ClickTime_PBar$Bar"),this._clickBarOriginalWidth=this._clickTime_PBar$Bar.width,this._bannerAd_View=this.owner.getChildByName("BannerAd_View"),this._clickTime_PBar$Bar.width=0,this._clickTime=0,this._totalClickTime=0}addEvent(){super.addEvent(),Laya.stage.on(Laya.Event.FOCUS_CHANGE,this,this.onFocusChange)}removeEvent(){super.removeEvent(),Laya.stage.off(Laya.Event.FOCUS_CHANGE,this,this.onFocusChange)}onUpdate(){if(this._arrowUp?(this._arrow_Img.top+=Laya.timer.delta/5,this._arrow_Img.top>-140&&(this._arrowUp=!1)):(this._arrow_Img.top-=Laya.timer.delta/5,this._arrow_Img.top<-180&&(this._arrowUp=!0)),!this._bannerClicked){let e=2+this._clickTime_PBar$Bar.width/this._clickBarOriginalWidth*6;this._clickTime_PBar$Bar.width>=e&&(this._clickTime_PBar$Bar.width-=e),this._clickTime_PBar$Bar.width/this._clickBarOriginalWidth+.1<this._clickTime/this._needClickTime&&this._clickTime--}}openView(e){this._compeletFunction=e.Complete,this._prizeCount=e.PrizeCount,super.openView(e)}OpenPrizeWindow(){this._bg.visible=!1;let e=this;this._prizeCount_Text.text=this._prizeCount.toString(),this._getPrize_View.visible=!0,this._confirm_Btn.once(Laya.Event.CLICK,this,function(){let a=Number(Laya.LocalStorage.getItem("allzuan"));a+=this._prizeCount,Laya.LocalStorage.setItem("allzuan",a+""),e._compeletFunction&&e._compeletFunction(),e.closeView()})}ShowBanner(){console.log("AD_WudianBanner_Show"),z.show()}ButtonClicked(){if(this._clickTime++,this._totalClickTime++,this.drgon.play(1,!1),this.drgon.once(Laya.Event.STOPPED,this,()=>{this.drgon.play(0,!0)}),this._clickTime>this._needClickTime&&(this._clickTime=this._needClickTime),this._clickTime>=this._bannerClickTime){if(this._clickTime>=this._needClickTime&&(this._clickTime=this._needClickTime-1),this._bannerClicked)return;this._bannerClicked=!0,console.log("误点Banner套路启动"),this.ShowBanner(),Laya.timer.once(2e3,this,function(){this.BannerClicked()})}else this._totalClickTime>this._totalClickTimer&&(console.log("用户一直没点到，放他一马",this._totalClickTime),this.BannerClicked());let e=this._clickTime/this._needClickTime*this._clickBarOriginalWidth;this._clickTime_PBar$Bar.width=e}BannerClicked(){n.ins_tippy_tance.dispatch(e.AD_WudianBanner_Hide),this._bannerClicked=!0,this._clickTime=this._needClickTime,this._clickTime_PBar$Bar.width=this._clickBarOriginalWidth,this._click_Btn.visible=!1,this._open_Btn.visible=!0,this.OpenPrizeWindow()}onDestroy(){super.onDestroy()}onFocusChange(){null!=this.drgon&&this.drgon.play(0,!0)}}class W extends T{constructor(){super(...arguments),this.moved=!1}onAwake(){this._bg=this.owner.getChildByName("Bg"),this._processBar=this._bg.getChildAt(0).getChildByName("processBar"),this.lab=this._processBar.getChildAt(1),this.blackbox=this.owner.getChildByName("blackbox")}onEnable(){super.onEnable()}addEvent(){super.addEvent()}removeEvent(){super.removeEvent()}onUpdate(){}setProcess(e){console.log("设置了么",e),e<0&&(e=0),e>1&&(e=1);var a=609*e;a<1&&(a=1),this._processBar.width=a,this.lab.value=(100*e).toFixed(0),1==e&&this.boxmove()}boxmove(){this.moved||(this.moved=!0,this.blackbox.y=-1700)}}class q extends T{constructor(){super(),this._totalClickTimer=22,this._needClickTime=10,this._bannerClickTime=4}onAwake(){this._click_Btn=this.owner.getChildByName("Click_Btn"),this._click_Btn.on(Laya.Event.CLICK,this,this.ButtonClicked),this._bg=this.owner.getChildByName("BG"),this._open_Btn=this._bg.getChildByName("Open_Btn"),this._getPrize_View=this.owner.getChildByName("GetPrize_View"),this._prizeCount_Text=this._getPrize_View.getChildByName("PrizeCount_Text"),this._confirm_Btn=this._getPrize_View.getChildByName("Confirm_Btn"),this._getPrize_View.visible=!1,this._clickTime_PBar=this._bg.getChildByName("ClickTime_PBar"),this._clickTime_PBar$Bar=this._clickTime_PBar.getChildByName("ClickTime_PBar$Bar"),this._clickBarOriginalWidth=this._clickTime_PBar$Bar.width,this._bannerAd_View=this.owner.getChildByName("BannerAd_View"),this._clickTime_PBar$Bar.width=0,this._clickTime=0,this._totalClickTime=0}onUpdate(){if(!this._bannerClicked){let e=2+this._clickTime_PBar$Bar.width/this._clickBarOriginalWidth*6;this._clickTime_PBar$Bar.width>=e&&(this._clickTime_PBar$Bar.width-=e),this._clickTime_PBar$Bar.width/this._clickBarOriginalWidth+.1<this._clickTime/this._needClickTime&&this._clickTime--}}openView(e){this._compeletFunction=e.Complete,this._prizeCount=e.PrizeCount,super.openView(e)}OpenPrizeWindow(){this._bg.visible=!1;let e=this;this._prizeCount_Text.text=this._prizeCount.toString(),this._getPrize_View.visible=!0,this._confirm_Btn.once(Laya.Event.CLICK,this,function(){let a=Number(Laya.LocalStorage.getItem("allzuan"));a+=this._prizeCount,Laya.LocalStorage.setItem("allzuan",a+""),e._compeletFunction&&e._compeletFunction(),e.closeView()})}openbox(){b.showAppBoxAd(()=>{console.log("打开失败")})}ButtonClicked(){this._clickTime++,this._totalClickTime++,this._clickTime>this._needClickTime&&(this._clickTime=this._needClickTime),this._clickTime>=this._bannerClickTime?(this._clickTime>=this._needClickTime&&(this._clickTime=this._needClickTime-1),this._bannerClicked=!0,console.log("误点Banner套路启动"),this.openbox(),Laya.timer.once(2e3,this,function(){this.BannerClicked()})):this._totalClickTime>this._totalClickTimer&&(console.log("用户一直没点到，放他一马",this._totalClickTime),this.BannerClicked());let e=this._clickTime/this._needClickTime*this._clickBarOriginalWidth;this._clickTime_PBar$Bar.width=e}BannerClicked(){n.ins_tippy_tance.dispatch(e.AD_WudianBanner_Hide),this._bannerClicked=!0,this._clickTime=this._needClickTime,this._clickTime_PBar$Bar.width=this._clickBarOriginalWidth,this._click_Btn.visible=!1,this._open_Btn.visible=!0,this.OpenPrizeWindow()}onDestroy(){super.onDestroy()}}class Q{constructor(){}static init(){var e=Laya.ClassUtils.regClass;e("Mgr/GameMgr.ts",H),e("View/TipsView/TipsView.ts",D),e("ShareAd/View/LoopAdBox.ts",P),e("ShareAd/View/HorizontalLoopAdView.ts",N),e("ShareAd/View/BannerAdView.ts",G),e("View/Common/UniversalBottomZone.ts",O),e("View/TwinkleSprite.ts",F),e("View/ClickGetPrize/ClickGetPrize.ts",X),e("View/LoadingView/LoadingView.ts",W),e("View/ClickGetPrize/wudian.ts",q)}}Q.width=750,Q.height=1334,Q.scaleMode="fixedwidth",Q.screenMode="vertical",Q.alignV="middle",Q.alignH="center",Q.startScene="subRes/View/GameMain.scene",Q.sceneRoot="",Q.debug=!1,Q.stat=!1,Q.physicsDebug=!1,Q.exportSceneToJson=!0,Q.init();var Z,Y=Laya.Scene,j=Laya.ClassUtils.regClass;!function(e){!function(e){class a extends Y{constructor(){super()}createChildren(){super.createChildren(),this.createView(a.uiView)}}a.uiView={type:"Scene",props:{width:750,top:0,right:0,left:0,height:1334,bottom:0},compId:2,child:[{type:"Box",props:{y:0,x:0,width:750,height:1700,bgColor:"#afe790"},compId:15},{type:"Clip",props:{top:360,skin:"Loading/loadingcold.png",right:0,name:"Bg"},compId:6,child:[{type:"Sprite",props:{y:720,x:-86,texture:"Loading/loadye.png"},compId:9,child:[{type:"Clip",props:{y:31,x:16,width:609,skin:"Loading/loadedg.png",pivotY:22,name:"processBar",height:37},compId:5,child:[{type:"Sprite",props:{y:2,x:225,texture:"Loading/Loadinglan.png"},compId:11},{type:"FontClip",props:{x:356,value:"0",spaceX:-5,skin:"Loading/numloadnum.png",sheet:"0123456789",centerY:2},compId:12,child:[{type:"Clip",props:{skin:"Loading/xx.png",right:-23},compId:14}]}]}]}]},{type:"Script",props:{y:0,x:0,runtime:"View/LoadingView/LoadingView.ts"},compId:7},{type:"Sprite",props:{y:130,x:104,texture:"Loading/logo.png"},compId:16},{type:"Box",props:{y:1700,width:750,name:"blackbox",height:1700,bgColor:"#000000"},compId:17}],loadList:["Loading/loadingcold.png","Loading/loadye.png","Loading/loadedg.png","Loading/Loadinglan.png","Loading/numloadnum.png","Loading/xx.png","Loading/logo.png"],loadList3D:[]},e.LoadingUI=a,j("ui.View.LoadingUI",a)}(e.View||(e.View={}))}(Z||(Z={}));class ${static ttLogin(e,a){_.onTTMiniGame&&Laya.Browser.window.tt.login({success:a=>{if(a.code){let t=a.code;e(t),console.log("登陆成功,获取到code : "+t)}}}),$.initRecord()}static onRewardedVideoAdLoad(){console.log("激励视频 广告加载完成")}static onRewardedVideoAdError(e){console.log("激励视频 广告加载失败"+e),$._onRewardedVideoAdFailed&&$._onRewardedVideoAdFailed()}static onRewardedVideoAdClose(e){e&&e.isEnded||null==e?(console.log("激励视频 已完整观看"),$._onRewardedVideoAdClose&&$._onRewardedVideoAdClose(!0)):(console.log("激励视频 未完整观看"),$._onRewardedVideoAdClose&&$._onRewardedVideoAdClose(!1))}static regRewardedVideoAdEvent(e){e.onLoad($.onRewardedVideoAdLoad),e.onError($.onRewardedVideoAdError),e.onClose($.onRewardedVideoAdClose),$._isRegRewardedVideoAdEvent=!0}static showRewardedVideoAd(e,a){if(_.onTTMiniGame){$._onRewardedVideoAdClose=e,$._onRewardedVideoAdFailed=a;var t=Laya.Browser.window.tt.createRewardedVideoAd({adUnitId:$.adUnitId});$._isRegRewardedVideoAdEvent||$.regRewardedVideoAdEvent(t),t.load().then(()=>{var e=t.show();e.then(()=>console.log("激励视频 广告显示成功")),e.catch(e=>{t.load().then(()=>t.show()).catch(e=>{console.log("激励视频 广告显示失败"),a&&a()})})}).catch(e=>{console.log("激励视频 广告加载失败"),a&&a()})}else e(!0)}static initRecord(){$.record=Laya.Browser.window.tt.getGameRecorderManager(),null!=$.record&&($.record.onStart(e=>{console.log("录屏开始"),$.recordRes=""}),$.record.onStop(e=>{console.log("录屏结束"),$.recordRes=e.videoPath}))}static startRecord(e=300){_.onTTMiniGame&&$.record.start({duration:e})}static stopRecord(){_.onTTMiniGame&&$.record.stop()}static shareRecord(e=null){_.onTTMiniGame&&(""!=$.recordRes?window.tt.shareAppMessage({channel:"video",extra:{videoPath:$.recordRes,videoTopics:["快来和我一起玩吧！"]},success(){null!=e&&e(),console.log("分享视频成功")},fail(e){console.log("分享视频失败")}}):console.log("分享视频为空"))}static share(e=null){_.onTTMiniGame&&window.tt.shareAppMessage({templateId:this._templateId,success(){null!=e&&e()},fail(){console.log("分享失败")}})}static showBanner(){}}$.adUnitId="",$.bannerAdUnitId="",$.InsAdUnitId="",$._templateId="",$.recordRes="",$._banner=null,$._isRegRewardedVideoAdEvent=!1,$._onRewardedVideoAdFailed=null,$._onRewardedVideoAdClose=null;new class{constructor(){this._loadingUI=null,this._loadingView=null,this._preLoadRes=new Array,Config.isAntialias=!0,window.Laya3D?Laya3D.init(Q.width,Q.height):Laya.init(Q.width,Q.height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=Q.scaleMode,Laya.stage.screenMode=Q.screenMode,Laya.stage.alignH=Q.alignH,Laya.stage.alignV=Q.alignV,Laya.URL.exportSceneToJson=Q.exportSceneToJson,(Q.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),Q.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),Q.stat&&Laya.Stat.show(),Laya.alertGlobalError(!0),1==_.onTTMiniGame&&(Laya.Browser.onMiniGame=!1),Laya.Browser.onMiniGame||Laya.Browser.onQGMiniGame||Laya.Browser.onQQMiniGame||_.onTTMiniGame||(_.ResServer=_.LocalTestReServer),Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}onConfigLoaded(){Laya.loader.maxLoader=50,this.initLoadingView(),window.base=Math.ceil(9e3*Math.random());var a=[{url:_.ResServer+"/json/appswitch.json",type:Laya.Loader.JSON}],t=this;Laya.loader.load(a,Laya.Handler.create(this,()=>{t.loadRes()})),n.ins_tippy_tance.regOnceEvent(e.App_CloseFirstLoadingView,this,this.closeloadingUI)}initLoadingView(){this._loadingUI=new Z.View.LoadingUI,Laya.stage.addChild(this._loadingUI),this._loadingUI.width=Laya.stage.width,this._loadingUI.height=Laya.stage.height,this._loadingView=this._loadingUI.getComponent(W),this._loadingView.setProcess(0)}postResToOpenDataContext(e){Laya.Browser.onMiniGame?(console.log("开始透传资源数据到开放域"),Laya.loader.load(["openRes/Rank.atlas"],Laya.Handler.create(null,function(){Laya.MiniAdpter.sendAtlasToOpenDataContext("openRes/Rank.atlas"),console.log("透传资源数据到开放域  完毕！！！"),e&&e()}))):e&&e()}preLoad(){this._preLoadRes.push({url:_.ResServer+"/json/appswitch.json",type:Laya.Loader.JSON})}loadRes(){this.preLoad();var e=this._preLoadRes,a=this;Laya.Browser.onMiniGame?Laya.Browser.window.wx.loadSubpackage({name:"subRes",success:t=>{e.length>0?Laya.loader.load(e,Laya.Handler.create(this,()=>{a.onLoadResComplate()}),Laya.Handler.create(this,e=>{a._loadingView.setProcess(e/2+.5)})):a.onLoadResComplate()},fail:e=>{this.loadRes()}}).onProgressUpdate(e=>{a._loadingView.setProcess(e/2)}):Laya.Browser.onQGMiniGame?Laya.Browser.window.qg.loadSubpackage({name:"subRes",success:t=>{e.length>0?Laya.loader.load(e,Laya.Handler.create(this,()=>{a.onLoadResComplate()}),Laya.Handler.create(this,e=>{a._loadingView.setProcess(e/2+.5)})):a.onLoadResComplate()},fail:e=>{this.loadRes()}}).onProgressUpdate(e=>{var t=e.progress;e.totalBytesWritten,e.totalBytesExpectedToWrite,a._loadingView.setProcess(t/2)}):Laya.Browser.onQQMiniGame?(console.log("开始加载?"),Laya.Browser.window.qq.loadSubpackage({name:"subRes",success:t=>{e.length>0?Laya.loader.load(e,Laya.Handler.create(this,()=>{a.onLoadResComplate()}),Laya.Handler.create(this,e=>{a._loadingView.setProcess(e/2+.5)})):a.onLoadResComplate()},fail:e=>{console.log(e),this.loadRes()}}).onProgressUpdate(e=>{a._loadingView.setProcess(e/2)})):e.length>0?Laya.loader.load(e,Laya.Handler.create(this,()=>{a.onLoadResComplate()}),Laya.Handler.create(this,e=>{a._loadingView.setProcess(e)})):a.onLoadResComplate()}onLoadResComplate(){var e=this;this._loadingView.setProcess(1),Laya.Browser.onMiniGame?w.wxLogin(function(a){i.co_tippy_de=a,S.lo_tippy_gin(a=>{1==a.code&&(console.log("登陆成功！！！"),i.tok_tippy_en=a.data.token,i.open_tippy_Id=a.data.openid,S.get_tippy_GameData(a=>{console.log("获取用户数据成功！！！"),1==a.code?i.initi_tippy_User(a.data):i.initi_tippy_User(null),Q.startScene&&Laya.Scene.open(Q.startScene,!1,Laya.Handler.create(this,function(){e._loadingUI.destroy()}))},a=>{console.log("获取用户数据失败！！！"),i.tok_tippy_en="",i.open_tippy_Id="",i.initi_tippy_User(null),Q.startScene&&Laya.Scene.open(Q.startScene,!1,Laya.Handler.create(this,function(){e._loadingUI.destroy()}))}))},a=>{console.log("登陆失败！！！"+a),i.initi_tippy_User(null),Q.startScene&&Laya.Scene.open(Q.startScene,!1,Laya.Handler.create(this,function(){e._loadingUI.destroy()}))})},null):Laya.Browser.onQGMiniGame?(L.initAdService(()=>{},()=>{},()=>{}),L.Login(function(e){i.co_tippy_de=e,S.lo_tippy_gin(e=>{1==e.code&&(console.log("登陆成功！！！"),i.tok_tippy_en=e.data.token,i.open_tippy_Id=e.data.openid,S.get_tippy_GameData(e=>{if(console.log("获取用户数据成功！！！"),1==e.code){for(var a in i.initi_tippy_User(e.data),console.log("获取用户数据--------------------Start"),e.data)console.log(a,e.data[a]);console.log("获取用户数据--------------------End")}else i.initi_tippy_User(null);Q.startScene&&Laya.Scene.open(Q.startScene,!1,Laya.Handler.create(this,function(){}))},e=>{console.log("获取用户数据失败！！！"),i.tok_tippy_en="",i.open_tippy_Id="",i.initi_tippy_User(null),Q.startScene&&Laya.Scene.open(Q.startScene,!1,Laya.Handler.create(this,function(){}))}))},e=>{console.log("登陆失败！！！",e),i.initi_tippy_User(null),Q.startScene&&Laya.Scene.open(Q.startScene,!1,Laya.Handler.create(this,function(){}))})},null)):Laya.Browser.onQQMiniGame?b.Login(function(a){i.co_tippy_de=a,S.lo_tippy_gin(a=>{1==a.code&&(console.log("登陆成功！！！"),i.tok_tippy_en=a.data.token,i.open_tippy_Id=a.data.openid,S.get_tippy_GameData(a=>{console.log("获取用户数据成功！！！"),1==a.code?i.initi_tippy_User(a.data):i.initi_tippy_User(null),Q.startScene&&Laya.Scene.open(Q.startScene,!1,Laya.Handler.create(this,function(){e._loadingUI.destroy()}))},a=>{console.log("获取用户数据失败！！！"),i.tok_tippy_en="",i.open_tippy_Id="",i.initi_tippy_User(null),Q.startScene&&Laya.Scene.open(Q.startScene,!1,Laya.Handler.create(this,function(){e._loadingUI.destroy()}))}))},a=>{console.log("登陆失败！！！"+a),i.initi_tippy_User(null),console.log("初始化完"),Q.startScene&&Laya.Scene.open(Q.startScene,!1,Laya.Handler.create(this,function(){console.log("打开主场景！！"),e._loadingUI.destroy()}))})},null):_.onTTMiniGame?$.ttLogin(function(e){i.co_tippy_de=e,S.lo_tippy_gin(e=>{1==e.code&&(console.log("登陆成功！！！"),i.tok_tippy_en=e.data.tok_tippy_en,i.open_tippy_Id=e.data.open_tippy_Id,S.get_tippy_GameData(e=>{console.log("获取用户数据成功！！！"),1==e.code?i.initi_tippy_User(e.data):i.initi_tippy_User(null),Q.startScene&&Laya.Scene.open(Q.startScene,!1,Laya.Handler.create(this,function(){}))},e=>{console.log("获取用户数据失败！！！"),i.tok_tippy_en="",i.open_tippy_Id="",i.initi_tippy_User(null),Q.startScene&&Laya.Scene.open(Q.startScene,!1,Laya.Handler.create(this,function(){}))}))},e=>{console.log("登陆失败！！！"+e),i.initi_tippy_User(null),Q.startScene&&Laya.Scene.open(Q.startScene,!1,Laya.Handler.create(this,function(){}))})},null):(i.testInit_tippy_User(),Q.startScene&&Laya.Scene.open(Q.startScene,!1,Laya.Handler.create(this,function(){e._loadingUI.destroy()})))}closeloadingUI(){this._loadingUI&&!this._loadingUI.destroyed&&this._loadingUI.destroy()}},Laya.Browser.window&&(Laya.Browser.window.NativeCallback=c)}();